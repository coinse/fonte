{"sha": "e42bae8066b0e7356c3a6e9592406230ade54a7b", "log": "make the code java 1.3 compatible  ", "commit": "\n--- a/src/java/org/apache/commons/math/MathException.java\n+++ b/src/java/org/apache/commons/math/MathException.java\n     }\n \n     /**\n+     * Builds a message string by from a pattern and its arguments.\n+     * @param pattern format specifier\n+     * @param arguments format arguments\n+     * @param locale Locale in which the message should be translated\n+     * @return a message string\n+     */\n+    private static String buildMessage(String pattern, Object[] arguments, Locale locale) {\n+        // do it the hard way, for Java 1.3. compatibility\n+        MessageFormat mf = new MessageFormat(translate(pattern, locale));\n+        mf.setLocale(locale);\n+        return mf.format(arguments);        \n+    }\n+\n+    /**\n      * Constructs a new <code>MathException</code> with no\n      * detail message.\n      */\n      * @param arguments format arguments\n      */\n     public MathException(String pattern, Object[] arguments) {\n-      super(new MessageFormat(pattern, Locale.US).format(arguments));\n+      super(buildMessage(pattern, arguments, Locale.US));\n       this.pattern   = pattern;\n       this.arguments = arguments;\n       this.rootCause = null;\n      *                   to be thrown.\n      */\n     public MathException(String pattern, Object[] arguments, Throwable rootCause) {\n-      super(new MessageFormat(pattern, Locale.US).format(arguments));\n+      super(buildMessage(pattern, arguments, Locale.US));\n       this.pattern   = pattern;\n       this.arguments = arguments;\n       this.rootCause = rootCause;\n      * @return localized message\n      */\n     public String getMessage(Locale locale) {\n-        if (pattern == null) {\n-            return null;\n-        }\n-        return new MessageFormat(translate(pattern, locale), locale).format(arguments);\n+        return (pattern == null) ? null : buildMessage(pattern, arguments, locale);\n     }\n \n     /**", "timestamp": 1172418487, "metainfo": ""}