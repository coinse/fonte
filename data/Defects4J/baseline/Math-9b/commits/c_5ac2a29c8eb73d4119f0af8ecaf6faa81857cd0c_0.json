{"sha": "5ac2a29c8eb73d4119f0af8ecaf6faa81857cd0c", "log": "Modified t-test procedures to allow samples as small as 2 observations. PR # 29050 Reported by: Joel Freyss   ", "commit": "\n--- a/src/java/org/apache/commons/math/stat/inference/TTest.java\n+++ b/src/java/org/apache/commons/math/stat/inference/TTest.java\n /**\n  * An interface for Student's t-tests.\n  * \n- * @version $Revision: 1.1 $ $Date: 2004/05/03 03:03:21 $ \n+ * @version $Revision: 1.2 $ $Date: 2004/05/23 05:04:48 $ \n  */\n public interface TTest {\n     /**\n      * <p>\n      * <strong>Preconditions</strong>: <ul>\n      * <li>The datasets described by the two Univariates must each contain\n-     * at least 5 observations.\n+     * at least 2 observations.\n      * </li>\n      * <li> <code> 0 < alpha < 0.5 </code>\n      * </li></ul>\n      * <a href=\"http://www.basic.nwu.edu/statguidefiles/sg_glos.html#one-sample\">here</a>\n      * <p>\n      * <strong>Preconditions</strong>: <ul>\n-     * <li>The sample must include at least 5 observations.\n+     * <li>The sample must include at least 2 observations.\n      * </li></ul>\n      *\n      * @param mu constant value to compare sample mean against\n      * <a href=\"http://www.basic.nwu.edu/statguidefiles/ttest_unpaired_ass_viol.html\">here</a>\n      * <p>\n      * <strong>Preconditions</strong>: <ul>\n-     * <li>The sample must contain at least 5 observations.\n+     * <li>The sample must contain at least 2 observations.\n      * </li></ul>\n      *\n      * @param mu constant value to compare sample mean against\n--- a/src/java/org/apache/commons/math/stat/inference/TTestImpl.java\n+++ b/src/java/org/apache/commons/math/stat/inference/TTestImpl.java\n /**\n  * Implements t-test statistics defined in the {@link TTest} interface.\n  *\n- * @version $Revision: 1.1 $ $Date: 2004/05/03 03:03:21 $\n+ * @version $Revision: 1.2 $ $Date: 2004/05/23 05:04:48 $\n  */\n public class TTestImpl implements TTest, Serializable {\n \n      * @param mu comparison constant\n      * @param observed array of values\n      * @return t statistic\n-     * @throws IllegalArgumentException if input array length is less than 5\n+     * @throws IllegalArgumentException if input array length is less than 2\n      */\n     public double t(double mu, double[] observed)\n     throws IllegalArgumentException {\n-        if ((observed == null) || (observed.length < 5)) {\n+        if ((observed == null) || (observed.length < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return t(StatUtils.mean(observed), mu, StatUtils.variance(observed), observed.length);\n     public double t(double[] sample1, double[] sample2)\n     throws IllegalArgumentException {\n         if ((sample1 == null) || (sample2 == null ||\n-                Math.min(sample1.length, sample2.length) < 5)) {\n+                Math.min(sample1.length, sample2.length) < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return t(StatUtils.mean(sample1), StatUtils.mean(sample2), StatUtils.variance(sample1),\n     public double tTest(double[] sample1, double[] sample2)\n     throws IllegalArgumentException, MathException {\n         if ((sample1 == null) || (sample2 == null ||\n-                Math.min(sample1.length, sample2.length) < 5)) {\n+                Math.min(sample1.length, sample2.length) < 2)) {\n             throw new IllegalArgumentException(\"insufficient data\");\n         }\n         return tTest(StatUtils.mean(sample1), StatUtils.mean(sample2), StatUtils.variance(sample1),\n      */\n     public double tTest(double mu, double[] sample)\n     throws IllegalArgumentException, MathException {\n-        if ((sample == null) || (sample.length < 5)) {\n+        if ((sample == null) || (sample.length < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return tTest( StatUtils.mean(sample), mu, StatUtils.variance(sample), sample.length);\n      */\n     public double t(double mu, StatisticalSummary sampleStats)\n     throws IllegalArgumentException {\n-        if ((sampleStats == null) || (sampleStats.getN() < 5)) {\n+        if ((sampleStats == null) || (sampleStats.getN() < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return t(sampleStats.getMean(), mu, sampleStats.getVariance(), sampleStats.getN());\n     throws IllegalArgumentException {\n         if ((sampleStats1 == null) ||\n                 (sampleStats2 == null ||\n-                        Math.min(sampleStats1.getN(), sampleStats2.getN()) < 5)) {\n+                        Math.min(sampleStats1.getN(), sampleStats2.getN()) < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return t(sampleStats1.getMean(), sampleStats2.getMean(), sampleStats1.getVariance(),\n     public double tTest(StatisticalSummary sampleStats1, StatisticalSummary sampleStats2)\n     throws IllegalArgumentException, MathException {\n         if ((sampleStats1 == null) || (sampleStats2 == null ||\n-                Math.min(sampleStats1.getN(), sampleStats2.getN()) < 5)) {\n+                Math.min(sampleStats1.getN(), sampleStats2.getN()) < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return tTest(sampleStats1.getMean(), sampleStats2.getMean(), sampleStats1.getVariance(),\n      */\n     public double tTest(double mu, StatisticalSummary sampleStats)\n     throws IllegalArgumentException, MathException {\n-        if ((sampleStats == null) || (sampleStats.getN() < 5)) {\n+        if ((sampleStats == null) || (sampleStats.getN() < 2)) {\n             throw new IllegalArgumentException(\"insufficient data for t statistic\");\n         }\n         return tTest(sampleStats.getMean(), mu, sampleStats.getVariance(), sampleStats.getN());", "timestamp": 1085288688, "metainfo": ""}