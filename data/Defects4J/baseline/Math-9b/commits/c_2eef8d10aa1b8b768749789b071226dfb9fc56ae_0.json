{"sha": "2eef8d10aa1b8b768749789b071226dfb9fc56ae", "log": "Implemented equals and hashcode, making summaries with identical statistics equal.   ", "commit": "\n--- a/src/java/org/apache/commons/math/stat/univariate/SummaryStatistics.java\n+++ b/src/java/org/apache/commons/math/stat/univariate/SummaryStatistics.java\n import java.io.Serializable;\n \n import org.apache.commons.discovery.tools.DiscoverClass;\n+import org.apache.commons.math.util.MathUtils;\n \n /**\n  * Abstract factory class for univariate statistical summaries.\n  * \n- * @version $Revision: 1.7 $ $Date: 2004/06/14 23:26:53 $\n+ * @version $Revision: 1.8 $ $Date: 2004/06/17 23:14:55 $\n  */\n public abstract class SummaryStatistics implements StatisticalSummary, Serializable {\n \n      * Resets all statistics\n      */\n     public abstract void clear();\n+    \n+    /**\n+     * Returns true iff <code>object</code> is a <code>SummaryStatistics</code>\n+     * instance and all statistics have the same values as this.\n+     *\n+     * @return true if object equals this\n+     */\n+    public boolean equals(Object object) {\n+        if (object == this ) {\n+            return true;\n+        }\n+        if (object instanceof SummaryStatistics == false) {\n+            return false;\n+        }\n+        SummaryStatistics stat = (SummaryStatistics) object;\n+        return (MathUtils.equals(stat.getGeometricMean(), \n+                this.getGeometricMean()) &&\n+                MathUtils.equals(stat.getMax(), this.getMax()) && \n+                MathUtils.equals(stat.getMean(),this.getMean()) &&\n+                MathUtils.equals(stat.getMin(),this.getMin()) &&\n+                MathUtils.equals(stat.getN(), this.getN()) &&\n+                MathUtils.equals(stat.getSum(), this.getSum()) &&\n+                MathUtils.equals(stat.getSumsq(),this.getSumsq()) &&\n+                MathUtils.equals(stat.getVariance(),this.getVariance()));\n+    }\n+    \n+    /**\n+     * Returns hash code based on values of statistics\n+     * \n+     * @return hash code\n+     */\n+    public int hashCode() {\n+        int result = 31 + MathUtils.hash(getGeometricMean());\n+        result = result * 31 + MathUtils.hash(getGeometricMean());\n+        result = result * 31 + MathUtils.hash(getMax());\n+        result = result * 31 + MathUtils.hash(getMean());\n+        result = result * 31 + MathUtils.hash(getMin());\n+        result = result * 31 + MathUtils.hash(getN());\n+        result = result * 31 + MathUtils.hash(getSum());\n+        result = result * 31 + MathUtils.hash(getSumsq());\n+        result = result * 31 + MathUtils.hash(getVariance());\n+        return result;\n+    }\n \n }", "timestamp": 1087514095, "metainfo": ""}