{"sha": "2fa4443189def2ba412c28fc6362bf9bd14425e6", "log": "Added test for consistency of cumulativeProbability(double,double) and cumulativeProbability(double).  Contributed by Christian Winter.  ", "commit": "\n--- a/src/test/java/org/apache/commons/math/distribution/ContinuousDistributionAbstractTest.java\n+++ b/src/test/java/org/apache/commons/math/distribution/ContinuousDistributionAbstractTest.java\n import org.apache.commons.math.TestUtils;\n import org.apache.commons.math.util.FastMath;\n import org.apache.commons.math.exception.MathIllegalArgumentException;\n+import org.apache.commons.math.exception.NumberIsTooLargeException;\n import org.junit.After;\n import org.junit.Assert;\n import org.junit.Before;\n      * using current test instance data\n      */\n     protected void verifyCumulativeProbabilities() throws Exception {\n+        // verify cumulativeProbability(double)\n         for (int i = 0; i < cumulativeTestPoints.length; i++) {\n             TestUtils.assertEquals(\"Incorrect cumulative probability value returned for \"\n                 + cumulativeTestPoints[i], cumulativeTestValues[i],\n                 distribution.cumulativeProbability(cumulativeTestPoints[i]),\n                 getTolerance());\n+        }\n+        // verify cumulativeProbability(double, double)\n+        for (int i = 0; i < cumulativeTestPoints.length; i++) {\n+            for (int j = 0; j < cumulativeTestPoints.length; j++) {\n+                if (cumulativeTestPoints[i] <= cumulativeTestPoints[j]) {\n+                    TestUtils.assertEquals(cumulativeTestValues[j] - cumulativeTestValues[i],\n+                        distribution.cumulativeProbability(cumulativeTestPoints[i], cumulativeTestPoints[j]),\n+                        getTolerance());\n+                } else {\n+                    try {\n+                        distribution.cumulativeProbability(cumulativeTestPoints[i], cumulativeTestPoints[j]);\n+                    } catch (NumberIsTooLargeException e) {\n+                        continue;\n+                    }\n+                    Assert.fail(\"distribution.cumulativeProbability(double, double) should have thrown an exception that second argument is too large\");\n+                }\n+            }\n         }\n     }\n ", "timestamp": 1316546459, "metainfo": ""}