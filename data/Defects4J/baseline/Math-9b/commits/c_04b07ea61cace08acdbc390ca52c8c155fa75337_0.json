{"sha": "04b07ea61cace08acdbc390ca52c8c155fa75337", "log": "In o.a.c.m3.special.Gamma, exposed the Lanczos approximation (MATH-753).   ", "commit": "\n--- a/src/main/java/org/apache/commons/math3/special/Gamma.java\n+++ b/src/main/java/org/apache/commons/math3/special/Gamma.java\n      * @since 2.0\n      */\n     public static final double GAMMA = 0.577215664901532860606512090082;\n+\n+    /**\n+     * The value of the {@code g} constant in the Lanczos approximation, see\n+     * {@link #lanczos(double)}.\n+     */\n+    public static final double LANCZOS_G = 607.0 / 128.0;\n+\n     /** Maximum allowed numerical error. */\n     private static final double DEFAULT_EPSILON = 10e-15;\n     /** Lanczos coefficients */\n             ret = Double.NaN;\n         } else {\n             double g = 607.0 / 128.0;\n-\n-            double sum = 0.0;\n-            for (int i = LANCZOS.length - 1; i > 0; --i) {\n-                sum = sum + (LANCZOS[i] / (x + i));\n-            }\n-            sum = sum + LANCZOS[0];\n-\n+            double sum = lanczos(x);\n             double tmp = x + g + .5;\n             ret = ((x + .5) * FastMath.log(tmp)) - tmp +\n                 HALF_LOG_2_PI + FastMath.log(sum / x);\n \n         return trigamma(x + 1) + 1 / (x * x);\n     }\n+\n+    /**\n+     * <p>\n+     * Returns the Lanczos approximation used to compute the gamma function.\n+     * The Lanczos approximation is related to the Gamma function by the\n+     * following equation\n+     * <center>\n+     * {@code gamma(x) = sqrt(2 * pi) / x * (x + g + 0.5) ^ (x + 0.5)\n+     *                   * exp(-x - g - 0.5) * lanczos(x)},\n+     * </center>\n+     * where {@code g} is a constant, returned by {@link #getLanczosG()}.\n+     * </p>\n+     *\n+     * @param x the argument\n+     * @return the Lanczos approximation\n+     * @see <a href=\"http://mathworld.wolfram.com/LanczosApproximation.html\">Lanczos Approximation</a>,\n+     * equations (1) through (5), and Paul Godfrey's\n+     * <a href=\"http://my.fit.edu/~gabdo/gamma.txt\">Note on the computation\n+     * of the convergent Lanczos complex Gamma approximation</a>\n+     */\n+    public static double lanczos(final double x) {\n+        double sum = 0.0;\n+        for (int i = LANCZOS.length - 1; i > 0; --i) {\n+            sum = sum + (LANCZOS[i] / (x + i));\n+        }\n+        return sum + LANCZOS[0];\n+    }\n }", "timestamp": 1336626481, "metainfo": ""}