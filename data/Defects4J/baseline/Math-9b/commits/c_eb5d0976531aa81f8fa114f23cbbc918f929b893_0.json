{"sha": "eb5d0976531aa81f8fa114f23cbbc918f929b893", "log": "Patch to correct error in matrix multiply  and the addition od toString method.   ", "commit": "\n--- a/src/java/org/apache/commons/math/linear/RealMatrixImpl.java\n+++ b/src/java/org/apache/commons/math/linear/RealMatrixImpl.java\n  * explicitly invoke <code>LUDecompose()</code> to recompute the decomposition\n  * before using any of the methods above.\n  *\n- * @version $Revision: 1.8 $ $Date: 2003/11/14 22:22:19 $\n+ * @version $Revision: 1.9 $ $Date: 2003/11/23 20:16:17 $\n  */\n public class RealMatrixImpl implements RealMatrix, Serializable {\n \n         }\n         return new RealMatrixImpl(outData);\n     }\n-    \n+\n     /**\n      * Returns the result postmultiplying this by <code>m</code>.\n      * @param m    matrix to postmultiply by\n             (\"Matrices are not multiplication compatible.\");\n         }\n         int nRows = this.getRowDimension();\n-        int nCols = this.getColumnDimension();\n+        int nCols = m.getColumnDimension();\n+        int nSum = this.getColumnDimension();\n         double[][] mData = m.getData();\n-        double[][] outData =\n-        new double[nRows][nCols];\n+        double[][] outData = new double[nRows][nCols];\n         double sum = 0;\n         for (int row = 0; row < nRows; row++) {\n             for (int col = 0; col < nCols; col++) {\n                 sum = 0;\n-                for (int i = 0; i < nCols; i++) {\n+                for (int i = 0; i < nSum; i++) {\n                     sum += data[row][i] * mData[i][col];\n                 }\n                 outData[row][col] = sum;\n         }\n     }\n     \n+    /**\n+     * \n+     * @see java.lang.Object#toString()\n+     */\n+    public String toString() {\n+        StringBuffer res = new StringBuffer();\n+        res.append(\"RealMatrixImpl{\");\n+        for (int i=0; i<data.length; i++)  {\n+            if (i>0) res.append(\",\");\n+            res.append(\"{\");\n+            for (int j=0; j<data[0].length; j++) {\n+                if (j>0) res.append(\",\");\n+                res.append(data[i][j]);\n+            }//for\n+            res.append(\"}\");\n+        }//for\n+        res.append(\"}\");\n+        return res.toString();\n+    }//toString\n+    \n     //------------------------ Protected methods\n     \n     /**", "timestamp": 1069618577, "metainfo": ""}