{"sha": "4ac4786444aea48ad4936f031d2f2a82dda1d7a7", "log": "Replaced low-accuracy textbook comparison values with values from R.   ", "commit": "\n--- a/src/test/org/apache/commons/math/stat/TestStatisticTest.java\n+++ b/src/test/org/apache/commons/math/stat/TestStatisticTest.java\n /**\n  * Test cases for the TestStatistic class.\n  *\n- * @version $Revision: 1.12 $ $Date: 2004/03/07 20:47:06 $\n+ * @version $Revision: 1.13 $ $Date: 2004/03/07 21:55:18 $\n  */\n \n public final class TestStatisticTest extends TestCase {\n         for (int i = 0; i < sample2.length; i++) {\n             sampleStats2.addValue(sample2[i]);\n         }\n-        //FIXME: textbook example reported t stat uses pooled variance\n-        // should replace the following two tests  with R-verified example\n-        assertEquals(\"two sample t stat\", 1.634, testStatistic.t(sample1, sample2), 0.1);\n-        assertEquals(\"two sample t stat\", 1.634, testStatistic.t(sampleStats1, sampleStats2), 0.1);\n-        \n-        // These tests are OK, since book reports non-pooled exact p-value\n-        assertEquals(\"two sample p value\", 0.059, testStatistic.tTest(sample1, sample2) / 2d, 10E-3);\n-        assertEquals(\"two sample p value\", 0.059, testStatistic.tTest(sampleStats1, sampleStats2) / 2d, 10E-3);\n+         \n+        // Target comparison values computed using R version 1.8.1 (Linux version)\n+        assertEquals(\"two sample t stat\", 1.6037, testStatistic.t(sample1, sample2), 10E-4);\n+        assertEquals(\"two sample t stat\", 1.6037, testStatistic.t(sampleStats1, sampleStats2), 10E-4);\n+        assertEquals(\"two sample p value\", 0.0644, testStatistic.tTest(sample1, sample2) / 2d, 10E-4);\n+        assertEquals(\"two sample p value\", 0.0644, testStatistic.tTest(sampleStats1, sampleStats2) / 2d, 10E-4);\n+        \n         assertTrue(\"two sample t-test reject\", testStatistic.tTest(sample1, sample2, 0.2));\n         assertTrue(\"two sample t-test reject\", testStatistic.tTest(sampleStats1, sampleStats2, 0.2));\n         assertTrue(\"two sample t-test accept\", !testStatistic.tTest(sample1, sample2, 0.1));\n             testStatistic.t(sampleStats1, tooShortStats);\n             fail(\"insufficient data, IllegalArgumentException expected\");\n         } catch (IllegalArgumentException ex) {\n-           // exptected\n+           // expected\n         }\n     }\n }", "timestamp": 1078696518, "metainfo": ""}