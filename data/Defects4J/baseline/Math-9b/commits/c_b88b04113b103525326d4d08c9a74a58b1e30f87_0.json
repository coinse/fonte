{"sha": "b88b04113b103525326d4d08c9a74a58b1e30f87", "log": "Added \"derivative\".   ", "commit": "\n--- a/src/main/java/org/apache/commons/math/analysis/function/Acos.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Acos.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Acos implements UnivariateRealFunction {\n+public class Acos implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.acos(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return -1 / FastMath.sqrt(1 - x * x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Acosh.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Acosh.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Acosh implements UnivariateRealFunction {\n+public class Acosh implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.acosh(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / FastMath.sqrt(x * x - 1);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Asin.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Asin.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Asin implements UnivariateRealFunction {\n+public class Asin implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.asin(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / FastMath.sqrt(1 - x * x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Asinh.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Asinh.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Asinh implements UnivariateRealFunction {\n+public class Asinh implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.asinh(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / FastMath.sqrt(1 + x * x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Atan.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Atan.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Atan implements UnivariateRealFunction {\n+public class Atan implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.atan(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / (1 + x * x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Atanh.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Atanh.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Atanh implements UnivariateRealFunction {\n+public class Atanh implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.atanh(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / (1 - x * x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Cbrt.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Cbrt.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Cbrt implements UnivariateRealFunction {\n+public class Cbrt implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.cbrt(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / (3 * FastMath.cbrt(x * x));\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Constant.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Constant.java\n \n package org.apache.commons.math.analysis.function;\n \n-import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n \n /**\n  * Constant function.\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Constant implements UnivariateRealFunction {\n+public class Constant implements DifferentiableUnivariateRealFunction {\n     /** Constant. */\n     private final double c;\n \n     public double value(double x) {\n         return c;\n     }\n+\n+    /** {@inheritDoc} */\n+    public DifferentiableUnivariateRealFunction derivative() {\n+        return new Constant(0);\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Cos.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Cos.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Cos implements UnivariateRealFunction {\n+public class Cos implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.cos(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return -FastMath.sin(x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Cosh.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Cosh.java\n \n package org.apache.commons.math.analysis.function;\n \n-import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Cosh implements UnivariateRealFunction {\n+public class Cosh implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.cosh(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public DifferentiableUnivariateRealFunction derivative() {\n+        return new Sinh();\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Exp.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Exp.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Exp implements UnivariateRealFunction {\n+public class Exp implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.exp(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return FastMath.exp(x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Expm1.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Expm1.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Expm1 implements UnivariateRealFunction {\n+public class Expm1 implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.expm1(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return FastMath.exp(x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Identity.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Identity.java\n \n package org.apache.commons.math.analysis.function;\n \n-import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n \n /**\n  * Identity function.\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Identity implements UnivariateRealFunction {\n+public class Identity implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return x;\n     }\n+\n+    /** {@inheritDoc} */\n+    public DifferentiableUnivariateRealFunction derivative() {\n+        return new Constant(1);\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Inverse.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Inverse.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n \n /**\n  * Inverse function.\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Inverse implements UnivariateRealFunction {\n+public class Inverse implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return 1 / x;\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return -1 / (x * x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Log.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Log.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Log implements UnivariateRealFunction {\n+public class Log implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.log(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / x;\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Log1p.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Log1p.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Log1p implements UnivariateRealFunction {\n+public class Log1p implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.log1p(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return 1 / (1 + x);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Power.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Power.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Power implements UnivariateRealFunction {\n+public class Power implements DifferentiableUnivariateRealFunction {\n     /** Power. */\n     private final double p;\n \n     public double value(double x) {\n         return FastMath.pow(x, p);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                return p * FastMath.pow(x, p - 1);\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Sin.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Sin.java\n \n package org.apache.commons.math.analysis.function;\n \n-import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Sin implements UnivariateRealFunction {\n+public class Sin implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.sin(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public DifferentiableUnivariateRealFunction derivative() {\n+        return new Cos();\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Sinh.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Sinh.java\n \n package org.apache.commons.math.analysis.function;\n \n-import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Sinh implements UnivariateRealFunction {\n+public class Sinh implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.sinh(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public DifferentiableUnivariateRealFunction derivative() {\n+        return new Cosh();\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Tan.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Tan.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Tan implements UnivariateRealFunction {\n+public class Tan implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.tan(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                final double tanX = FastMath.tan(x);\n+                return 1 + tanX * tanX;\n+            }\n+        };\n+    }\n }\n--- a/src/main/java/org/apache/commons/math/analysis/function/Tanh.java\n+++ b/src/main/java/org/apache/commons/math/analysis/function/Tanh.java\n package org.apache.commons.math.analysis.function;\n \n import org.apache.commons.math.analysis.UnivariateRealFunction;\n+import org.apache.commons.math.analysis.DifferentiableUnivariateRealFunction;\n import org.apache.commons.math.util.FastMath;\n \n /**\n  * @version $Id$\n  * @since 3.0\n  */\n-public class Tanh implements UnivariateRealFunction {\n+public class Tanh implements DifferentiableUnivariateRealFunction {\n     /** {@inheritDoc} */\n     public double value(double x) {\n         return FastMath.tanh(x);\n     }\n+\n+    /** {@inheritDoc} */\n+    public UnivariateRealFunction derivative() {\n+        return new UnivariateRealFunction() {\n+            /** {@inheritDoc} */\n+            public double value(double x) {\n+                final double tanhX = FastMath.tanh(x);\n+                return 1 - tanhX * tanhX;\n+            }\n+        };\n+    }\n }", "timestamp": 1318799059, "metainfo": ""}