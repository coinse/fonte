{"sha": "683059120457a48965db2f398d56577c15925170", "log": "MATH-506 - revert r1067433 as it is incomplete; more discussion needed  ", "commit": "\n--- a/src/main/java/org/apache/commons/math/stat/inference/ChiSquareTestImpl.java\n+++ b/src/main/java/org/apache/commons/math/stat/inference/ChiSquareTestImpl.java\n  */\n public class ChiSquareTestImpl implements UnknownDistributionChiSquareTest {\n \n+    /** Distribution used to compute inference statistics. */\n+    private ChiSquaredDistribution distribution;\n+\n     /**\n      * Construct a ChiSquareTestImpl\n      */\n      */\n     public double chiSquareTest(double[] expected, long[] observed)\n         throws MathException {\n-        ChiSquaredDistributionImpl distribution = new ChiSquaredDistributionImpl(expected.length - 1.0);\n+        distribution = new ChiSquaredDistributionImpl(expected.length - 1.0);\n         return 1.0 - distribution.cumulativeProbability(\n             chiSquare(expected, observed));\n     }\n     throws MathException {\n         checkArray(counts);\n         double df = ((double) counts.length -1) * ((double) counts[0].length - 1);\n-        ChiSquaredDistributionImpl distribution = new ChiSquaredDistributionImpl(df);\n+        distribution = new ChiSquaredDistributionImpl(df);\n         return 1 - distribution.cumulativeProbability(chiSquare(counts));\n     }\n \n      */\n     public double chiSquareTestDataSetsComparison(long[] observed1, long[] observed2)\n         throws MathException {\n-        ChiSquaredDistributionImpl distribution = new ChiSquaredDistributionImpl((double) observed1.length - 1);\n+        distribution = new ChiSquaredDistributionImpl((double) observed1.length - 1);\n         return 1 - distribution.cumulativeProbability(\n                 chiSquareDataSetsComparison(observed1, observed2));\n     }\n         }\n     }\n \n+    /**\n+     * Modify the distribution used to compute inference statistics.\n+     *\n+     * @param value\n+     *            the new distribution\n+     * @since 1.2\n+     */\n+    public void setDistribution(ChiSquaredDistribution value) {\n+        distribution = value;\n+    }\n }", "timestamp": 1296910465, "metainfo": ""}