{"sha": "47c5f8a397f83650d1f3b590bdfbaa2b00758e5b", "log": "Changed weighted variance computational formula to use Chan-Golub method (consistent with unweighted version).  ", "commit": "\n--- a/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java\n+++ b/src/main/java/org/apache/commons/math/stat/descriptive/moment/Variance.java\n             } else if (length > 1) {\n                 double accum = 0.0;\n                 double dev = 0.0;\n+                double accum2 = 0.0;\n                 for (int i = begin; i < begin + length; i++) {\n                     dev = values[i] - mean;\n                     accum += weights[i] * (dev * dev);\n+                    accum2 += weights[i] * dev;\n                 }\n \n                 double sumWts = 0;\n                 }\n \n                 if (isBiasCorrected) {\n-                    var = accum / (sumWts - 1);\n+                    var = (accum - (accum2 * accum2 / sumWts)) / (sumWts - 1.0);\n                 } else {\n-                    var = accum / sumWts;\n+                    var = (accum - (accum2 * accum2 / sumWts)) / sumWts;\n                 }\n             }\n         }", "timestamp": 1262135012, "metainfo": ""}