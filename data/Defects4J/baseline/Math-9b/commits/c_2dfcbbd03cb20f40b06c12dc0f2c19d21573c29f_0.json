{"sha": "2dfcbbd03cb20f40b06c12dc0f2c19d21573c29f", "log": "Emasculated MathException secalization test to work under jdk 1.3.  ", "commit": "\n--- a/src/test/org/apache/commons/math/MathExceptionTest.java\n+++ b/src/test/org/apache/commons/math/MathExceptionTest.java\n         PrintWriter pw2 = new PrintWriter(ps2, true);\n         image.printStackTrace(ps2);\n         String stack2 = baos2.toString();\n-        assertEquals(stack, stack2);\n+        \n+        // See if JDK supports nested exceptions.  If not, stack trace of\n+        // inner exception will not be serialized\n+        boolean jdkSupportsNesting = false;\n+        try {\n+            Throwable.class.getDeclaredMethod(\"getCause\", new Class[0]);\n+            jdkSupportsNesting = true;\n+        } catch (NoSuchMethodException e) {\n+            jdkSupportsNesting = false;\n+        }\n+        \n+        if (jdkSupportsNesting) {\n+            assertEquals(stack, stack2);\n+        } else {\n+            assertTrue(stack2.indexOf(inMsg) != -1);\n+            assertTrue(stack2.indexOf(\"MathConfigurationException\") != -1);\n+        }\n     }\n }", "timestamp": 1119756402, "metainfo": ""}