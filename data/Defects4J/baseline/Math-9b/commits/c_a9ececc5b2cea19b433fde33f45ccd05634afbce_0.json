{"sha": "a9ececc5b2cea19b433fde33f45ccd05634afbce", "log": "Fixed a convergence discrepancy with respect to theory in Gragg-Bulirsch-Stoer integrator. JIRA: MATH-324   ", "commit": "\n--- a/src/main/java/org/apache/commons/math/ode/nonstiff/GraggBulirschStoerIntegrator.java\n+++ b/src/main/java/org/apache/commons/math/ode/nonstiff/GraggBulirschStoerIntegrator.java\n                     // estimate if there is a chance convergence will\n                     // be reached on next iteration, using the\n                     // asymptotic evolution of error\n-                    final double ratio = ((double) sequence [k] * sequence[k+1]) /\n+                    final double ratio = ((double) sequence [targetIter] * sequence[targetIter + 1]) /\n                                          (sequence[0] * sequence[0]);\n                     if (error > ratio * ratio) {\n                       // we don't expect to converge on next iteration\n--- a/src/test/java/org/apache/commons/math/ode/nonstiff/GraggBulirschStoerStepInterpolatorTest.java\n+++ b/src/test/java/org/apache/commons/math/ode/nonstiff/GraggBulirschStoerStepInterpolatorTest.java\n         oos.writeObject(handler);\n     }\n \n-    assertTrue(bos.size () > 34000);\n-    assertTrue(bos.size () < 35000);\n+    assertTrue(bos.size () > 33000);\n+    assertTrue(bos.size () < 34000);\n \n     ByteArrayInputStream  bis = new ByteArrayInputStream(bos.toByteArray());\n     ObjectInputStream     ois = new ObjectInputStream(bis);\n       }\n     }\n \n-    assertTrue(maxError < 5.0e-11);\n+    assertTrue(maxError < 5.0e-10);\n \n   }\n ", "timestamp": 1261510210, "metainfo": ""}