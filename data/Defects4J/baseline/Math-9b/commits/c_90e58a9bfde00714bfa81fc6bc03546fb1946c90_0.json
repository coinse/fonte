{"sha": "90e58a9bfde00714bfa81fc6bc03546fb1946c90", "log": "fixed an index error triggering ArrayIndexOutOfBoundException for an add after a clear if size has grown  ", "commit": "\n--- a/src/java/org/apache/commons/math/util/ResizableDoubleArray.java\n+++ b/src/java/org/apache/commons/math/util/ResizableDoubleArray.java\n      */\n     public synchronized void clear() {\n         numElements = 0;\n+        startIndex = 0;\n         internalArray = new double[initialCapacity];\n     }\n     \n--- a/src/test/org/apache/commons/math/stat/descriptive/DescriptiveStatisticsTest.java\n+++ b/src/test/org/apache/commons/math/stat/descriptive/DescriptiveStatisticsTest.java\n             // expected\n         }\n     }\n+\n+    public void test20090720() {\n+        DescriptiveStatistics descriptiveStatistics = new DescriptiveStatistics(100);\n+        for (int i = 0; i < 161; i++) {\n+            descriptiveStatistics.addValue(1.2);\n+        }\n+        descriptiveStatistics.clear();\n+        descriptiveStatistics.addValue(1.2);\n+        assertEquals(1, descriptiveStatistics.getN());\n+    }\n+\n     public void testRemoval() {\n \n         final DescriptiveStatistics dstat = createDescriptiveStatistics();", "timestamp": 1248125232, "metainfo": ""}