{"sha": "2af72281fcb919dac92b0c4e464f847adda23be1", "log": "MATH-413 Optional, user-defined, convergence checker passed in the constructor.   ", "commit": "\n--- a/src/main/java/org/apache/commons/math/optimization/direct/PowellOptimizer.java\n+++ b/src/main/java/org/apache/commons/math/optimization/direct/PowellOptimizer.java\n  * <br/>\n  * The default stopping criterion is based on the differences of the\n  * function value between two successive iterations. It is however possible\n- * to define custom convergence criteria by calling a {@link\n- * #setConvergenceChecker(ConvergenceChecker) setConvergenceChecker}\n- * prior to using the optimizer.\n+ * to define a custom convergence checker that might terminate the algorithm\n+ * earlier.\n  *\n  * @version $Id$\n  * @since 2.2\n     private final LineSearch line;\n \n     /**\n-     * The arguments control the behaviour of the default convergence\n-     * checking procedure.\n+     * This constructor allows to specify a user-defined convergence checker,\n+     * in addition to the parameters that control the default convergence\n+     * checking procedure and the line search tolerances.\n      *\n      * @param rel Relative threshold.\n      * @param abs Absolute threshold.\n+     * @param checker Convergence checker.\n      * @throws NotStrictlyPositiveException if {@code abs <= 0}.\n      * @throws NumberIsTooSmallException if {@code rel < 2 * Math.ulp(1d)}.\n      */\n     public PowellOptimizer(double rel,\n-                           double abs) {\n+                           double abs,\n+                           ConvergenceChecker<RealPointValuePair> checker) {\n+        super(checker);\n+\n         if (rel < MIN_RELATIVE_TOLERANCE) {\n             throw new NumberIsTooSmallException(rel, MIN_RELATIVE_TOLERANCE, true);\n         }\n         final double lsRel = Math.min(FastMath.sqrt(relativeThreshold), minTol);\n         final double lsAbs = Math.min(FastMath.sqrt(absoluteThreshold), minTol);\n         line = new LineSearch(lsRel, lsAbs);\n+    }\n+\n+    /**\n+     * The parameters control the default convergence checking procedure, and\n+     * the line search tolerances.\n+     *\n+     * @param rel Relative threshold.\n+     * @param abs Absolute threshold.\n+     * @throws NotStrictlyPositiveException if {@code abs <= 0}.\n+     * @throws NumberIsTooSmallException if {@code rel < 2 * Math.ulp(1d)}.\n+     */\n+    public PowellOptimizer(double rel,\n+                           double abs) {\n+        this(rel, abs, null);\n     }\n \n     /** {@inheritDoc} */", "timestamp": 1314922036, "metainfo": ""}