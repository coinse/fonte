{"sha": "70e2a2ec24b02c2f4f068d9856d17c6ba865e22f", "log": "added a new test problem with polynomial behavior  ", "commit": "\n--- /dev/null\n+++ b/src/test/org/apache/commons/math/ode/nonstiff/TestProblem6.java\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.commons.math.ode.nonstiff;\n+\n+/**\n+ * This class is used in the junit tests for the ODE integrators.\n+\n+ * <p>This specific problem is the following differential equation :\n+ * <pre>\n+ *    y' = 3x^5 - y\n+ * </pre>\n+ * when the initial condition is y(0) = -360, the solution of this\n+ * equation degenerates to a simple quintic polynomial function :\n+ * <pre>\n+ *   y (t) = 3x^5 - 15x^4 + 60x^3 - 180x^2 + 360x - 360\n+ * </pre>\n+ * </p>\n+\n+ */\n+public class TestProblem6\n+  extends TestProblemAbstract {\n+\n+    /** Serializable version identifier. */\n+    private static final long serialVersionUID = 1353409119804352378L;\n+\n+    /** theoretical state */\n+    private double[] y;\n+\n+    /**\n+     * Simple constructor.\n+     */\n+    public TestProblem6() {\n+        super();\n+        double[] y0 = { -360.0 };\n+        setInitialConditions(0.0, y0);\n+        setFinalConditions(1.0);\n+        double[] errorScale = { 1.0 };\n+        setErrorScale(errorScale);\n+        y = new double[y0.length];\n+    }\n+\n+    /**\n+     * Copy constructor.\n+     * @param problem problem to copy\n+     */\n+    public TestProblem6(TestProblem6 problem) {\n+        super(problem);\n+        y = problem.y.clone();\n+    }\n+\n+    /**\n+     * Clone operation.\n+     * @return a copy of the instance\n+     */\n+    @Override\n+    public Object clone() {\n+        return new TestProblem6(this);\n+    }\n+\n+    @Override\n+    public void doComputeDerivatives(double t, double[] y, double[] yDot) {\n+\n+        // compute the derivatives\n+        double t2 = t  * t;\n+        double t4 = t2 * t2;\n+        double t5 = t4 * t;\n+        for (int i = 0; i < n; ++i) {\n+            yDot[i] = 3 * t5 - y[i];\n+        }\n+\n+    }\n+\n+    @Override\n+    public double[] computeTheoreticalState(double t) {\n+        for (int i = 0; i < n; ++i) {\n+            y[i] = ((((3 * t - 15) * t + 60) * t - 180) * t + 360) * t - 360;\n+        }\n+        return y;\n+    }\n+\n+}\n--- a/src/test/org/apache/commons/math/ode/nonstiff/TestProblemFactory.java\n+++ b/src/test/org/apache/commons/math/ode/nonstiff/TestProblemFactory.java\n     new TestProblem2(),\n     new TestProblem3(),\n     new TestProblem4(),\n-    new TestProblem5()\n+    new TestProblem5(),\n+    new TestProblem6()\n   };\n \n   /**", "timestamp": 1243807012, "metainfo": ""}