{"sha": "f1791c640b8a107325d1737b8403a8cccecc39ec", "log": "MATH-740 Grabbing a few percents performance for \"log\".   ", "commit": "\n--- a/src/main/java/org/apache/commons/math3/util/FastMath.java\n+++ b/src/main/java/org/apache/commons/math3/util/FastMath.java\n             /* Normalize the subnormal number. */\n             bits <<= 1;\n             while ( (bits & 0x0010000000000000L) == 0) {\n-                exp--;\n+                --exp;\n                 bits <<= 1;\n             }\n         }\n                 xa = aa;\n                 xb = ab;\n \n-                double ya = LN_QUICK_COEF[LN_QUICK_COEF.length-1][0];\n-                double yb = LN_QUICK_COEF[LN_QUICK_COEF.length-1][1];\n+                final double[] lnCoef_last = LN_QUICK_COEF[LN_QUICK_COEF.length - 1];\n+                double ya = lnCoef_last[0];\n+                double yb = lnCoef_last[1];\n \n                 for (int i = LN_QUICK_COEF.length - 2; i >= 0; i--) {\n                     /* Multiply a = y * x */\n                     yb = aa - ya + ab;\n \n                     /* Add  a = y + lnQuickCoef */\n-                    aa = ya + LN_QUICK_COEF[i][0];\n-                    ab = yb + LN_QUICK_COEF[i][1];\n+                    final double[] lnCoef_i = LN_QUICK_COEF[i];\n+                    aa = ya + lnCoef_i[0];\n+                    ab = yb + lnCoef_i[1];\n                     /* Split y = a */\n                     tmp = aa * HEX_40000000;\n                     ya = aa + tmp - tmp;\n         }\n \n         // lnm is a log of a number in the range of 1.0 - 2.0, so 0 <= lnm < ln(2)\n-        double lnm[] = lnMant.LN_MANT[(int)((bits & 0x000ffc0000000000L) >> 42)];\n+        final double[] lnm = lnMant.LN_MANT[(int)((bits & 0x000ffc0000000000L) >> 42)];\n \n         /*\n     double epsilon = x / Double.longBitsToDouble(bits & 0xfffffc0000000000L);\n         // y is the most significant 10 bits of the mantissa\n         //double y = Double.longBitsToDouble(bits & 0xfffffc0000000000L);\n         //double epsilon = (x - y) / y;\n-        double epsilon = (bits & 0x3ffffffffffL) / (TWO_POWER_52 + (bits & 0x000ffc0000000000L));\n+        final double epsilon = (bits & 0x3ffffffffffL) / (TWO_POWER_52 + (bits & 0x000ffc0000000000L));\n \n         double lnza = 0.0;\n         double lnzb = 0.0;\n             double xb = ab;\n \n             /* Need a more accurate epsilon, so adjust the division. */\n-            double numer = bits & 0x3ffffffffffL;\n-            double denom = TWO_POWER_52 + (bits & 0x000ffc0000000000L);\n+            final double numer = bits & 0x3ffffffffffL;\n+            final double denom = TWO_POWER_52 + (bits & 0x000ffc0000000000L);\n             aa = numer - xa*denom - xb * denom;\n             xb += aa / denom;\n \n             /* Remez polynomial evaluation */\n-            double ya = LN_HI_PREC_COEF[LN_HI_PREC_COEF.length-1][0];\n-            double yb = LN_HI_PREC_COEF[LN_HI_PREC_COEF.length-1][1];\n+            final double[] lnCoef_last = LN_HI_PREC_COEF[LN_HI_PREC_COEF.length-1];\n+            double ya = lnCoef_last[0];\n+            double yb = lnCoef_last[1];\n \n             for (int i = LN_HI_PREC_COEF.length - 2; i >= 0; i--) {\n                 /* Multiply a = y * x */\n                 yb = aa - ya + ab;\n \n                 /* Add  a = y + lnHiPrecCoef */\n-                aa = ya + LN_HI_PREC_COEF[i][0];\n-                ab = yb + LN_HI_PREC_COEF[i][1];\n+                final double[] lnCoef_i = LN_HI_PREC_COEF[i];\n+                aa = ya + lnCoef_i[0];\n+                ab = yb + lnCoef_i[1];\n                 /* Split y = a */\n                 tmp = aa * HEX_40000000;\n                 ya = aa + tmp - tmp;", "timestamp": 1344121905, "metainfo": ""}