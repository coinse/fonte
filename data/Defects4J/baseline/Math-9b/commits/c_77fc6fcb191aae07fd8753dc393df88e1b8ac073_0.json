{"sha": "77fc6fcb191aae07fd8753dc393df88e1b8ac073", "log": "In o.a.c.m3.Incrementor, modified constructor to allow for null values of the MaxCountExceededCallback. Null value was previously not checked wich could lead to a NullPointerException much later (at exhaustion of the counter).   ", "commit": "\n--- a/src/main/java/org/apache/commons/math3/util/Incrementor.java\n+++ b/src/main/java/org/apache/commons/math3/util/Incrementor.java\n      * @param max Maximal count.\n      */\n     public Incrementor(int max) {\n-        this(max,\n-             new MaxCountExceededCallback() {\n-                 /** {@inheritDoc} */\n-                 public void trigger(int max) {\n-                     throw new MaxCountExceededException(max);\n-                 }\n-             });\n+        this(max, null);\n     }\n \n     /**\n      * counter exhaustion.\n      *\n      * @param max Maximal count.\n-     * @param cb Function to be called when the maximal count has been reached.\n+     * @param cb Function to be called when the maximal count has been reached\n+     * (can be {@code null}).\n      */\n     public Incrementor(int max,\n                        MaxCountExceededCallback cb) {\n         maximalCount = max;\n-        maxCountCallback = cb;\n+        if (cb != null) {\n+            maxCountCallback = cb;\n+        } else {\n+            maxCountCallback = new MaxCountExceededCallback() {\n+                /** {@inheritDoc} */\n+                public void trigger(int max) {\n+                    throw new MaxCountExceededException(max);\n+                }\n+            };\n+        }\n     }\n \n     /**", "timestamp": 1340464154, "metainfo": ""}