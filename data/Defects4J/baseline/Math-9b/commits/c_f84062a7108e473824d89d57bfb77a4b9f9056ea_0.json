{"sha": "f84062a7108e473824d89d57bfb77a4b9f9056ea", "log": "Added test case using 2-way table containing zeros (illustrates PR #32531). Increased accuracy of target values in one test case.   ", "commit": "\n--- a/src/test/org/apache/commons/math/stat/inference/ChiSquareTestTest.java\n+++ b/src/test/org/apache/commons/math/stat/inference/ChiSquareTestTest.java\n /**\n  * Test cases for the ChiSquareTestImpl class.\n  *\n- * @version $Revision: 1.3 $ $Date: 2004/06/26 22:09:07 $\n+ * @version $Revision: 1.4 $ $Date: 2004/12/04 20:52:43 $\n  */\n \n public final class ChiSquareTestTest extends TestCase {\n         // Target values computed using R version 1.8.1 \n         \n         long[][] counts = { {40, 22, 43}, {91, 21, 28}, {60, 10, 22}};\n-        assertEquals( \"chi-square test statistic\", 22.709, testStatistic.chiSquare(counts), 1E-3);\n+        assertEquals( \"chi-square test statistic\", 22.709027688, testStatistic.chiSquare(counts), 1E-9);\n         assertEquals(\"chi-square p-value\", 0.0001448, testStatistic.chiSquareTest(counts), 1E-7);\n         assertTrue(\"chi-square test reject\", testStatistic.chiSquareTest(counts, 0.0002));\n         assertTrue(\"chi-square test accept\", !testStatistic.chiSquareTest(counts, 0.0001));    \n         double cst = csti.chiSquareTest(exp, obs); \n         assertEquals(\"chi-square p-value\", 0.0, cst, 1E-3);\n     }\n+    \n+    /** Contingency table containing zeros - PR # 32531 */\n+    public void testChiSquareZeroCount() throws Exception {\n+        // Target values computed using R version 1.8.1 \n+        long[][] counts = { {40, 0, 4}, {91, 1, 2}, {60, 2, 0}};\n+        assertEquals( \"chi-square test statistic\", 9.67444662263,\n+                testStatistic.chiSquare(counts), 1E-9);\n+        assertEquals(\"chi-square p-value\", 0.0462835770603,\n+                testStatistic.chiSquareTest(counts), 1E-9);       \n+    }\n }", "timestamp": 1102193563, "metainfo": ""}