{"sha": "73f0278e5b5e938ffaef897a565a94db95df70b6", "log": "Test that hostless URIs resolve to absolute URLs correctly.", "commit": "\n--- a/src/test/java/org/jsoup/nodes/NodeTest.java\n+++ b/src/test/java/org/jsoup/nodes/NodeTest.java\n         Document doc = Jsoup.parse(\"<a href='password'>One/a><a href='/var/log/messages'>Two</a>\", \"file://localhost/etc/\");\n         Element one = doc.select(\"a\").first();\n         assertEquals(\"file://localhost/etc/password\", one.absUrl(\"href\"));\n+    }\n+\n+    @Test\n+    public void handlesAbsOnProtocolessAbsoluteUris() {\n+        Document doc1 = Jsoup.parse(\"<a href='//example.net/foo'>One</a>\", \"http://example.com/\");\n+        Document doc2 = Jsoup.parse(\"<a href='//example.net/foo'>One</a>\", \"https://example.com/\");\n+\n+        Element one = doc1.select(\"a\").first();\n+        Element two = doc2.select(\"a\").first();\n+\n+        assertEquals(\"http://example.net/foo\", one.absUrl(\"href\"));\n+        assertEquals(\"https://example.net/foo\", two.absUrl(\"href\"));\n+\n+        Document doc3 = Jsoup.parse(\"<img src=//www.google.com/images/errors/logo_sm.gif alt=Google>\", \"https://google.com\");\n+        assertEquals(\"https://www.google.com/images/errors/logo_sm.gif\", doc3.select(\"img\").attr(\"abs:src\"));\n     }\n \n     /*", "timestamp": 1359521910, "metainfo": ""}