{"sha": "5886dd28e5f0740680c270cf83ffe8c1cd4ce269", "log": "Perf improvement during parsing.  Don't binary search for chars in short lists, just scan.", "commit": "\n--- a/src/main/java/org/jsoup/parser/CharacterReader.java\n+++ b/src/main/java/org/jsoup/parser/CharacterReader.java\n     String consumeToAny(final char... chars) {\n         final int start = pos;\n         final int remaining = length;\n+        final char[] val = input;\n \n         OUTER: while (pos < remaining) {\n             for (char c : chars) {\n-                if (input[pos] == c)\n+                if (val[pos] == c)\n                     break OUTER;\n             }\n             pos++;\n--- a/src/main/java/org/jsoup/parser/TokeniserState.java\n+++ b/src/main/java/org/jsoup/parser/TokeniserState.java\n     },\n     AttributeValue_doubleQuoted {\n         void read(Tokeniser t, CharacterReader r) {\n-            String value = r.consumeToAnySorted(attributeDoubleValueCharsSorted);\n+            String value = r.consumeToAny(attributeDoubleValueCharsSorted);\n             if (value.length() > 0)\n                 t.tagPending.appendAttributeValue(value);\n             else\n     },\n     AttributeValue_singleQuoted {\n         void read(Tokeniser t, CharacterReader r) {\n-            String value = r.consumeToAnySorted(attributeSingleValueCharsSorted);\n+            String value = r.consumeToAny(attributeSingleValueCharsSorted);\n             if (value.length() > 0)\n                 t.tagPending.appendAttributeValue(value);\n             else\n     },\n     AttributeValue_unquoted {\n         void read(Tokeniser t, CharacterReader r) {\n-            String value = r.consumeToAny('\\t', '\\n', '\\r', '\\f', ' ', '&', '>', nullChar, '\"', '\\'', '<', '=', '`');\n+            String value = r.consumeToAnySorted(attributeValueUnquoted);\n             if (value.length() > 0)\n                 t.tagPending.appendAttributeValue(value);\n \n     private static final char[] attributeSingleValueCharsSorted = new char[]{'\\'', '&', nullChar};\n     private static final char[] attributeDoubleValueCharsSorted = new char[]{'\"', '&', nullChar};\n     private static final char[] attributeNameCharsSorted = new char[]{'\\t', '\\n', '\\r', '\\f', ' ', '/', '=', '>', nullChar, '\"', '\\'', '<'};\n+    private static final char[] attributeValueUnquoted = new char[]{'\\t', '\\n', '\\r', '\\f', ' ', '&', '>', nullChar, '\"', '\\'', '<', '=', '`'};\n \n     private static final char replacementChar = Tokeniser.replacementChar;\n     private static final String replacementStr = String.valueOf(Tokeniser.replacementChar);\n         Arrays.sort(attributeSingleValueCharsSorted);\n         Arrays.sort(attributeDoubleValueCharsSorted);\n         Arrays.sort(attributeNameCharsSorted);\n+        Arrays.sort(attributeValueUnquoted);\n     }\n \n     /**", "timestamp": 1459633301, "metainfo": ""}