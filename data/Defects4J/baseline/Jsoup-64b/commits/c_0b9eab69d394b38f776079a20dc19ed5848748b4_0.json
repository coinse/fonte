{"sha": "0b9eab69d394b38f776079a20dc19ed5848748b4", "log": "Support 307 temp redir status code  Fixes #452", "commit": "\n--- a/src/main/java/org/jsoup/helper/HttpConnection.java\n+++ b/src/main/java/org/jsoup/helper/HttpConnection.java\n  * @see org.jsoup.Jsoup#connect(String) \n  */\n public class HttpConnection implements Connection {\n+    private static final int HTTP_TEMP_REDIR = 307; // http/1.1 temporary redirect, not in Java's set.\n+\n     public static Connection connect(String url) {\n         Connection con = new HttpConnection();\n         con.url(url);\n                 int status = conn.getResponseCode();\n                 boolean needsRedirect = false;\n                 if (status != HttpURLConnection.HTTP_OK) {\n-                    if (status == HttpURLConnection.HTTP_MOVED_TEMP || status == HttpURLConnection.HTTP_MOVED_PERM || status == HttpURLConnection.HTTP_SEE_OTHER)\n+                    if (status == HttpURLConnection.HTTP_MOVED_TEMP || status == HttpURLConnection.HTTP_MOVED_PERM || status == HttpURLConnection.HTTP_SEE_OTHER || status == HTTP_TEMP_REDIR)\n                         needsRedirect = true;\n                     else if (!req.ignoreHttpErrors())\n                         throw new HttpStatusException(\"HTTP error fetching URL\", status, req.url().toString());\n--- a/src/test/java/org/jsoup/integration/UrlConnectTest.java\n+++ b/src/test/java/org/jsoup/integration/UrlConnectTest.java\n         Connection con = Jsoup.connect(\"http://direct.infohound.net/tools/302.pl\"); // http://jsoup.org\n         Document doc = con.get();\n         assertTrue(doc.title().contains(\"jsoup\"));\n+    }\n+\n+    @Test\n+    public void followsNewTempRedirect() throws IOException {\n+        Connection con = Jsoup.connect(\"http://direct.infohound.net/tools/307.pl\"); // http://jsoup.org\n+        Document doc = con.get();\n+        assertTrue(doc.title().contains(\"jsoup\"));\n+        assertEquals(\"http://jsoup.org\", con.response().url().toString());\n     }\n \n     @Test", "timestamp": 1411861195, "metainfo": ""}