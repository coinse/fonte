{"sha": "6b60af669bc6102f0328af330532986b8670f3ac", "log": "Normalise head by prepending, not appending.  Closes #9.", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Document.java\n+++ b/src/main/java/org/jsoup/nodes/Document.java\n         if (select(\"html\").isEmpty())\n             appendElement(\"html\");\n         if (head() == null)\n-            select(\"html\").first().appendElement(\"head\");\n+            select(\"html\").first().prependElement(\"head\");\n         if (body() == null)\n             select(\"html\").first().appendElement(\"body\");\n \n--- a/src/test/java/org/jsoup/parser/ParserTest.java\n+++ b/src/test/java/org/jsoup/parser/ParserTest.java\n                 TextUtil.stripNewlines(doc.html())); // is spaced OK if not newline & space stripped\n     }\n \n-    @Test public void normlisesEmptyDocument() {\n+    @Test public void normalisesEmptyDocument() {\n         Document doc = Jsoup.parse(\"\");\n         assertEquals(\"<html><head></head><body></body></html>\",TextUtil.stripNewlines(doc.html()));\n     }\n \n+    @Test public void normalisesHeadlessBody() {\n+        Document doc = Jsoup.parse(\"<html><body><span class=\\\"foo\\\">bar</span>\");\n+        assertEquals(\"<html><head></head><body><span class=\\\"foo\\\">bar</span></body></html>\",\n+                TextUtil.stripNewlines(doc.html()));\n+    }\n+\n \n }", "timestamp": 1309605111, "metainfo": ""}