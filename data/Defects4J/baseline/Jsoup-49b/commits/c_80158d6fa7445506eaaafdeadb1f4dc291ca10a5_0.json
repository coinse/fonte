{"sha": "80158d6fa7445506eaaafdeadb1f4dc291ca10a5", "log": "A couple perf tweaks", "commit": "\n--- a/src/main/java/org/jsoup/parser/CharacterReader.java\n+++ b/src/main/java/org/jsoup/parser/CharacterReader.java\n     }\n \n     char current() {\n-        return isEmpty() ? EOF : input[pos];\n+        return pos >= length ? EOF : input[pos];\n     }\n \n     char consume() {\n-        char val = isEmpty() ? EOF : input[pos];\n+        char val = pos >= length ? EOF : input[pos];\n         pos++;\n         return val;\n     }\n--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilder.java\n+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilder.java\n     void insert(Token.Character characterToken) {\n         Node node;\n         // characters in script and style go in as datanodes, not text nodes\n-        if (StringUtil.in(currentElement().tagName(), TagsScriptStyle))\n+        String tagName = currentElement().tagName();\n+        if (tagName.equals(\"script\") || tagName.equals(\"style\"))\n             node = new DataNode(characterToken.getData(), baseUri);\n         else\n             node = new TextNode(characterToken.getData(), baseUri);\n--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n                         // todo confirm that check\n                         tb.error(this);\n                         return false;\n-                    } else if (isWhitespace(c)) {\n+                    } else if (tb.framesetOk() && isWhitespace(c)) { // don't check if whitespace if frames already closed\n                         tb.reconstructFormattingElements();\n                         tb.insert(c);\n                     } else {", "timestamp": 1384804276, "metainfo": ""}