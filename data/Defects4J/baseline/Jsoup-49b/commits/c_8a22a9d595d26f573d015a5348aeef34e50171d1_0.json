{"sha": "8a22a9d595d26f573d015a5348aeef34e50171d1", "log": "Don't create StringBuilders for every attribute value  Only if actually going to append do we nee one.", "commit": "\n--- a/src/main/java/org/jsoup/parser/Token.java\n+++ b/src/main/java/org/jsoup/parser/Token.java\n         protected String tagName;\n         private String pendingAttributeName; // attribute names are generally caught in one hop, not accumulated\n         private StringBuilder pendingAttributeValue = new StringBuilder(); // but values are accumulated, from e.g. & in hrefs\n+        private String pendingAttributeValueS; // try to get attr vals in one shot, vs Builder\n         private boolean hasEmptyAttributeValue = false; // distinguish boolean attribute from empty string value\n         private boolean hasPendingAttributeValue = false;\n         boolean selfClosing = false;\n             tagName = null;\n             pendingAttributeName = null;\n             reset(pendingAttributeValue);\n+            pendingAttributeValueS = null;\n             hasEmptyAttributeValue = false;\n             hasPendingAttributeValue = false;\n             selfClosing = false;\n             if (pendingAttributeName != null) {\n                 Attribute attribute;\n                 if (hasPendingAttributeValue)\n-                    attribute = new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n+                    attribute = new Attribute(pendingAttributeName,\n+                        pendingAttributeValue.length() > 0 ? pendingAttributeValue.toString() : pendingAttributeValueS);\n                 else if (hasEmptyAttributeValue)\n                     attribute = new Attribute(pendingAttributeName, \"\");\n                 else\n             hasEmptyAttributeValue = false;\n             hasPendingAttributeValue = false;\n             reset(pendingAttributeValue);\n+            pendingAttributeValueS = null;\n         }\n \n         final void finaliseTag() {\n \n         final void appendAttributeValue(String append) {\n             ensureAttributeValue();\n-            pendingAttributeValue.append(append);\n+            if (pendingAttributeValue.length() == 0) {\n+                pendingAttributeValueS = append;\n+            } else {\n+                pendingAttributeValue.append(append);\n+            }\n         }\n \n         final void appendAttributeValue(char append) {\n \n         private void ensureAttributeValue() {\n             hasPendingAttributeValue = true;\n+            // if on second hit, we'll need to move to the builder\n+            if (pendingAttributeValueS != null) {\n+                pendingAttributeValue.append(pendingAttributeValueS);\n+                pendingAttributeValueS = null;\n+            }\n         }\n     }\n ", "timestamp": 1459115464, "metainfo": ""}