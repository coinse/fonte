{"sha": "05fdf22a6c0e142a985ebe0e2a295e9a46a43041", "log": "change excel strategy to use ',' as the separator: SANDBOX-182  ", "commit": "\n--- a/src/java/org/apache/commons/csv/CSVStrategy.java\n+++ b/src/java/org/apache/commons/csv/CSVStrategy.java\n     public static char COMMENTS_DISABLED       = (char) 0;\n \n     public static CSVStrategy DEFAULT_STRATEGY = new CSVStrategy(',', '\"', COMMENTS_DISABLED, true,  false, true);\n-    public static CSVStrategy EXCEL_STRATEGY   = new CSVStrategy(';', '\"', COMMENTS_DISABLED, false, false, false);\n+    public static CSVStrategy EXCEL_STRATEGY   = new CSVStrategy(',', '\"', COMMENTS_DISABLED, false, false, false);\n     public static CSVStrategy TDF_STRATEGY     = new CSVStrategy('\t', '\"', COMMENTS_DISABLED, true,  false, true);\n \n \n--- a/src/test/org/apache/commons/csv/CSVParserTest.java\n+++ b/src/test/org/apache/commons/csv/CSVParserTest.java\n   \n   public void testExcelStrategy1() throws IOException {\n     String code = \n-      \"value1;value2;value3;value4\\r\\na;b;c;d\\r\\n  x;;;\"\n-      + \"\\r\\n\\r\\n\\\"\\\"\\\"hello\\\"\\\"\\\";\\\"  \\\"\\\"world\\\"\\\"\\\";\\\"abc\\ndef\\\";\\r\\n\";\n+      \"value1,value2,value3,value4\\r\\na,b,c,d\\r\\n  x,,,\"\n+      + \"\\r\\n\\r\\n\\\"\\\"\\\"hello\\\"\\\"\\\",\\\"  \\\"\\\"world\\\"\\\"\\\",\\\"abc\\ndef\\\",\\r\\n\";\n     String[][] res = {\n       {\"value1\", \"value2\", \"value3\", \"value4\"},\n       {\"a\", \"b\", \"c\", \"d\"},\n       {\"\"},\n       {\"\\\"hello\\\"\", \"  \\\"world\\\"\", \"abc\\ndef\", \"\"}\n     };\n-    CSVParser parser = new CSVParser(new StringReader(code));\n-    parser.setStrategy(CSVStrategy.EXCEL_STRATEGY);\n+    CSVParser parser = new CSVParser(new StringReader(code), CSVStrategy.EXCEL_STRATEGY);\n     System.out.println(\"---------\\n\" + code + \"\\n-------------\");\n     String[][] tmp = parser.getAllValues();\n     assertEquals(res.length, tmp.length);\n   }\n   \n   public void testExcelStrategy2() throws Exception {\n-    String code = \"foo;baar\\r\\n\\r\\nhello;\\r\\n\\r\\nworld;\\r\\n\";\n+    String code = \"foo,baar\\r\\n\\r\\nhello,\\r\\n\\r\\nworld,\\r\\n\";\n     String[][] res = {\n       {\"foo\", \"baar\"},\n       {\"\"},\n   \n   public void testEndOfFileBehaviourExcel() throws Exception {\n     String[] codes = {\n-        \"hello;\\r\\n\\r\\nworld;\\r\\n\",\n-        \"hello;\\r\\n\\r\\nworld;\",\n-        \"hello;\\r\\n\\r\\nworld;\\\"\\\"\\r\\n\",\n-        \"hello;\\r\\n\\r\\nworld;\\\"\\\"\",\n-        \"hello;\\r\\n\\r\\nworld;\\n\",\n-        \"hello;\\r\\n\\r\\nworld;\",\n-        \"hello;\\r\\n\\r\\nworld;\\\"\\\"\\n\",\n-        \"hello;\\r\\n\\r\\nworld;\\\"\\\"\"\n+        \"hello,\\r\\n\\r\\nworld,\\r\\n\",\n+        \"hello,\\r\\n\\r\\nworld,\",\n+        \"hello,\\r\\n\\r\\nworld,\\\"\\\"\\r\\n\",\n+        \"hello,\\r\\n\\r\\nworld,\\\"\\\"\",\n+        \"hello,\\r\\n\\r\\nworld,\\n\",\n+        \"hello,\\r\\n\\r\\nworld,\",\n+        \"hello,\\r\\n\\r\\nworld,\\\"\\\"\\n\",\n+        \"hello,\\r\\n\\r\\nworld,\\\"\\\"\"\n         };\n     String[][] res = {\n       {\"hello\", \"\"},\n   \n   public void testEmptyLineBehaviourExcel() throws Exception {\n     String[] codes = {\n-        \"hello;\\r\\n\\r\\n\\r\\n\",\n-        \"hello;\\n\\n\\n\",\n-        \"hello;\\\"\\\"\\r\\n\\r\\n\\r\\n\",\n-        \"hello;\\\"\\\"\\n\\n\\n\"\n+        \"hello,\\r\\n\\r\\n\\r\\n\",\n+        \"hello,\\n\\n\\n\",\n+        \"hello,\\\"\\\"\\r\\n\\r\\n\\r\\n\",\n+        \"hello,\\\"\\\"\\n\\n\\n\"\n         };\n     String[][] res = {\n       {\"hello\", \"\"},\n--- a/src/test/org/apache/commons/csv/CSVPrinterTest.java\n+++ b/src/test/org/apache/commons/csv/CSVPrinterTest.java\n     printer.setStrategy(CSVStrategy.EXCEL_STRATEGY);\n     String[] line1 = {\"a\", \"b\"};\n     printer.println(line1);\n-    assertEquals(\"a;b\" + lineSeparator, sw.toString());\n+    assertEquals(\"a,b\" + lineSeparator, sw.toString());\n   }\n \n   public void testExcelPrinter2() {\n     StringWriter sw = new StringWriter();\n     CSVPrinter printer = new CSVPrinter(sw);\n     printer.setStrategy(CSVStrategy.EXCEL_STRATEGY);\n-    String[] line1 = {\"a;b\", \"b\"};\n+    String[] line1 = {\"a,b\", \"b\"};\n     printer.println(line1);\n-    assertEquals(\"\\\"a;b\\\";b\" + lineSeparator, sw.toString());\n+    assertEquals(\"\\\"a,b\\\",b\" + lineSeparator, sw.toString());\n   }\n \n }\n--- a/src/test/org/apache/commons/csv/CSVStrategyTest.java\n+++ b/src/test/org/apache/commons/csv/CSVStrategyTest.java\n   \n   public void testSetExcelStrategy() {\n     CSVStrategy strategy = CSVStrategy.EXCEL_STRATEGY;\n-    assertEquals(strategy.getDelimiter(), ';');\n+    assertEquals(strategy.getDelimiter(), ',');\n     assertEquals(strategy.getEncapsulator(), '\"');\n     assertEquals(strategy.getCommentStart(), '\\0');\n     assertEquals(false,  strategy.getIgnoreLeadingWhitespaces());", "timestamp": 1166758926, "metainfo": ""}