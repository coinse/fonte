{"sha": "c4e120bbf42cf3981a629582ea722dacea9db19e", "log": "Added tests for line counting by the parser (CSV-75)  ", "commit": "\n--- a/src/test/java/org/apache/commons/csv/CSVParserTest.java\n+++ b/src/test/java/org/apache/commons/csv/CSVParserTest.java\n \n         assertFalse(records.hasNext());\n     }\n+\n+    @Test\n+    public void testGetLineNumberWithLF() throws Exception {\n+        CSVParser parser = new CSVParser(\"a\\nb\\nc\", CSVFormat.DEFAULT.withLineSeparator(\"\\n\"));\n+        \n+        assertEquals(0, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(1, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(2, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(2, parser.getLineNumber());\n+        assertNull(parser.getRecord());\n+    }\n+\n+    @Test\n+    public void testGetLineNumberWithCRLF() throws Exception {\n+        CSVParser parser = new CSVParser(\"a\\r\\nb\\r\\nc\", CSVFormat.DEFAULT.withLineSeparator(\"\\r\\n\"));\n+        \n+        assertEquals(0, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(1, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(2, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(2, parser.getLineNumber());\n+        assertNull(parser.getRecord());\n+    }\n+\n+    @Test\n+    @Ignore(\"Line counting doesn't work with CR alone as the line separator, see CSV-75\")\n+    public void testGetLineNumberWithCR() throws Exception {\n+        CSVParser parser = new CSVParser(\"a\\rb\\rc\", CSVFormat.DEFAULT.withLineSeparator(\"\\r\"));\n+        \n+        assertEquals(0, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(1, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(2, parser.getLineNumber());\n+        assertNotNull(parser.getRecord());\n+        assertEquals(2, parser.getLineNumber());\n+        assertNull(parser.getRecord());\n+    }\n }", "timestamp": 1332807621, "metainfo": ""}