{"sha": "ede131697f4a1e76d9c291e5070b700143622d30", "log": "Use a StringBuilder to accumulate attribute values.  When initially implemented I expected attribute values to normally be read in one sweep, removing the need to accumulate values. However profiling shows that attributes are often accumulated, and so the string concatination implementation was very slow.  Using a StringBuilder here gives reduces parse times > 50%.", "commit": "\n--- a/src/main/java/org/jsoup/parser/Token.java\n+++ b/src/main/java/org/jsoup/parser/Token.java\n \n     static abstract class Tag extends Token {\n         protected String tagName;\n-        private String pendingAttributeName;\n-        private String pendingAttributeValue;\n+        private String pendingAttributeName; // attribute names are generally caught in one hop, not accumulated\n+        private StringBuilder pendingAttributeValue; // but values are accumulated, from e.g. & in hrefs\n \n         boolean selfClosing = false;\n         Attributes attributes = new Attributes(); // todo: allow nodes to not have attributes\n \n         void newAttribute() {\n             if (pendingAttributeName != null) {\n+                Attribute attribute;\n                 if (pendingAttributeValue == null)\n-                    pendingAttributeValue = \"\";\n-                Attribute attribute = new Attribute(pendingAttributeName, pendingAttributeValue);\n+                    attribute = new Attribute(pendingAttributeName, \"\");\n+                else\n+                    attribute = new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n                 attributes.put(attribute);\n             }\n             pendingAttributeName = null;\n         }\n \n         void appendAttributeValue(String append) {\n-            pendingAttributeValue = pendingAttributeValue == null ? append : pendingAttributeValue.concat(append);\n+            pendingAttributeValue = pendingAttributeValue == null ? new StringBuilder(append) : pendingAttributeValue.append(append);\n         }\n \n         void appendAttributeValue(char append) {", "timestamp": 1338255560, "metainfo": ""}