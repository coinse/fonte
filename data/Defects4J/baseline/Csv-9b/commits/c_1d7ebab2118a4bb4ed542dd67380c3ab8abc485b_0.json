{"sha": "1d7ebab2118a4bb4ed542dd67380c3ab8abc485b", "log": "use strategy encapsulator in printer rather than assuming double-quote  ", "commit": "\n--- a/src/java/org/apache/commons/csv/CSVPrinter.java\n+++ b/src/java/org/apache/commons/csv/CSVPrinter.java\n    * @param value needs to be escaped and quoted\n    * @return the value, escaped and quoted\n    */\n-  private static String escapeAndQuote(String value) {\n+  private String escapeAndQuote(String value) {\n     // the initial count is for the preceding and trailing quotes\n     int count = 2;\n     for (int i = 0; i < value.length(); i++) {\n       }\n     }\n     StringBuffer sb = new StringBuffer(value.length() + count);\n-    sb.append('\"');\n+    sb.append(strategy.getEncapsulator());\n     for (int i = 0; i < value.length(); i++) {\n       char c = value.charAt(i);\n+\n+      if (c == strategy.getEncapsulator()) {\n+        sb.append('\\\\').append(c);\n+        continue;\n+      }\n       switch (c) {\n-        case '\\\"' :\n-          sb.append(\"\\\\\\\"\");\n-          break;\n         case '\\n' :\n           sb.append(\"\\\\n\");\n           break;\n           sb.append(c);\n       }\n     }\n-    sb.append('\"');\n+    sb.append(strategy.getEncapsulator());\n     return sb.toString();\n   }\n ", "timestamp": 1185229962, "metainfo": ""}