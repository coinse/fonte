{"sha": "0f4731e4fd6fd22ad250921f1c28695887f5bda6", "log": "fix problems with XmlFactory.copy()", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/XmlFactory.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/XmlFactory.java\n         _xmlOutputFactory = xmlOut;\n     }\n \n-\n     protected XmlFactory(ObjectCodec oc, int xpFeatures, int xgFeatures,\n             XMLInputFactory xmlIn, XMLOutputFactory xmlOut,\n             String nameForTextElem)\n                 _xmlInputFactory, _xmlOutputFactory,\n                 );\n      */\n+\n+    /**\n+     * @since 2.2.1\n+     */\n+    protected XmlFactory(XmlFactory src, ObjectCodec oc)\n+    {\n+        super(src, oc);\n+        _xmlParserFeatures = src._xmlParserFeatures;\n+        _xmlGeneratorFeatures = src._xmlGeneratorFeatures;\n+        _cfgNameForTextElement = src._cfgNameForTextElement;\n+        _xmlInputFactory = src._xmlInputFactory;\n+        _xmlOutputFactory = src._xmlOutputFactory;\n+    }\n     \n     protected void _initFactories(XMLInputFactory xmlIn, XMLOutputFactory xmlOut)\n     {\n     public XmlFactory copy()\n     {\n         _checkInvalidCopy(XmlFactory.class);\n-        // note: as with base class, must NOT copy mapper reference\n-        // as to XML factories... must pass as-is, unfortunately?\n-        return new XmlFactory(null, _xmlParserFeatures, _xmlGeneratorFeatures,\n-                _xmlInputFactory, _xmlOutputFactory,\n-                _cfgNameForTextElement);\n+        return new XmlFactory(this, null);\n     }\n \n     @Override", "timestamp": 1367084169, "metainfo": ""}