{"sha": "764c97ae1e691a53d2612dae15973489e0d25d60", "log": "Minor fix to keep #86 test case working properly (failing for real reason, as opposed to failing due to missing test method)", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/failing/TestUnwrappedDeserIssue86.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/failing/TestUnwrappedDeserIssue86.java\n \n import java.util.Arrays;\n import java.util.List;\n-\n-import org.junit.Test;\n \n import com.fasterxml.jackson.annotation.JsonInclude.Include;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n     public static class Issue86 {\n \n       @JacksonXmlProperty(localName = \"id\", isAttribute = true)\n-      private String id;\n+      public String id;\n \n       @JacksonXmlElementWrapper(useWrapping = false)\n       @JacksonXmlProperty(localName = \"test\")\n-      private List<Issue86> children;\n+      public List<Issue86> children;\n \n       public Issue86() {}\n \n \n       @Override\n       public boolean equals(final Object other) {\n-        if (other == null) {\n-          return false;\n-        }\n+          if (other == this) return true;\n+          if (other == null) return false;\n \n-        if (other == this) {\n-          return true;\n-        }\n+          if (!(other instanceof Issue86)) {\n+              return false;\n+          }\n \n-        if (!(other instanceof Issue86)) {\n-          return false;\n-        }\n-\n-        final Issue86 otherIssue86 = (Issue86) other;\n-        return otherIssue86.id.equals(id) && otherIssue86.children.equals(children);\n+          final Issue86 otherIssue86 = (Issue86) other;\n+          return otherIssue86.id.equals(id) && otherIssue86.children.equals(children);\n       }\n     }\n \n     /***********************************************************************\n      */\n     \n-  @Test\n-  public void deserializeUnwrappedListWhenLocalNameForRootElementAndXmlPropertyMatch() throws Exception {\n-    final String source =\n-        \"<test id=\\\"0\\\">\" +\n-            \"<test id=\\\"0.1\\\">\" +\n-                \"<test id=\\\"0.1.1\\\"/>\" +\n-            \"</test>\" +\n-            \"<test id=\\\"0.2\\\"/>\" +\n-            \"<test id=\\\"0.3\\\">\" +\n-                \"<test id=\\\"0.3.1\\\"/>\" +\n-            \"</test>\" +\n-        \"</test>\";\n-\n-    final Issue86 before = new Issue86(\"0\",\n-        Arrays.asList(new Issue86(\"0.1\",\n-                Arrays.asList(new Issue86(\"0.1.1\", null))),\n-            new Issue86(\"0.2\", null),\n-            new Issue86(\"0.3\",\n-                Arrays.asList(\n-                    new Issue86(\"0.3.1\", null)))));\n-\n-    final XmlMapper mapper = new XmlMapper();\n-    mapper.setSerializationInclusion(Include.NON_NULL);\n-\n-    final String xml = mapper.writeValueAsString(before);\n-    assertEquals(source, xml);\n-\n-    final Issue86 after = mapper.readValue(xml, Issue86.class);\n-    assertEquals(before, after);\n-  }\n+    public void testDeserializeUnwrappedListWhenLocalNameForRootElementAndXmlPropertyMatch() throws Exception\n+    {\n+        final String source =\n+            \"<test id=\\\"0\\\">\" +\n+                \"<test id=\\\"0.1\\\">\" +\n+                    \"<test id=\\\"0.1.1\\\"/>\" +\n+                \"</test>\" +\n+                \"<test id=\\\"0.2\\\"/>\" +\n+                \"<test id=\\\"0.3\\\">\" +\n+                    \"<test id=\\\"0.3.1\\\"/>\" +\n+                \"</test>\" +\n+            \"</test>\";\n+    \n+        final Issue86 before = new Issue86(\"0\",\n+            Arrays.asList(new Issue86(\"0.1\",\n+                    Arrays.asList(new Issue86(\"0.1.1\", null))),\n+                new Issue86(\"0.2\", null),\n+                new Issue86(\"0.3\",\n+                    Arrays.asList(\n+                        new Issue86(\"0.3.1\", null)))));\n+    \n+        final XmlMapper mapper = new XmlMapper();\n+        mapper.setSerializationInclusion(Include.NON_NULL);\n+    \n+        final String xml = mapper.writeValueAsString(before);\n+        assertEquals(source, xml);\n+    \n+        final Issue86 after = mapper.readValue(xml, Issue86.class);\n+        assertEquals(before, after);\n+    }\n }", "timestamp": 1451158725, "metainfo": ""}