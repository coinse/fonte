{"sha": "ca1c671c419e88a18357d497ec3671c73c37452e", "log": "minor backwards compatibility imrpovement wrt getOutputContext() between 2.7 and 2.8", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/ToXmlGenerator.java\n         return this;\n     }\n \n+    // @since 2.7.5\n+    public boolean inRoot() {\n+        return _writeContext.inRoot();\n+    }\n+\n     /*\n     /**********************************************************\n     /* Extended API, access to some internal components\n         if (isEnabled(JsonGenerator.Feature.AUTO_CLOSE_JSON_CONTENT)) {\n             try {\n                 while (true) {\n-                    JsonStreamContext ctxt = getOutputContext();\n+\t\t    /* 28-May-2016, tatu: To work around incompatibility introduced by\n+\t\t     *     `jackson-core` 2.8 where return type of `getOutputContext()`\n+\t\t     *     changed, let's do direct access here.\n+\t\t     */\n+//                    JsonStreamContext ctxt = getOutputContext();\n+\t\t    JsonStreamContext ctxt = _writeContext;\n                     if (ctxt.inArray()) {\n                         writeEndArray();\n                     } else if (ctxt.inObject()) {\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlSerializerProvider.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlSerializerProvider.java\n     protected void _initWithRootName(ToXmlGenerator xgen, QName rootName) throws IOException\n     {\n         /* 28-Nov-2012, tatu: We should only initialize the root\n-         *  name if no name has been set, as per [Issue#42],\n+         *  name if no name has been set, as per [dataformat-xml#42],\n          *  to allow for custom serializers to work.\n          */\n         if (!xgen.setNextNameIfMissing(rootName)) {\n             // however, if we are root, we... insist\n-            if (xgen.getOutputContext().inRoot()) {\n+            if (xgen.inRoot()) {\n                 xgen.setNextName(rootName);\n             }\n         }", "timestamp": 1464473230, "metainfo": ""}