{"sha": "e01860e166e8c44badf5790ef1dfed491a2199cd", "log": "Fix the unit test wrt format auto-detection", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/TestXMLFormatDetection.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/TestXMLFormatDetection.java\n         ObjectMapper mapper = new ObjectMapper();\n         XmlMapper xmlMapper = new XmlMapper();\n \n-        ObjectReader detecting = mapper.reader(POJO.class)\n-                .withFormatDetection(new JsonFactory(), xmlMapper.getFactory());\n+        ObjectReader detecting = mapper.reader(POJO.class);\n+        detecting = detecting\n+                .withFormatDetection(detecting, xmlMapper.reader(POJO.class));\n         POJO pojo = detecting.readValue(utf8Bytes(\"<POJO><y>3</y><x>1</x></POJO>\"));\n         assertNotNull(pojo);\n         assertEquals(1, pojo.x);\n         list.v.add(new POJO(3, 4));\n         String xml = xmlMapper.writeValueAsString(list);\n \n-        ListPOJO resultList = mapper.reader(ListPOJO.class)\n-                .withFormatDetection(new JsonFactory(), xmlMapper.getFactory())\n+        ObjectReader detecting = mapper.reader(ListPOJO.class);\n+        ListPOJO resultList = detecting\n+                .withFormatDetection(detecting, xmlMapper.reader(ListPOJO.class))\n                 .readValue(utf8Bytes(xml));\n         assertNotNull(resultList);\n         assertEquals(2, resultList.v.size());", "timestamp": 1346307255, "metainfo": ""}