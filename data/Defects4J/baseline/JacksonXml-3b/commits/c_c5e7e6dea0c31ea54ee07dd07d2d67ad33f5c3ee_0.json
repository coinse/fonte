{"sha": "c5e7e6dea0c31ea54ee07dd07d2d67ad33f5c3ee", "log": "Add unit test for Issue#9", "commit": "\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/xml/TestEnums.java\n+package com.fasterxml.jackson.xml;\n+\n+import org.codehaus.jackson.annotate.JsonTypeInfo;\n+\n+public class TestEnums extends XmlTestBase\n+{\n+    /*\n+    /**********************************************************\n+    /* Helper types\n+    /**********************************************************\n+     */\n+\n+    static enum TestEnum { A, B, C; }\n+\n+    static class EnumBean\n+    {\n+        public TestEnum value;\n+\n+        public EnumBean() { }\n+        public EnumBean(TestEnum v) { value = v; }\n+    }\n+    \n+    static class UntypedEnumBean\n+    {\n+        @JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include=JsonTypeInfo.As.PROPERTY, property=\"__type\")\n+        public Object value;\n+\n+        public UntypedEnumBean() { }\n+        public UntypedEnumBean(TestEnum v) { value = v; }\n+    }\n+\n+    /*\n+    /**********************************************************\n+    /* Unit tests\n+    /**********************************************************\n+     */\n+\n+    public void testEnum() throws Exception\n+    {\n+        XmlMapper mapper = new XmlMapper();\n+        String str = mapper.writeValueAsString(new EnumBean(TestEnum.B));\n+        EnumBean result = mapper.readValue(str, EnumBean.class);\n+        assertNotNull(result);\n+        assertEquals(TestEnum.B, result.value);\n+    }\n+\n+    public void testUntypedEnum() throws Exception\n+    {\n+        XmlMapper mapper = new XmlMapper();\n+        String str = mapper.writeValueAsString(new UntypedEnumBean(TestEnum.B));\n+        UntypedEnumBean result = mapper.readValue(str, UntypedEnumBean.class);\n+        assertNotNull(result);\n+        assertNotNull(result.value);\n+        Object ob = result.value;\n+        assertSame(TestEnum.class, ob.getClass());\n+        assertEquals(TestEnum.B, result.value);\n+    }\n+    \n+}", "timestamp": 1306115296, "metainfo": ""}