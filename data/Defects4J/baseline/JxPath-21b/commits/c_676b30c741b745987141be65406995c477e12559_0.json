{"sha": "676b30c741b745987141be65406995c477e12559", "log": "Corrected the behavior of boolean() and not() with variables   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/InfoSetUtil.java\n+++ b/src/java/org/apache/commons/jxpath/ri/InfoSetUtil.java\n \n import org.apache.commons.jxpath.Pointer;\n import org.apache.commons.jxpath.ri.model.NodePointer;\n+import org.apache.commons.jxpath.ri.model.VariablePointer;\n \n /**\n  * Type conversions, XPath style.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.10 $ $Date: 2004/05/08 20:07:09 $\n+ * @version $Revision: 1.11 $ $Date: 2004/07/16 22:49:33 $\n  */\n public class InfoSetUtil {\n \n         }\n         else if (object instanceof EvalContext) {\n             EvalContext ctx = (EvalContext) object;\n-            return ctx.nextSet() && ctx.nextNode();\n+            Pointer ptr = ctx.getSingleNodePointer();\n+            if (ptr == null) {\n+                return false;\n+            }\n+            return booleanValue(ptr);\n         }\n         else if (object instanceof String) {\n             return ((String) object).length() != 0;\n         }\n         else if (object instanceof NodePointer) {\n-            return ((NodePointer) object).isActual();\n+            NodePointer pointer = (NodePointer) object;\n+            if (pointer instanceof VariablePointer) {\n+                return booleanValue(pointer.getNode());\n+            }\n+            pointer = pointer.getValuePointer();\n+            return pointer.isActual();\n         }\n         else if (object == null) {\n             return false;", "timestamp": 1090018173, "metainfo": ""}