{"sha": "ff833bd63fcc5d1ceb43288db0fd1c16a1893ef1", "log": "[JXPATH-104] testcase  ", "commit": "\n--- a/src/test/org/apache/commons/jxpath/JXPathTestSuite.java\n+++ b/src/test/org/apache/commons/jxpath/JXPathTestSuite.java\n import org.apache.commons.jxpath.ri.compiler.CoreOperationTest;\n import org.apache.commons.jxpath.ri.compiler.ExtensionFunctionTest;\n import org.apache.commons.jxpath.ri.compiler.VariableTest;\n+import org.apache.commons.jxpath.ri.model.EmbeddedColonMapKeysTest;\n import org.apache.commons.jxpath.ri.model.EmptyCollectionTest;\n import org.apache.commons.jxpath.ri.model.ExternalXMLNamespaceTest;\n import org.apache.commons.jxpath.ri.model.MixedModelTest;\n         suite.addTestSuite(XMLPreserveSpaceTest.class);\n         suite.addTestSuite(ExternalXMLNamespaceTest.class);\n         suite.addTestSuite(BadlyImplementedFactoryTest.class);\n+        suite.addTestSuite(EmbeddedColonMapKeysTest.class);\n         return suite;\n     }\n }\n--- /dev/null\n+++ b/src/test/org/apache/commons/jxpath/ri/model/EmbeddedColonMapKeysTest.java\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.commons.jxpath.ri.model;\n+\n+import java.util.HashMap;\n+\n+import org.apache.commons.jxpath.JXPathContext;\n+import org.apache.commons.jxpath.JXPathTestCase;\n+\n+/**\n+ * JXPATH-104 test.\n+ * \n+ * @author Matt Benson\n+ * @version $Revision$ $Date$\n+ */\n+public class EmbeddedColonMapKeysTest extends JXPathTestCase {\n+    private JXPathContext context;\n+\n+    /*\n+     * (non-Javadoc)\n+     * \n+     * @see junit.framework.TestCase#setUp()\n+     */\n+    protected void setUp() throws Exception {\n+        super.setUp();\n+        HashMap m = new HashMap();\n+        m.put(\"foo:key\", \"value\");\n+        context = JXPathContext.newContext(m);\n+        context.setLenient(true);\n+    }\n+\n+    /**\n+     * Create a new EmbeddedColonMapKeysTest.\n+     */\n+    public EmbeddedColonMapKeysTest(String name) {\n+        super(name);\n+    }\n+\n+    public void testSelectNodes() throws Exception {\n+        assertXPathValueIterator(context, \"/.[@name='foo:key']\", list(\"value\"));\n+        assertXPathValueIterator(context, \"/foo:key\", list());\n+    }\n+\n+    public void testSelectSingleNode() throws Exception {\n+        assertXPathValue(context, \"/.[@name='foo:key']\", \"value\");\n+        assertXPathValueLenient(context, \"/foo:key\", null);\n+    }\n+}", "timestamp": 1196888728, "metainfo": ""}