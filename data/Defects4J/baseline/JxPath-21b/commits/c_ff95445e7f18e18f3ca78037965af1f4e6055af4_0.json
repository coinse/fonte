{"sha": "ff95445e7f18e18f3ca78037965af1f4e6055af4", "log": "Fixed a problem caused by \"from\" index greater than the string s length.  Thanks to Barzilai Spinak  ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java\n+++ b/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java\n         }\n \n         from = Math.round(from);\n+        if (from > s1.length() + 1) {\n+            return \"\";\n+        }\n         if (ac == 2) {\n             if (from < 1) {\n                 from = 1;\n--- a/src/test/org/apache/commons/jxpath/ri/compiler/CoreFunctionTest.java\n+++ b/src/test/org/apache/commons/jxpath/ri/compiler/CoreFunctionTest.java\n         assertXPathValue(context, \"substring('12345', 1, 0 div 0)\", \"\");\n         assertXPathValue(context, \"substring('12345', -42, 1 div 0)\", \"12345\");\n         assertXPathValue(context, \"substring('12345', -1 div 0, 1 div 0)\", \"\");\n+        assertXPathValue(context, \"substring('12345', 6, 6)\", \"\");\n+        assertXPathValue(context, \"substring('12345', 7, 8)\", \"\");\n+        assertXPathValue(context, \"substring('12345', 7)\", \"\");\n         assertXPathValue(context, \"string-length('12345')\", new Double(5));\n         assertXPathValue(context, \"normalize-space(' abc  def  ')\", \"abc def\");\n         assertXPathValue(context, \"normalize-space('abc def')\", \"abc def\");", "timestamp": 1142902087, "metainfo": ""}