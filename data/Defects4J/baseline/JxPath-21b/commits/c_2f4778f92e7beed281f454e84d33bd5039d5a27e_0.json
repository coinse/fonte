{"sha": "2f4778f92e7beed281f454e84d33bd5039d5a27e", "log": "[JXPATH-123]  ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/NamespaceResolver.java\n+++ b/src/java/org/apache/commons/jxpath/ri/NamespaceResolver.java\n package org.apache.commons.jxpath.ri;\n \n import java.util.HashMap;\n-import java.util.Iterator;\n-import java.util.Map;\n \n import org.apache.commons.jxpath.Pointer;\n import org.apache.commons.jxpath.ri.model.NodeIterator;\n     /** namespace map */\n     protected HashMap namespaceMap = new HashMap();\n     /** reverse lookup map */\n-    protected HashMap reverseMap;\n+    protected HashMap reverseMap = new HashMap();\n     /** pointer */\n     protected NodePointer pointer;\n     private boolean sealed;\n                     \"Cannot register namespaces on a sealed NamespaceResolver\");\n         }\n         namespaceMap.put(prefix, namespaceURI);\n-        reverseMap = null;\n+        reverseMap.put(namespaceURI, prefix);\n     }\n \n     /**\n      * @since JXPath 1.3\n      */\n     protected synchronized String getExternallyRegisteredPrefix(String namespaceURI) {\n-        if (reverseMap == null) {\n-            reverseMap = new HashMap();\n-            Iterator it = namespaceMap.entrySet().iterator();\n-            while (it.hasNext()) {\n-                Map.Entry entry = (Map.Entry) it.next();\n-                reverseMap.put(entry.getValue(), entry.getKey());\n-            }\n-        }\n         String prefix = (String) reverseMap.get(namespaceURI);\n         return prefix == null && parent != null ? parent\n                 .getExternallyRegisteredPrefix(namespaceURI) : prefix;", "timestamp": 1213228229, "metainfo": ""}