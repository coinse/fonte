{"sha": "680c156a8f111449b3ea9bd1a7d6053b1ebb8bc6", "log": "[JXPATH-108] count nodes in a NodeSet  ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java\n+++ b/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java\n         else if (value instanceof Collection) {\n             count = ((Collection) value).size();\n         }\n+        else if (value instanceof NodeSet) {\n+            count = ((NodeSet) value).getPointers().size();\n+        }\n         else if (value == null) {\n             count = 0;\n         }\n--- a/src/test/org/apache/commons/jxpath/ri/compiler/ExtensionFunctionTest.java\n+++ b/src/test/org/apache/commons/jxpath/ri/compiler/ExtensionFunctionTest.java\n             \"test:nodeSet()/@name\",\n             \"Name 1\",\n             \"/beans[1]/@name\");\n+\n+        assertEquals(2, ((Number) context.getValue(\"count(test:nodeSet())\")).intValue());\n     }\n \n     public void testEstablishNodeSetBaseline() {", "timestamp": 1197415450, "metainfo": ""}