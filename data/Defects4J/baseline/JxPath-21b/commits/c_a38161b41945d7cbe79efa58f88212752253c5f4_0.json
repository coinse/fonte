{"sha": "a38161b41945d7cbe79efa58f88212752253c5f4", "log": "Added a generic iterator   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/util/ValueUtils.java\n+++ b/src/java/org/apache/commons/jxpath/util/ValueUtils.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/util/ValueUtils.java,v 1.3 2002/04/26 03:28:37 dmitri Exp $\n- * $Revision: 1.3 $\n- * $Date: 2002/04/26 03:28:37 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/util/ValueUtils.java,v 1.4 2002/04/28 04:31:13 dmitri Exp $\n+ * $Revision: 1.4 $\n+ * $Date: 2002/04/28 04:31:13 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n \n /**\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.3 $ $Date: 2002/04/26 03:28:37 $\n+ * @version $Revision: 1.4 $ $Date: 2002/04/28 04:31:13 $\n  */\n public class ValueUtils {\n     private static Map dynamicPropertyHandlerMap = new HashMap();\n         }\n         else {\n             return 1;\n+        }\n+    }\n+    \n+    public static Iterator iterate(Object collection){\n+        if (collection == null){\n+            return Collections.EMPTY_LIST.iterator();\n+        }\n+        if (collection.getClass().isArray()){\n+            int length = Array.getLength(collection);\n+            if (length == 0){\n+                return Collections.EMPTY_LIST.iterator();\n+            }\n+            ArrayList list = new ArrayList();\n+            for (int i = 0; i < length; i++){\n+                list.add(Array.get(collection, i));\n+            }\n+            return list.iterator();\n+        }\n+        else if (collection instanceof Collection){\n+            return ((Collection)collection).iterator();\n+        }\n+        else {\n+            return Collections.singletonList(collection).iterator();\n         }\n     }\n ", "timestamp": 1019968273, "metainfo": ""}