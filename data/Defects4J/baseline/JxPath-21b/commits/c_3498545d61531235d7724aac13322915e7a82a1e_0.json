{"sha": "3498545d61531235d7724aac13322915e7a82a1e", "log": "refine cache clearing  ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/BasicNodeSet.java\n+++ b/src/java/org/apache/commons/jxpath/BasicNodeSet.java\n     private List values;\n \n     public void add(Pointer pointer) {\n-        pointers.add(pointer);\n-        clearCacheLists();\n+        if (pointers.add(pointer)) {\n+            clearCacheLists();\n+        }\n     }\n \n     public void add(NodeSet nodeSet) {\n-        pointers.addAll(nodeSet.getPointers());\n-        clearCacheLists();\n+        if (pointers.addAll(nodeSet.getPointers())) {\n+            clearCacheLists();\n+        }\n     }\n \n     public void remove(Pointer pointer) {\n-        pointers.remove(pointer);\n-        clearCacheLists();\n+        if (pointers.remove(pointer)) {\n+            clearCacheLists();\n+        }\n     }\n-    \n+\n     public synchronized List getPointers() {\n         if (readOnlyPointers == null) {\n             readOnlyPointers = Collections.unmodifiableList(pointers);\n         }\n         return values;\n     }\n-    \n+\n     public String toString() {\n         return pointers.toString();\n     }\n         nodes = null;\n         values = null;\n     }\n+\n }", "timestamp": 1197474046, "metainfo": ""}