{"sha": "834d3142304e0927dc659791da6a4521f271d7fd", "log": "Added a forms() convenience method to Elements  This allows one to get at FormElements without casting.", "commit": "\n--- a/src/main/java/org/jsoup/select/Elements.java\n+++ b/src/main/java/org/jsoup/select/Elements.java\n \n import org.jsoup.helper.Validate;\n import org.jsoup.nodes.Element;\n+import org.jsoup.nodes.FormElement;\n import org.jsoup.nodes.Node;\n \n import java.util.*;\n         return this;\n     }\n \n+    /**\n+     * Get the {@link FormElement} forms from the selected elements, if any.\n+     * @return a list of FormElements pulled from the matched elements. The list will be empty if the elements contain\n+     * no forms.\n+     */\n+    public List<FormElement> forms() {\n+        ArrayList<FormElement> forms = new ArrayList<FormElement>();\n+        for (Element el: contents)\n+            if (el instanceof FormElement)\n+                forms.add((FormElement) el);\n+        return forms;\n+    }\n+\n     // implements List<Element> delegates:\n     public int size() {return contents.size();}\n \n--- a/src/test/java/org/jsoup/select/ElementsTest.java\n+++ b/src/test/java/org/jsoup/select/ElementsTest.java\n import org.jsoup.Jsoup;\n import org.jsoup.TextUtil;\n import org.jsoup.nodes.Document;\n+import org.jsoup.nodes.FormElement;\n import org.jsoup.nodes.Node;\n import org.junit.Test;\n+\n+import java.util.List;\n+\n import static org.junit.Assert.*;\n \n /**\n         });\n         assertEquals(\"<div><p><#text></#text></p></div><div><#text></#text></div>\", accum.toString());\n     }\n+\n+    @Test public void forms() {\n+        Document doc = Jsoup.parse(\"<form id=1><input name=q></form><div /><form id=2><input name=f></form>\");\n+        Elements els = doc.select(\"*\");\n+        assertEquals(9, els.size());\n+\n+        List<FormElement> forms = els.forms();\n+        assertEquals(2, forms.size());\n+        assertTrue(forms.get(0) != null);\n+        assertTrue(forms.get(1) != null);\n+        assertEquals(\"1\", forms.get(0).id());\n+        assertEquals(\"2\", forms.get(1).id());\n+    }\n }", "timestamp": 1361041296, "metainfo": ""}