{"sha": "6fcffa8f400ec9980b9fa30d3f737eceb46be234", "log": "Modified parser to add elements found past </body> into body.", "commit": "\n--- a/src/main/java/org/jsoup/parser/Parser.java\n+++ b/src/main/java/org/jsoup/parser/Parser.java\n         for (int i = stack.size() -1; i > 0; i--) {\n             counter++;\n             Element el = stack.get(i);\n-            if (el.getTag().equals(tag)) {\n+            Tag elTag = el.getTag();\n+            if (elTag.equals(bodyTag) || elTag.equals(htmlTag)) { // once in body, don't close past body\n+                break;\n+            } else if (elTag.equals(tag)) {\n                 elToClose = el;\n                 break;\n             }\n--- a/src/test/java/org/jsoup/parser/ParserTest.java\n+++ b/src/test/java/org/jsoup/parser/ParserTest.java\n         Element div1 = doc.getElementById(\"1\");\n         assertTrue(div1.children().isEmpty());\n     }\n+    \n+    @Test public void handlesMultiClosingBody() {\n+        String h = \"<body><p>Hello</body><p>there</p></body></body></html><p>now\";\n+        Document doc = Jsoup.parse(h);\n+        assertEquals(3, doc.select(\"p\").size());\n+        assertEquals(3, doc.getBody().children().size());\n+    }\n \n \n }", "timestamp": 1309605104, "metainfo": ""}