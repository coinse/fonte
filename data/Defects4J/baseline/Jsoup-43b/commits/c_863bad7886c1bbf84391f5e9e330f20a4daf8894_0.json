{"sha": "863bad7886c1bbf84391f5e9e330f20a4daf8894", "log": "Follow POST redirects as GETs  Fixes #120", "commit": "\n--- a/src/main/java/org/jsoup/helper/HttpConnection.java\n+++ b/src/main/java/org/jsoup/helper/HttpConnection.java\n             Response res = new Response(previousResponse);\n             res.setupFromConnection(conn, previousResponse);\n             if (needsRedirect && req.followRedirects()) {\n+                req.method(Method.GET); // always redirect with a get. any data param from original req are dropped.\n+                req.data().clear();\n                 req.url(new URL(req.url(), res.header(\"Location\")));\n                 for (Map.Entry<String, String> cookie : res.cookies.entrySet()) { // add response cookies to request (for e.g. login posts)\n                     req.cookie(cookie.getKey(), cookie.getValue());\n--- a/src/test/java/org/jsoup/integration/UrlConnectTest.java\n+++ b/src/test/java/org/jsoup/integration/UrlConnectTest.java\n     }\n \n     @Test\n+    public void postRedirectsFetchWithGet() throws IOException {\n+        Connection con = Jsoup.connect(\"http://infohound.net/tools/302.pl\")\n+                .data(\"Argument\", \"Riposte\")\n+                .method(Connection.Method.POST);\n+        Connection.Response res = con.execute();\n+        assertEquals(\"http://jsoup.org\", res.url().toExternalForm());\n+        assertEquals(Connection.Method.GET, res.method());\n+    }\n+\n+    @Test\n     public void followsRedirectToHttps() throws IOException {\n         Connection con = Jsoup.connect(\"http://infohound.net/tools/302-secure.pl\"); // https://www.google.com\n         con.data(\"id\", \"5\");", "timestamp": 1310783973, "metainfo": ""}