{"sha": "508b814837fdca522c17838e9a750812c5cdcc8c", "log": "Should not return a NullPointer in the non-lenient mode   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/JXPathContextReferenceImpl.java\n+++ b/src/java/org/apache/commons/jxpath/ri/JXPathContextReferenceImpl.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/JXPathContextReferenceImpl.java,v 1.19 2002/06/08 22:47:25 dmitri Exp $\n- * $Revision: 1.19 $\n- * $Date: 2002/06/08 22:47:25 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/JXPathContextReferenceImpl.java,v 1.20 2002/08/10 01:30:39 dmitri Exp $\n+ * $Revision: 1.20 $\n+ * $Date: 2002/08/10 01:30:39 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * The reference implementation of JXPathContext.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.19 $ $Date: 2002/06/08 22:47:25 $\n+ * @version $Revision: 1.20 $ $Date: 2002/08/10 01:30:39 $\n  */\n public class JXPathContextReferenceImpl extends JXPathContext\n {\n         nodeFactories.add(new CollectionPointerFactory());\n         nodeFactories.add(new BeanPointerFactory());\n         nodeFactories.add(new DynamicPointerFactory());\n+\n         Object domFactory = allocateConditionally(\n                 \"org.apache.commons.jxpath.ri.model.dom.DOMPointerFactory\",\n                 \"org.w3c.dom.Node\");\n         if (domFactory != null){\n             nodeFactories.add(domFactory);\n         }\n+/* TBD\n+        Object jdomFactory = allocateConditionally(\n+                \"org.apache.commons.jxpath.ri.model.jdom.JDOMPointerFactory\",\n+                \"org.jdom.Document\");\n+        if (jdomFactory != null){\n+            nodeFactories.add(jdomFactory);\n+        }\n+*/\n         nodeFactories.add(new ContainerPointerFactory());\n         createNodeFactoryArray();\n     }\n             result = ((EvalContext)result).getSingleNodePointer();\n         }\n         if (result instanceof Pointer){\n+            if (!lenient && !((NodePointer)result).isActual()){\n+                throw new JXPathException(\"No pointer for xpath: \" + xpath);\n+            }\n             return (Pointer)result;\n         }\n         else {", "timestamp": 1028943039, "metainfo": ""}