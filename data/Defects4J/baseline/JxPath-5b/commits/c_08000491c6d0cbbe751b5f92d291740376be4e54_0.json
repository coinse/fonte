{"sha": "08000491c6d0cbbe751b5f92d291740376be4e54", "log": "Fixed name(), local-name() and namespace-uri() without arguments   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java\n+++ b/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java,v 1.13 2003/10/09 21:31:39 rdonkin Exp $\n- * $Revision: 1.13 $\n- * $Date: 2003/10/09 21:31:39 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/compiler/CoreFunction.java,v 1.14 2004/02/05 00:22:30 dmitri Exp $\n+ * $Revision: 1.14 $\n+ * $Date: 2004/02/05 00:22:30 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * like \"position()\" or \"number()\".\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.13 $ $Date: 2003/10/09 21:31:39 $\n+ * @version $Revision: 1.14 $ $Date: 2004/02/05 00:22:30 $\n  */\n public class CoreFunction extends Operation {\n \n \n     protected Object functionNamespaceURI(EvalContext context) {\n         if (getArgumentCount() == 0) {\n-            return context.getCurrentNodePointer();\n+            NodePointer ptr = context.getCurrentNodePointer();\n+            String str = ptr.getNamespaceURI();\n+            return str == null ? \"\" : str;\n         }\n         assertArgCount(1);\n         Object set = getArg1().compute(context);\n \n     protected Object functionLocalName(EvalContext context) {\n         if (getArgumentCount() == 0) {\n-            return context.getCurrentNodePointer();\n+            NodePointer ptr = context.getCurrentNodePointer();\n+            return ptr.getName().getName();\n         }\n         assertArgCount(1);\n         Object set = getArg1().compute(context);\n \n     protected Object functionName(EvalContext context) {\n         if (getArgumentCount() == 0) {\n-            return context.getCurrentNodePointer();\n+            NodePointer ptr = context.getCurrentNodePointer();\n+            return ptr.getExpandedName().toString();\n         }\n         assertArgCount(1);\n         Object set = getArg1().compute(context);", "timestamp": 1075940550, "metainfo": ""}