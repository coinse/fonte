{"sha": "90874f851fd6e9a8dcd8e0bda36ad817fdeeb2f3", "log": "Fixed getNode() - should return Attr rather than the value of Attr   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/model/dom/DOMAttributePointer.java\n+++ b/src/java/org/apache/commons/jxpath/ri/model/dom/DOMAttributePointer.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/model/dom/DOMAttributePointer.java,v 1.12 2003/10/09 21:31:41 rdonkin Exp $\n- * $Revision: 1.12 $\n- * $Date: 2003/10/09 21:31:41 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/model/dom/DOMAttributePointer.java,v 1.13 2003/11/02 23:19:33 dmitri Exp $\n+ * $Revision: 1.13 $\n+ * $Date: 2003/11/02 23:19:33 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * A Pointer that points to a DOM node.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.12 $ $Date: 2003/10/09 21:31:41 $\n+ * @version $Revision: 1.13 $ $Date: 2003/11/02 23:19:33 $\n  */\n public class DOMAttributePointer extends NodePointer {\n     private Attr attr;\n         return parent.getNamespaceURI(prefix);\n     }\n \n+    public Object getValue() {\n+        String value = attr.getValue();\n+        if (value == null) {\n+            return null;\n+        }\n+        if (value.equals(\"\") && !attr.getSpecified()) {\n+            return null;\n+        }\n+        return value;\n+    }\n+    \n     public Object getBaseValue() {\n         return attr;\n     }\n     }    \n \n     public Object getImmediateNode() {\n-        String value = attr.getValue();\n-        if (value == null) {\n-            return null;\n-        }\n-        if (value.equals(\"\") && !attr.getSpecified()) {\n-            return null;\n-        }\n-        return value;\n+        return attr;\n     }\n \n     public boolean isActual() {\n--- a/src/java/org/apache/commons/jxpath/ri/model/jdom/JDOMAttributePointer.java\n+++ b/src/java/org/apache/commons/jxpath/ri/model/jdom/JDOMAttributePointer.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/model/jdom/JDOMAttributePointer.java,v 1.7 2003/10/09 21:31:41 rdonkin Exp $\n- * $Revision: 1.7 $\n- * $Date: 2003/10/09 21:31:41 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/model/jdom/JDOMAttributePointer.java,v 1.8 2003/11/02 23:19:43 dmitri Exp $\n+ * $Revision: 1.8 $\n+ * $Date: 2003/11/02 23:19:43 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * A Pointer that points to a DOM node.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.7 $ $Date: 2003/10/09 21:31:41 $\n+ * @version $Revision: 1.8 $ $Date: 2003/11/02 23:19:43 $\n  */\n public class JDOMAttributePointer extends NodePointer {\n     private Attribute attr;\n         return uri;\n     }\n \n+    public Object getValue() {\n+        return attr.getValue();\n+    }    \n+    \n     public Object getBaseValue() {\n         return attr;\n     }\n     }    \n \n     public Object getImmediateNode() {\n-        String value = attr.getValue();\n-        if (value == null) {\n-            return null;\n-        }\n-        return value;\n+        return attr;\n     }\n \n     public boolean isActual() {", "timestamp": 1067815183, "metainfo": ""}