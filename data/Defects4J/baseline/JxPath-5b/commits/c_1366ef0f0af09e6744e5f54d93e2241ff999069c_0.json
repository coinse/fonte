{"sha": "1366ef0f0af09e6744e5f54d93e2241ff999069c", "log": "Changed the default from namespaceAware = false to namespaceAware = true   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/xml/JDOMParser.java\n+++ b/src/java/org/apache/commons/jxpath/xml/JDOMParser.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/xml/JDOMParser.java,v 1.6 2004/01/19 20:44:52 dmitri Exp $\n- * $Revision: 1.6 $\n- * $Date: 2004/01/19 20:44:52 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/xml/JDOMParser.java,v 1.7 2004/01/19 22:17:02 dmitri Exp $\n+ * $Revision: 1.7 $\n+ * $Date: 2004/01/19 22:17:02 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * An implementation of the XMLParser interface that produces a JDOM Document.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.6 $ $Date: 2004/01/19 20:44:52 $\n+ * @version $Revision: 1.7 $ $Date: 2004/01/19 22:17:02 $\n  */\n public class JDOMParser extends XMLParser2 {\n     \n-    /**\n-     * Temporary fix for JDOM problem - JDOM B9 does not properly handle\n-     * isNamespaceAware = false\n-     */\n-    public boolean isNamespaceAware() {\n-        return true;\n-    }\n-    \n     public Object parseXML(InputStream stream) {\n+        if (!isNamespaceAware()) {\n+            throw new JXPathException(\"JDOM parser configuration error. JDOM \"\n+                    + \"does not support the namespaceAware=false setting.\");\n+        }\n+        \n         try {\n             SAXBuilder builder = new SAXBuilder();\n             builder.setExpandEntities(isExpandEntityReferences());\n             builder.setIgnoringElementContentWhitespace(\n                     isIgnoringElementContentWhitespace());\n             builder.setValidation(isValidating());\n-            builder.setFeature(\n-                    \"http://xml.org/sax/features/namespaces\",\n-                    isNamespaceAware());\n-            builder.setFeature(\n-                    \"http://xml.org/sax/features/namespace-prefixes\",\n-                    false);\n             return builder.build(stream);\n         }\n         catch (Exception ex) {\n-            ex.printStackTrace();\n             throw new JXPathException(\"JDOM parser error\", ex);\n         }\n     }\n--- a/src/java/org/apache/commons/jxpath/xml/XMLParser2.java\n+++ b/src/java/org/apache/commons/jxpath/xml/XMLParser2.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/xml/XMLParser2.java,v 1.1 2004/01/18 01:42:58 dmitri Exp $\n- * $Revision: 1.1 $\n- * $Date: 2004/01/18 01:42:58 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/xml/XMLParser2.java,v 1.2 2004/01/19 22:17:02 dmitri Exp $\n+ * $Revision: 1.2 $\n+ * $Date: 2004/01/19 22:17:02 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * The features have the same defaults as DocumentBuilderFactory.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.1 $ $Date: 2004/01/18 01:42:58 $\n+ * @version $Revision: 1.2 $ $Date: 2004/01/19 22:17:02 $\n  */\n public abstract class XMLParser2 implements XMLParser \n {\n     private boolean validating = false;\n-    private boolean namespaceAware = false;\n+    private boolean namespaceAware = true;\n     private boolean whitespace = false;\n     private boolean expandEntityRef = true;\n     private boolean ignoreComments = false;", "timestamp": 1074550622, "metainfo": ""}