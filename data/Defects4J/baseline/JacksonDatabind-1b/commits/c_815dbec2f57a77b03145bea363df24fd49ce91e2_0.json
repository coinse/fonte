{"sha": "815dbec2f57a77b03145bea363df24fd49ce91e2", "log": "Added failing test for object deserialization based on id", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/failing/TestObjectIdSerialization.java\n+++ b/src/test/java/com/fasterxml/jackson/failing/TestObjectIdSerialization.java\n import com.fasterxml.jackson.annotation.ObjectIdGenerators;\n import com.fasterxml.jackson.databind.BaseMapTest;\n import com.fasterxml.jackson.databind.ObjectMapper;\n-import com.fasterxml.jackson.databind.annotation.JsonSerialize;\n import java.util.LinkedHashSet;\n import java.util.Set;\n \n         @JsonIdentityReference(alwaysAsId = true)\n         public SetContainer objGroup;\n \n+        public Obj() {\n+        }\n+\n         public Obj(int id) {\n             this.id = id;\n         }\n //        @JsonSerialize(contentAs = Obj.class)\n         public Set<Obj> objs = new LinkedHashSet<Obj>();\n \n+        public SetContainer() {\n+        }\n+\n         public SetContainer(int id) {\n             this.id = id;\n         }\n         public int id;\n         @JsonIdentityReference(alwaysAsId = true)\n         public Obj[] objs;\n+\n+        public ArrContainer() {\n+        }\n \n         public ArrContainer(int id) {\n             this.id = id;\n         String json = MAPPER.writeValueAsString(os);\n         assertEquals(EXP_ARR_SET, json);\n     }\n+\n+    public void testDeserialization() throws Exception {\n+        Obj o = new Obj(1);\n+        o.objGroup = new SetContainer(4);\n+        String json = MAPPER.writeValueAsString(o);\n+        Obj deser = MAPPER.readValue(json, Obj.class);\n+        assertEquals(deser.id, 1);\n+        assertEquals(deser.objGroup.id, 4);\n+    }\n }", "timestamp": 1358769033, "metainfo": ""}