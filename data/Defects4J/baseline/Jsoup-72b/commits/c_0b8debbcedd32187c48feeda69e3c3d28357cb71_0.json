{"sha": "0b8debbcedd32187c48feeda69e3c3d28357cb71", "log": "Add Connection.headers(map)", "commit": "\n--- a/src/main/java/org/jsoup/Connection.java\n+++ b/src/main/java/org/jsoup/Connection.java\n     Connection header(String name, String value);\n \n     /**\n+     * Adds each of the supplied headers to the request.\n+     * @param headers map of headers name {@literal ->} value pairs\n+     * @return this Connection, for chaining\n+     * @see org.jsoup.Connection.Request#headers()\n+     */\n+    Connection headers(Map<String,String> headers);\n+\n+    /**\n      * Set a cookie to be sent in the request.\n      * @param name name of cookie\n      * @param value value of cookie\n--- a/src/main/java/org/jsoup/helper/HttpConnection.java\n+++ b/src/main/java/org/jsoup/helper/HttpConnection.java\n \n     public Connection header(String name, String value) {\n         req.header(name, value);\n+        return this;\n+    }\n+\n+    public Connection headers(Map<String,String> headers) {\n+        Validate.notNull(headers, \"Header map must not be null\");\n+        for (Map.Entry<String,String> entry : headers.entrySet()) {\n+            req.header(entry.getKey(),entry.getValue());\n+        }\n         return this;\n     }\n \n--- a/src/test/java/org/jsoup/helper/HttpConnectionTest.java\n+++ b/src/test/java/org/jsoup/helper/HttpConnectionTest.java\n         res.header(\"accept-encoding\", \"deflate\");\n         assertEquals(\"deflate\", res.header(\"Accept-Encoding\"));\n         assertEquals(\"deflate\", res.header(\"accept-Encoding\"));\n+    }\n+\n+    @Test public void headers() {\n+        Connection con = HttpConnection.connect(\"http://example.com\");\n+        Map<String, String> headers = new HashMap<String, String>();\n+        headers.put(\"content-type\", \"text/html\");\n+        headers.put(\"Connection\", \"keep-alive\");\n+        headers.put(\"Host\", \"http://example.com\");\n+        con.headers(headers);\n+        assertEquals(\"text/html\", con.request().header(\"content-type\"));\n+        assertEquals(\"keep-alive\", con.request().header(\"Connection\"));\n+        assertEquals(\"http://example.com\", con.request().header(\"Host\"));\n     }\n \n     @Test public void sameHeadersCombineWithComma() {", "timestamp": 1467209112, "metainfo": ""}