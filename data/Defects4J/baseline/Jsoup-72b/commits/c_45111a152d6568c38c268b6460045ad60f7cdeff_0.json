{"sha": "45111a152d6568c38c268b6460045ad60f7cdeff", "log": "Ensure Android 8 compatibility  Fixes #948", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Attributes.java\n+++ b/src/main/java/org/jsoup/nodes/Attributes.java\n         if (minNewSize > newSize)\n             newSize = minNewSize;\n \n-        keys = Arrays.copyOf(keys, newSize);\n-        vals = Arrays.copyOf(vals, newSize);\n+        keys = copyOf(keys, newSize);\n+        vals = copyOf(vals, newSize);\n+    }\n+\n+    // simple implementation of Arrays.copy, for support of Android API 8.\n+    private static String[] copyOf(String[] orig, int size) {\n+        final String[] copy = new String[size];\n+        System.arraycopy(orig, 0, copy, 0,\n+                Math.min(orig.length, size));\n+        return copy;\n     }\n \n     int indexOfKey(String key) {\n             throw new RuntimeException(e);\n         }\n         clone.size = size;\n-        keys = Arrays.copyOf(keys, size);\n-        vals = Arrays.copyOf(vals, size);\n+        keys = copyOf(keys, size);\n+        vals = copyOf(vals, size);\n         return clone;\n     }\n \n--- a/src/main/java/org/jsoup/nodes/Document.java\n+++ b/src/main/java/org/jsoup/nodes/Document.java\n \n import java.nio.charset.Charset;\n import java.nio.charset.CharsetEncoder;\n-import java.nio.charset.StandardCharsets;\n import java.util.ArrayList;\n import java.util.List;\n \n         private Syntax syntax = Syntax.html;\n \n         public OutputSettings() {\n-            charset(StandardCharsets.UTF_8);\n+            charset(Charset.forName(\"UTF8\"));\n         }\n         \n         /**", "timestamp": 1507419900, "metainfo": ""}