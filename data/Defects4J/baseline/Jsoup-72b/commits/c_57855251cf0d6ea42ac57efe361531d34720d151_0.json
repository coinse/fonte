{"sha": "57855251cf0d6ea42ac57efe361531d34720d151", "log": "Minor fix for the parsing of non-empty selects", "commit": "\n--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n                     if (name.equals(\"html\"))\n                         return tb.process(start, InBody);\n                     else if (name.equals(\"option\")) {\n-                        tb.processEndTag(\"option\");\n+                        if (tb.currentElement().nodeName().equals(\"option\"))\n+                            tb.processEndTag(\"option\");\n                         tb.insert(start);\n                     } else if (name.equals(\"optgroup\")) {\n                         if (tb.currentElement().nodeName().equals(\"option\"))\n--- a/src/test/java/org/jsoup/parser/HtmlParserTest.java\n+++ b/src/test/java/org/jsoup/parser/HtmlParserTest.java\n         assertEquals(2, options.size());\n         assertEquals(\"One\", options.first().text());\n         assertEquals(\"TwoThree\", options.last().text());\n+    }\n+\n+    @Test public void testSelectWithOption() {\n+        Parser parser = Parser.htmlParser();\n+        parser.setTrackErrors(10);\n+        Document document = parser.parseInput(\"<select><option>Option 1</option></select>\", \"http://jsoup.org\");\n+        assertEquals(0, parser.getErrors().size());\n     }\n \n     @Test public void testSpaceAfterTag() {", "timestamp": 1485303823, "metainfo": ""}