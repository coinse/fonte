{"sha": "397a0caeb374c55b8dcb58e09d0faebb6e017252", "log": "[fix] parsing of mixed-case tags after b934c5d (#942)", "commit": "\n--- a/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n+++ b/src/main/java/org/jsoup/parser/HtmlTreeBuilderState.java\n         }\n \n         boolean anyOtherEndTag(Token t, HtmlTreeBuilder tb) {\n-            String name = t.asEndTag().name(); // matches with case sensitivity if enabled\n+            String name = tb.settings.normalizeTag(t.asEndTag().name()); // matches with case sensitivity if enabled\n             ArrayList<Element> stack = tb.getStack();\n             for (int pos = stack.size() -1; pos >= 0; pos--) {\n                 Element node = stack.get(pos);\n--- a/src/test/java/org/jsoup/parser/HtmlParserTest.java\n+++ b/src/test/java/org/jsoup/parser/HtmlParserTest.java\n         assertEquals(\"<r> <X> A </X> <y> B </y> </r>\", StringUtil.normaliseWhitespace(doc.body().html()));\n     }\n \n+    @Test public void caseInsensitiveParseTree() {\n+        String html = \"<r><X>A</X><y>B</y></r>\";\n+        Parser parser = Parser.htmlParser();\n+        Document doc = parser.parseInput(html, \"\");\n+        assertEquals(\"<r> <x> A </x> <y> B </y> </r>\", StringUtil.normaliseWhitespace(doc.body().html()));\n+    }\n+\n     @Test public void selfClosingVoidIsNotAnError() {\n         String html = \"<p>test<br/>test<br/></p>\";\n         Parser parser = Parser.htmlParser().setTrackErrors(5);", "timestamp": 1507414505, "metainfo": ""}