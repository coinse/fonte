{"sha": "d8fb52127f867cdf5171429dac2b812382170dd5", "log": "Close input stream after reading to release resources", "commit": "\n--- a/src/main/java/org/jsoup/helper/HttpConnection.java\n+++ b/src/main/java/org/jsoup/helper/HttpConnection.java\n             Validate.isFalse(inputStreamRead, \"Input stream already read and parsed, cannot re-read.\");\n             Document doc = DataUtil.parseInputStream(bodyStream, charset, url.toExternalForm(), req.parser());\n             charset = doc.outputSettings().charset().name(); // update charset from meta-equiv, possibly\n-            // todo - disconnect here?\n             inputStreamRead = true;\n+            safeClose();\n             return doc;\n         }\n \n                     byteData = DataUtil.readToByteBuffer(bodyStream, req.maxBodySize());\n                 } catch (IOException e) {\n                     throw new UncheckedIOException(e);\n+                } finally {\n+                    inputStreamRead = true;\n+                    safeClose();\n                 }\n             }\n         }\n                 }\n             }\n             return conn;\n+        }\n+\n+        /**\n+         * Call on completion of stream read, to close the body (or error) stream\n+         */\n+        private void safeClose() {\n+            if (bodyStream != null) {\n+                try {\n+                    bodyStream.close();\n+                } catch (IOException e) {\n+                    // no-op\n+                } finally {\n+                    bodyStream = null;\n+                }\n+            }\n         }\n \n         /**", "timestamp": 1508007229, "metainfo": ""}