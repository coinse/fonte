{"sha": "27cf61e22583db8e796e7c14f1f20fbc9538b1ef", "log": "Appling Oliver Heger's patch from CLI-175 to fix the build on Windows  ", "commit": "\n--- a/src/test/org/apache/commons/cli/bug/BugCLI162Test.java\n+++ b/src/test/org/apache/commons/cli/bug/BugCLI162Test.java\n  * The ASF licenses this file to You under the Apache License, Version 2.0\n  * (the \"License\"); you may not use this file except in compliance with\n  * the License.  You may obtain a copy of the License at\n- * \n+ *\n  *      http://www.apache.org/licenses/LICENSE-2.0\n- * \n+ *\n  * Unless required by applicable law or agreed to in writing, software\n  * distributed under the License is distributed on an \"AS IS\" BASIS,\n  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n package org.apache.commons.cli.bug;\n \n import java.io.IOException;\n+import java.io.PrintWriter;\n import java.io.StringWriter;\n-import java.io.PrintWriter;\n import java.sql.ParameterMetaData;\n import java.sql.Types;\n \n import org.apache.commons.cli.ParseException;\n \n public class BugCLI162Test extends TestCase {\n+    /** Constant for the line separator.*/\n+    private static final String CR = System.getProperty(\"line.separator\");\n \n     public void testInfiniteLoop() {\n         Options options = new Options();\n         final String OPT_USER = \"u\";\n \n         final String OPT_WRITE_TO_FILE = \"w\";\n-        \n+\n         final String _PMODE_IN = \"IN\";\n \n         final String _PMODE_INOUT = \"INOUT\";\n \n         final String _PMODE_OUT = \"OUT\";\n-        \n+\n         final String _PMODE_UNK = \"Unknown\";\n-        \n+\n         final String PMODES = _PMODE_IN + \", \" + _PMODE_INOUT + \", \" + _PMODE_OUT + \", \" + _PMODE_UNK;\n-        \n+\n         // Options build\n         Options commandLineOptions;\n         commandLineOptions = new Options();\n         HelpFormatter formatter = new HelpFormatter();\n         StringWriter sw = new StringWriter();\n         formatter.printHelp(new PrintWriter(sw), 35, this.getClass().getName(), \"Header\", options, 0, 5, \"Footer\");\n-        String expected = \"usage:\\n\" +\n-                          \"       org.apache.commons.cli.bug.B\\n\" +\n-                          \"       ugCLI162Test\\n\" +\n-                          \"Header\\n\" +\n-                          \"-x,--extralongarg     This\\n\" +\n-                          \"                      description\\n\" +\n-                          \"                      has\\n\" +\n-                          \"                      ReallyLongVal\\n\" +\n-                          \"                      uesThatAreLon\\n\" +\n-                          \"                      gerThanTheWid\\n\" +\n-                          \"                      thOfTheColumn\\n\" +\n-                          \"                      s and also\\n\" +\n-                          \"                      other\\n\" +\n-                          \"                      ReallyLongVal\\n\" +\n-                          \"                      uesThatAreHug\\n\" +\n-                          \"                      erAndBiggerTh\\n\" +\n-                          \"                      anTheWidthOfT\\n\" +\n-                          \"                      heColumnsBob,\\n\" +\n-                          \"                      yes.\\n\" +\n-                          \"Footer\\n\";\n+        String expected = \"usage:\" + CR +\n+                          \"       org.apache.commons.cli.bug.B\" + CR +\n+                          \"       ugCLI162Test\" + CR +\n+                          \"Header\" + CR +\n+                          \"-x,--extralongarg     This\" + CR +\n+                          \"                      description\" + CR +\n+                          \"                      has\" + CR +\n+                          \"                      ReallyLongVal\" + CR +\n+                          \"                      uesThatAreLon\" + CR +\n+                          \"                      gerThanTheWid\" + CR +\n+                          \"                      thOfTheColumn\" + CR +\n+                          \"                      s and also\" + CR +\n+                          \"                      other\" + CR +\n+                          \"                      ReallyLongVal\" + CR +\n+                          \"                      uesThatAreHug\" + CR +\n+                          \"                      erAndBiggerTh\" + CR +\n+                          \"                      anTheWidthOfT\" + CR +\n+                          \"                      heColumnsBob,\" + CR +\n+                          \"                      yes.\" + CR +\n+                          \"Footer\" + CR;\n         assertEquals( \"Long arguments did not split as expected\", expected, sw.toString() );\n     }\n \n         StringWriter sw = new StringWriter();\n         formatter.printHelp(new PrintWriter(sw), 22, this.getClass().getName(), \"Header\", options, 0, 5, \"Footer\");\n         System.err.println(sw.toString());\n-        String expected = \"usage:\\n\" +\n-                          \"       org.apache.comm\\n\" +\n-                          \"       ons.cli.bug.Bug\\n\" +\n-                          \"       CLI162Test\\n\" +\n-                          \"Header\\n\" +\n-                          \"-x,--extralongarg\\n\" +\n-                          \" This description is\\n\" +\n-                          \" Long.\\n\" +\n-                          \"Footer\\n\";\n+        String expected = \"usage:\" + CR +\n+                          \"       org.apache.comm\" + CR +\n+                          \"       ons.cli.bug.Bug\" + CR +\n+                          \"       CLI162Test\" + CR +\n+                          \"Header\" + CR +\n+                          \"-x,--extralongarg\" + CR +\n+                          \" This description is\" + CR +\n+                          \" Long.\" + CR +\n+                          \"Footer\" + CR;\n         assertEquals( \"Long arguments did not split as expected\", expected, sw.toString() );\n     }\n ", "timestamp": 1235858147, "metainfo": ""}