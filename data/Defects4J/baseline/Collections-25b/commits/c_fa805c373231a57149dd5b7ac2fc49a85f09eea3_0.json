{"sha": "fa805c373231a57149dd5b7ac2fc49a85f09eea3", "log": "Generics  ", "commit": "\n--- a/src/java/org/apache/commons/collections/bag/TransformedBag.java\n+++ b/src/java/org/apache/commons/collections/bag/TransformedBag.java\n      * @throws IllegalArgumentException if bag or transformer is null\n      * @since Commons Collections 3.3\n      */\n-    // TODO: Generics\n-    public static Bag decorateTransform(Bag bag, Transformer transformer) {\n-        TransformedBag decorated = new TransformedBag(bag, transformer);\n+    public static <E> Bag<E> decorateTransform(Bag<E> bag, Transformer<? super E, ? extends E> transformer) {\n+        TransformedBag<E> decorated = new TransformedBag<E>(bag, transformer);\n         if (transformer != null && bag != null && bag.size() > 0) {\n-            Object[] values = bag.toArray();\n+            @SuppressWarnings(\"unchecked\") // Bag is of type E\n+            E[] values = (E[]) bag.toArray();\n             bag.clear();\n             for(int i=0; i<values.length; i++) {\n                 decorated.decorated().add(transformer.transform(values[i]));\n--- a/src/java/org/apache/commons/collections/bag/TransformedSortedBag.java\n+++ b/src/java/org/apache/commons/collections/bag/TransformedSortedBag.java\n      * @throws IllegalArgumentException if bag or transformer is null\n      * @since Commons Collections 3.3\n      */\n-    // TODO: Generics\n-    public static SortedBag decorateTransform(SortedBag bag, Transformer transformer) {\n-        TransformedSortedBag decorated = new TransformedSortedBag(bag, transformer);\n+    public static <E> SortedBag<E>  decorateTransform(SortedBag<E> bag, Transformer<? super E, ? extends E> transformer) {\n+        TransformedSortedBag<E>  decorated = new TransformedSortedBag<E>(bag, transformer);\n         if (transformer != null && bag != null && bag.size() > 0) {\n-            Object[] values = bag.toArray();\n+            @SuppressWarnings(\"unchecked\") // bag is type E\n+            E[] values = (E[]) bag.toArray();\n             bag.clear();\n             for(int i=0; i<values.length; i++) {\n                 decorated.decorated().add(transformer.transform(values[i]));", "timestamp": 1287421900, "metainfo": ""}