{"sha": "1ef83170fec123b6c29e250cf299c8d01685735f", "log": "Adding a putAll method to ListOrderedMap as per COLLECTIONS-226 and Dave Meikle's patch  ", "commit": "\n--- a/src/java/org/apache/commons/collections/map/ListOrderedMap.java\n+++ b/src/java/org/apache/commons/collections/map/ListOrderedMap.java\n  * \n  * @author Stephen Colebourne\n  * @author Matt Benson\n+ * @author Dave Meikle\n  */\n public class ListOrderedMap\n         extends AbstractMapDecorator\n         for (Iterator it = map.entrySet().iterator(); it.hasNext();) {\n             Map.Entry entry = (Map.Entry) it.next();\n             put(entry.getKey(), entry.getValue());\n+        }\n+    }\n+\n+    /**\n+     * Puts the values contained in a supplied Map into the Map starting at\n+     * the specified index.\n+     *\n+     * @param index the index in the Map to start at.\n+     * @param map the Map containing the values to be added.\n+     */\n+    public void putAll(int index, Map map) {\n+        for (Iterator it = map.entrySet().iterator(); it.hasNext();) {\n+            Map.Entry entry = (Map.Entry) it.next();\n+            put(index, entry.getKey(), entry.getValue());\n+            index++;\n         }\n     }\n \n--- a/src/test/org/apache/commons/collections/map/TestListOrderedMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestListOrderedMap.java\n         assertEquals(\"One\", lom.getValue(2));\n     }\n \n+    public void testPutAllWithIndex() {\n+        resetEmpty();\n+        ListOrderedMap lom = (ListOrderedMap) map;\n+\n+        // Create Initial Data\n+        lom.put(\"testInsert0\", \"testInsert0v\");\n+        lom.put(\"testInsert1\", \"testInsert1v\");\n+        lom.put(\"testInsert2\", \"testInsert2v\");\n+        assertEquals(\"testInsert0v\", lom.getValue(0));\n+        assertEquals(\"testInsert1v\", lom.getValue(1));\n+        assertEquals(\"testInsert2v\", lom.getValue(2));\n+\n+        // Create New Test Map and Add using putAll(int, Object, Object)\n+        Map values = new HashMap();\n+        values.put(\"NewInsert0\", \"NewInsert0v\");\n+        values.put(\"NewInsert1\", \"NewInsert1v\");\n+        lom.putAll(1, values);\n+\n+        // Perform Asserts\n+        assertEquals(\"testInsert0v\", lom.getValue(0));\n+        assertEquals(\"NewInsert0v\", lom.getValue(1));\n+        assertEquals(\"NewInsert1v\", lom.getValue(2));\n+        assertEquals(\"testInsert1v\", lom.getValue(3));\n+        assertEquals(\"testInsert2v\", lom.getValue(4));\n+    }\n+\n     //-----------------------------------------------------------------------\n     public void testValueList_getByIndex() {\n         resetFull();", "timestamp": 1205635039, "metainfo": ""}