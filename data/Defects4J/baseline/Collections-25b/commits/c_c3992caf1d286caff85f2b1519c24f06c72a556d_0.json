{"sha": "c3992caf1d286caff85f2b1519c24f06c72a556d", "log": "Add StringValue transformer from  James Carman   ", "commit": "\n--- a/src/java/org/apache/commons/collections/TransformerUtils.java\n+++ b/src/java/org/apache/commons/collections/TransformerUtils.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/TransformerUtils.java,v 1.3 2003/08/31 17:26:44 scolebourne Exp $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/TransformerUtils.java,v 1.4 2003/09/17 20:28:30 scolebourne Exp $\n  * ====================================================================\n  *\n  * The Apache Software License, Version 1.1\n  * <li>Null - always returns null\n  * <li>NOP - returns the input object, which should be immutable\n  * <li>Exception - always throws an exception\n+ * <li>StringValue - returns a <code>java.lang.String</code> representation of the input object\n  * </ul>\n  * All the supplied transformers are Serializable.\n  *\n  * @since Commons Collections 3.0\n- * @version $Revision: 1.3 $ $Date: 2003/08/31 17:26:44 $\n+ * @version $Revision: 1.4 $ $Date: 2003/09/17 20:28:30 $\n  * \n  * @author Stephen Colebourne\n+ * @author James Carman\n  */\n public class TransformerUtils {\n \n      */\n     private static final Transformer INSTANTIATE_TRANSFORMER = new InstantiateTransformer(null, null);\n \n+    /**\n+     * A transformer that returns a <code>java.lang.String</code> representation\n+     * of the input object.\n+     */\n+    private static final Transformer STRING_VALUE_TRANSFORMER = new StringValueTransformer();\n+    \n     /**\n      * This class is not normally instantiated.\n      */\n     }\n \n     /**\n+     * Gets a transformer that returns a <code>java.lang.String</code>\n+     * representation of the input object. This is achieved via the\n+     * <code>toString</code> method, <code>null</code> returns 'null'.\n+     * \n+     * @return the transformer\n+     */\n+    public static Transformer stringValueTransformer() {\n+        return STRING_VALUE_TRANSFORMER;\n+    }\n+    \n+    /**\n      * Copy method\n      * \n      * @param predicates  the predicates to copy\n             }\n         }\n     }\n-\n-}\n+    \n+    // StringValueTransformer\n+    //----------------------------------------------------------------------------------\n+\n+    /**\n+     * StringValueTransformer returns a <code>java.lang.String</code> representation\n+     * of the input object using the <code>String.valueOf()</code> method.\n+     */\n+    private static class StringValueTransformer implements Transformer, Serializable {\n+        \n+        /**\n+         * returns a <code>java.lang.String</code> representation of the input object \n+         * using the <code>String.valueOf()</code> method.\n+         */\n+        public Object transform(Object input) {\n+            return String.valueOf(input);\n+        }\n+    }\n+\n+}                                                                                                                                                                                                                                                                                                \n--- a/src/test/org/apache/commons/collections/TestTransformerUtils.java\n+++ b/src/test/org/apache/commons/collections/TestTransformerUtils.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestTransformerUtils.java,v 1.2 2003/08/31 17:28:43 scolebourne Exp $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestTransformerUtils.java,v 1.3 2003/09/17 20:28:30 scolebourne Exp $\n  * ====================================================================\n  *\n  * The Apache Software License, Version 1.1\n  * Tests the org.apache.commons.collections.TransformerUtils class.\n  * \n  * @since Commons Collections 3.0\n- * @version $Revision: 1.2 $ $Date: 2003/08/31 17:28:43 $\n+ * @version $Revision: 1.3 $ $Date: 2003/09/17 20:28:30 $\n  *\n  * @author Stephen Colebourne\n+ * @author James Carman\n  */\n public class TestTransformerUtils extends junit.framework.TestCase {\n \n         fail();\n     }\n     \n+    // stringValueTransformer\n+    //------------------------------------------------------------------\n+    \n+    public void testStringValueTransformer() {\n+        assertNotNull( \"StringValueTransformer should NEVER return a null value.\",\n+           TransformerUtils.stringValueTransformer().transform(null));\n+        assertEquals( \"StringValueTransformer should return \\\"null\\\" when given a null argument.\", \"null\",\n+            TransformerUtils.stringValueTransformer().transform(null));\n+        assertEquals( \"StringValueTransformer should return toString value\", \"6\",\n+            TransformerUtils.stringValueTransformer().transform(new Integer(6)));\n+    }\n+    \n }", "timestamp": 1063830510, "metainfo": ""}