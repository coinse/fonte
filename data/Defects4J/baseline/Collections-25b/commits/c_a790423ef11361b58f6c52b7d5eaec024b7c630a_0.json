{"sha": "a790423ef11361b58f6c52b7d5eaec024b7c630a", "log": "Update clear() methods to run faster   ", "commit": "\n--- a/src/java/org/apache/commons/collections/FastHashMap.java\n+++ b/src/java/org/apache/commons/collections/FastHashMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/FastHashMap.java,v 1.11 2003/01/18 12:47:34 scolebourne Exp $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/FastHashMap.java,v 1.12 2003/01/18 13:37:12 scolebourne Exp $\n  * ====================================================================\n  *\n  * The Apache Software License, Version 1.1\n  * Double-Checked Locking Idiom Is Broken Declartion</A>.</P>\n  *\n  * @since Commons Collections 1.0\n- * @version $Revision: 1.11 $ $Date: 2003/01/18 12:47:34 $\n+ * @version $Revision: 1.12 $ $Date: 2003/01/18 13:37:12 $\n  * \n  * @author Craig R. McClanahan\n+ * @author Stephen Colebourne\n  */\n public class FastHashMap extends HashMap {\n \n     public void clear() {\n         if (fast) {\n             synchronized (this) {\n-                HashMap temp = (HashMap) map.clone();\n-                temp.clear();\n-                map = temp;\n+                map = new HashMap();\n             }\n         } else {\n             synchronized (map) {\n         public void clear() {\n             if (fast) {\n                 synchronized (FastHashMap.this) {\n-                    HashMap temp = (HashMap) map.clone();\n-                    get(temp).clear();\n-                    map = temp;\n+                    map = new HashMap();\n                 }\n             } else {\n                 synchronized (map) {", "timestamp": 1042897032, "metainfo": ""}