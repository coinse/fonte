{"sha": "60dc88188c76f2f4b7f26585d48cd14c47fe6330", "log": "Change TransformedMap test cases to use good Transformer for serialization   ", "commit": "\n--- a/src/test/org/apache/commons/collections/collection/TestTransformedCollection.java\n+++ b/src/test/org/apache/commons/collections/collection/TestTransformedCollection.java\n  */\n package org.apache.commons.collections.collection;\n \n-import java.io.Serializable;\n import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.Collection;\n import junit.framework.TestSuite;\n \n import org.apache.commons.collections.Transformer;\n+import org.apache.commons.collections.TransformerUtils;\n \n /**\n  * Extension of {@link TestCollection} for exercising the {@link TransformedCollection}\n  * implementation.\n  *\n  * @since Commons Collections 3.0\n- * @version $Revision: 1.5 $ $Date: 2004/02/18 01:20:40 $\n+ * @version $Revision: 1.6 $ $Date: 2004/04/10 22:22:57 $\n  * \n  * @author Stephen Colebourne\n  */\n public class TestTransformedCollection extends AbstractTestCollection {\n     \n-    private static class Noop implements Transformer, Serializable {\n-        public Object transform(Object input) {\n-            return input;\n-        }\n-    }\n-    \n-    private static class StringToInteger implements Transformer, Serializable {\n+    private static class StringToInteger implements Transformer {\n         public Object transform(Object input) {\n             return new Integer((String) input);\n         }\n     }\n     \n-    public static final Transformer NOOP_TRANSFORMER = new Noop();\n+    public static final Transformer NOOP_TRANSFORMER = TransformerUtils.nopTransformer();\n     public static final Transformer STRING_TO_INTEGER_TRANSFORMER = new StringToInteger();\n \n     public TestTransformedCollection(String testName) {\n--- a/src/test/org/apache/commons/collections/map/TestTransformedMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestTransformedMap.java\n import junit.framework.Test;\n import junit.framework.TestSuite;\n \n+import org.apache.commons.collections.TransformerUtils;\n import org.apache.commons.collections.collection.TestTransformedCollection;\n \n /**\n  * implementation.\n  *\n  * @since Commons Collections 3.0\n- * @version $Revision: 1.6 $ $Date: 2004/04/09 09:43:09 $\n+ * @version $Revision: 1.7 $ $Date: 2004/04/10 22:22:56 $\n  * \n  * @author Stephen Colebourne\n  */\n \n     //-----------------------------------------------------------------------\n     public Map makeEmptyMap() {\n-        return TransformedMap.decorate(new HashMap(), TestTransformedCollection.NOOP_TRANSFORMER, TestTransformedCollection.NOOP_TRANSFORMER);\n+        return TransformedMap.decorate(new HashMap(), TransformerUtils.nopTransformer(), TransformerUtils.nopTransformer());\n     }\n \n     //-----------------------------------------------------------------------\n--- a/src/test/org/apache/commons/collections/map/TestTransformedSortedMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestTransformedSortedMap.java\n import junit.framework.Test;\n \n import org.apache.commons.collections.BulkTest;\n+import org.apache.commons.collections.TransformerUtils;\n import org.apache.commons.collections.collection.TestTransformedCollection;\n \n /**\n  * implementation.\n  *\n  * @since Commons Collections 3.0\n- * @version $Revision: 1.5 $ $Date: 2004/04/09 09:43:09 $\n+ * @version $Revision: 1.6 $ $Date: 2004/04/10 22:22:57 $\n  * \n  * @author Stephen Colebourne\n  */\n \n     //-----------------------------------------------------------------------\n     public Map makeEmptyMap() {\n-        return TransformedSortedMap.decorate(new TreeMap(), TestTransformedCollection.NOOP_TRANSFORMER, TestTransformedCollection.NOOP_TRANSFORMER);\n+        return TransformedSortedMap.decorate(new TreeMap(), TransformerUtils.nopTransformer(), TransformerUtils.nopTransformer());\n     }\n \n     public boolean isSubMapViewsSerializable() {", "timestamp": 1081635777, "metainfo": ""}