{"sha": "c784488a2c9764a20f57dbfce122e44515491f19", "log": "Improve serialization tests   ", "commit": "\n--- a/src/test/org/apache/commons/collections/list/AbstractTestList.java\n+++ b/src/test/org/apache/commons/collections/list/AbstractTestList.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/list/AbstractTestList.java,v 1.2 2003/11/18 22:37:14 scolebourne Exp $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/list/AbstractTestList.java,v 1.3 2003/12/11 00:16:02 scolebourne Exp $\n  * ====================================================================\n  *\n  * The Apache Software License, Version 1.1\n  * test case (method) your {@link List} fails or override one of the\n  * protected methods from AbstractTestCollection.\n  *\n- * @version $Revision: 1.2 $ $Date: 2003/11/18 22:37:14 $\n+ * @version $Revision: 1.3 $ $Date: 2003/12/11 00:16:02 $\n  * \n  * @author Rodney Waldhoff\n  * @author Paul Jack\n         if(list instanceof Serializable && !skipSerializedCanonicalTests()) {\n             List list2 = (List) readExternalFormFromDisk(getCanonicalEmptyCollectionName(list));\n             assertTrue(\"List is empty\",list2.size()  == 0);\n+            assertEquals(list, list2);\n         }\n     }\n \n         List list = makeFullList();\n         if(list instanceof Serializable && !skipSerializedCanonicalTests()) {\n             List list2 = (List) readExternalFormFromDisk(getCanonicalFullCollectionName(list));\n-            assertEquals(\"List is the right size\",list2.size(), 4);\n+            if (list2.size() == 4) {\n+                // old serialized tests\n+                return;\n+            }\n+            assertEquals(\"List is the right size\",list.size(), list2.size());\n+            assertEquals(list, list2);\n         }\n     }\n ", "timestamp": 1071101762, "metainfo": ""}