{"sha": "9445bdcd939b5ed33a4083a935b5df772432971c", "log": "Update licence Test reset() on Singleton iterators   ", "commit": "\n--- a/src/test/org/apache/commons/collections/iterators/TestSingletonIterator.java\n+++ b/src/test/org/apache/commons/collections/iterators/TestSingletonIterator.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/iterators/TestSingletonIterator.java,v 1.2 2002/12/13 12:03:05 scolebourne Exp $\n- * $Revision: 1.2 $\n- * $Date: 2002/12/13 12:03:05 $\n- *\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/iterators/TestSingletonIterator.java,v 1.3 2003/01/15 21:54:12 scolebourne Exp $\n  * ====================================================================\n  *\n  * The Apache Software License, Version 1.1\n  *\n- * Copyright (c) 1999-2001 The Apache Software Foundation.  All rights\n+ * Copyright (c) 1999-2003 The Apache Software Foundation.  All rights\n  * reserved.\n  *\n  * Redistribution and use in source and binary forms, with or without\n  *    distribution.\n  *\n  * 3. The end-user documentation included with the redistribution, if\n- *    any, must include the following acknowlegement:\n+ *    any, must include the following acknowledgment:\n  *       \"This product includes software developed by the\n  *        Apache Software Foundation (http://www.apache.org/).\"\n- *    Alternately, this acknowlegement may appear in the software itself,\n- *    if and wherever such third-party acknowlegements normally appear.\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n  *\n  * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n  *    Foundation\" must not be used to endorse or promote products derived\n  *\n  * 5. Products derived from this software may not be called \"Apache\"\n  *    nor may \"Apache\" appear in their names without prior written\n- *    permission of the Apache Group.\n+ *    permission of the Apache Software Foundation.\n  *\n  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n  * <http://www.apache.org/>.\n  *\n  */\n-\n package org.apache.commons.collections.iterators;\n \n import junit.framework.*;\n  * perform the iteration rather than the hasNext() method.\n  *\n  * @author James Strachan\n- * @version $Id: TestSingletonIterator.java,v 1.2 2002/12/13 12:03:05 scolebourne Exp $\n+ * @version $Id: TestSingletonIterator.java,v 1.3 2003/01/15 21:54:12 scolebourne Exp $\n  */\n public class TestSingletonIterator extends TestIterator {\n \n \n     public void testIterator() {\n         Iterator iter = (Iterator) makeObject();\n-        assertTrue( \"Iterator has a first item\", iter.hasNext() );\n+        assertTrue(\"Iterator has a first item\", iter.hasNext());\n+\n+        Object iterValue = iter.next();\n+        assertEquals(\"Iteration value is correct\", testValue, iterValue);\n+\n+        assertTrue(\"Iterator should now be empty\", !iter.hasNext());\n+\n+        try {\n+            Object testValue = iter.next();\n+        } catch (Exception e) {\n+            assertTrue(\n+                \"NoSuchElementException must be thrown\",\n+                e.getClass().equals((new NoSuchElementException()).getClass()));\n+        }\n+    }\n+    \n+    public void testReset() {\n+        ResetableIterator it = (ResetableIterator) makeObject();\n         \n-        Object iterValue = iter.next();\n-        assertEquals( \"Iteration value is correct\", testValue, iterValue );\n+        assertEquals(true, it.hasNext());\n+        assertEquals(testValue, it.next());\n+        assertEquals(false, it.hasNext());\n+\n+        it.reset();\n         \n-        assertTrue(\"Iterator should now be empty\", ! iter.hasNext() );\n-\n-\ttry {\n-\t    Object testValue = iter.next();\n-\t} \n-        catch (Exception e) {\n-\t  assertTrue(\"NoSuchElementException must be thrown\", \n-\t\t e.getClass().equals((new NoSuchElementException()).getClass()));\n-\t}\n+        assertEquals(true, it.hasNext());\n+        assertEquals(testValue, it.next());\n+        assertEquals(false, it.hasNext());\n+        \n+        it.reset();\n+        it.reset();\n+        \n+        assertEquals(true, it.hasNext());\n     }\n+    \n }\n-\n--- a/src/test/org/apache/commons/collections/iterators/TestSingletonListIterator.java\n+++ b/src/test/org/apache/commons/collections/iterators/TestSingletonListIterator.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/iterators/TestSingletonListIterator.java,v 1.2 2002/12/13 12:03:05 scolebourne Exp $\n- * $Revision: 1.2 $\n- * $Date: 2002/12/13 12:03:05 $\n- *\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/iterators/TestSingletonListIterator.java,v 1.3 2003/01/15 21:54:12 scolebourne Exp $\n  * ====================================================================\n  *\n  * The Apache Software License, Version 1.1\n  *\n- * Copyright (c) 1999-2001 The Apache Software Foundation.  All rights\n+ * Copyright (c) 1999-2003 The Apache Software Foundation.  All rights\n  * reserved.\n  *\n  * Redistribution and use in source and binary forms, with or without\n  *    distribution.\n  *\n  * 3. The end-user documentation included with the redistribution, if\n- *    any, must include the following acknowlegement:\n+ *    any, must include the following acknowledgment:\n  *       \"This product includes software developed by the\n  *        Apache Software Foundation (http://www.apache.org/).\"\n- *    Alternately, this acknowlegement may appear in the software itself,\n- *    if and wherever such third-party acknowlegements normally appear.\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n  *\n  * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n  *    Foundation\" must not be used to endorse or promote products derived\n  *\n  * 5. Products derived from this software may not be called \"Apache\"\n  *    nor may \"Apache\" appear in their names without prior written\n- *    permission of the Apache Group.\n+ *    permission of the Apache Software Foundation.\n  *\n  * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n  * <http://www.apache.org/>.\n  *\n  */\n-\n package org.apache.commons.collections.iterators;\n \n import junit.framework.*;\n  * Tests the SingletonListIterator.\n  *\n  * @author Stephen Colebourne\n- * @version $Id: TestSingletonListIterator.java,v 1.2 2002/12/13 12:03:05 scolebourne Exp $\n+ * @version $Id: TestSingletonListIterator.java,v 1.3 2003/01/15 21:54:12 scolebourne Exp $\n  */\n public class TestSingletonListIterator extends TestIterator {\n \n              e.getClass().equals((new NoSuchElementException()).getClass()));\n         }\n     }\n+    \n+    public void testReset() {\n+        ResetableListIterator it = (ResetableListIterator) makeObject();\n+        \n+        assertEquals(true, it.hasNext());\n+        assertEquals(false, it.hasPrevious());\n+        assertEquals(testValue, it.next());\n+        assertEquals(false, it.hasNext());\n+        assertEquals(true, it.hasPrevious());\n+\n+        it.reset();\n+        \n+        assertEquals(true, it.hasNext());\n+        assertEquals(false, it.hasPrevious());\n+        assertEquals(testValue, it.next());\n+        assertEquals(false, it.hasNext());\n+        assertEquals(true, it.hasPrevious());\n+        \n+        it.reset();\n+        it.reset();\n+        \n+        assertEquals(true, it.hasNext());\n+    }\n+    \n }\n ", "timestamp": 1042667652, "metainfo": ""}