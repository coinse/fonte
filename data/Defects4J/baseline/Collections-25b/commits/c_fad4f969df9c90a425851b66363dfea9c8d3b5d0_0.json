{"sha": "fad4f969df9c90a425851b66363dfea9c8d3b5d0", "log": "Make DefaultEquator a singleton, hide default ctor.  ", "commit": "\n--- a/src/main/java/org/apache/commons/collections4/functors/DefaultEquator.java\n+++ b/src/main/java/org/apache/commons/collections4/functors/DefaultEquator.java\n     public static final int HASHCODE_NULL = -1;\n \n     /**\n+     * Factory returning the typed singleton instance.\n+     * \n+     * @param <T>  the object type\n+     * @return the singleton instance\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    public static <T> DefaultEquator<T> defaultEquator() {\n+        return (DefaultEquator<T>) DefaultEquator.INSTANCE;\n+    }\n+\n+    /**\n+     * Restricted constructor.\n+     */\n+    private DefaultEquator() {\n+        super();\n+    }\n+\n+    /**\n      * {@inheritDoc} Delegates to {@link Object#equals(Object)}.\n      */\n     public boolean equate(final T o1, final T o2) {\n         return INSTANCE;\n     }\n \n-    /**\n-     * Get a typed {@link DefaultEquator} instance.\n-     * \n-     * @param <T>  the object type\n-     * @return {@link DefaultEquator#INSTANCE}\n-     */\n-    @SuppressWarnings(\"unchecked\")\n-    public static <T> DefaultEquator<T> defaultEquator() {\n-        return (DefaultEquator<T>) DefaultEquator.INSTANCE;\n-    }\n }\n--- a/src/test/java/org/apache/commons/collections4/CollectionUtilsTest.java\n+++ b/src/test/java/org/apache/commons/collections4/CollectionUtilsTest.java\n         assertTrue(CollectionUtils.isEqualCollection(collectionA, collB, e));\n         assertTrue(CollectionUtils.isEqualCollection(collB, collectionA, e));\n         \n-        final Equator<Number> defaultEquator = new DefaultEquator<Number>();\n+        final Equator<Number> defaultEquator = DefaultEquator.defaultEquator();\n         assertFalse(CollectionUtils.isEqualCollection(collectionA, collectionB, defaultEquator));\n         assertFalse(CollectionUtils.isEqualCollection(collectionA, collB, defaultEquator));        \n     }", "timestamp": 1367071350, "metainfo": ""}