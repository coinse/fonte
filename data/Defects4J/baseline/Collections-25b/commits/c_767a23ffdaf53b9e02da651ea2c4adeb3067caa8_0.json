{"sha": "767a23ffdaf53b9e02da651ea2c4adeb3067caa8", "log": "revert change of StringBuilder => StringBuffer because only the latter has setLength()  ", "commit": "\n--- a/src/test/org/apache/commons/collections/TestClosureUtils.java\n+++ b/src/test/org/apache/commons/collections/TestClosureUtils.java\n import java.util.HashMap;\n import java.util.Map;\n \n-import junit.framework.Test;\n-import junit.framework.TestSuite;\n-import junit.textui.TestRunner;\n+import junit.framework.TestCase;\n \n import org.apache.commons.collections.functors.EqualPredicate;\n import org.apache.commons.collections.functors.ExceptionClosure;\n  *\n  * @author Stephen Colebourne\n  */\n-public class TestClosureUtils extends junit.framework.TestCase {\n+public class TestClosureUtils extends TestCase {\n \n     private static final Object cString = \"Hello\";\n \n      */\n     public TestClosureUtils(String name) {\n         super(name);\n-    }\n-\n-    /**\n-     * Main.\n-     * @param args\n-     */\n-    public static void main(String[] args) {\n-        TestRunner.run(suite());\n-    }\n-\n-    /**\n-     * Return class as a test suite.\n-     */\n-    public static Test suite() {\n-        return new TestSuite(TestClosureUtils.class);\n-    }\n-\n-    /**\n-     * Set up instance variables required by this test case.\n-     */\n-    @Override\n-    public void setUp() {\n-    }\n-\n-    /**\n-     * Tear down instance variables required by this test case.\n-     */\n-    @Override\n-    public void tearDown() {\n     }\n \n     static class MockClosure<T> implements Closure<T> {\n     //------------------------------------------------------------------\n \n     public void testInvokeClosure() {\n-        StringBuilder buf = new StringBuilder(\"Hello\");\n+        StringBuffer buf = new StringBuffer(\"Hello\"); // Only StringBuffer has setLength() method\n         ClosureUtils.invokerClosure(\"reverse\").execute(buf);\n         assertEquals(\"olleH\", buf.toString());\n-        buf = new StringBuilder(\"Hello\");\n+        buf = new StringBuffer(\"Hello\");\n         ClosureUtils.invokerClosure(\"setLength\", new Class[] {Integer.TYPE}, new Object[] {new Integer(2)}).execute(buf);\n         assertEquals(\"He\", buf.toString());\n     }", "timestamp": 1285900032, "metainfo": ""}