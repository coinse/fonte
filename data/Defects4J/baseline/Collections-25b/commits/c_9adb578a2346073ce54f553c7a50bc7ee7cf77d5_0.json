{"sha": "9adb578a2346073ce54f553c7a50bc7ee7cf77d5", "log": "Added BeanMap.putAllWriteable(BeanMap) method, and unit test. PR:11262   ", "commit": "\n--- a/src/java/org/apache/commons/collections/BeanMap.java\n+++ b/src/java/org/apache/commons/collections/BeanMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/BeanMap.java,v 1.11 2002/06/12 03:59:15 mas Exp $\n- * $Revision: 1.11 $\n- * $Date: 2002/06/12 03:59:15 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/BeanMap.java,v 1.12 2002/08/10 02:05:20 pjack Exp $\n+ * $Revision: 1.12 $\n+ * $Date: 2002/08/10 02:05:20 $\n  *\n  * ====================================================================\n  *\n     }\n \n     /**\n+     *  Puts all of the writeable properties from the given BeanMap into this\n+     *  BeanMap.  Read-only properties will be ignored.\n+     *\n+     *  @param map  the BeanMap whose properties to put\n+     */\n+    public void putAllWriteable(BeanMap map) {\n+        Iterator readableKeys = map.readMethods.keySet().iterator();\n+        while(readableKeys.hasNext()) {\n+            Object key = readableKeys.next();\n+            if(getWriteMethod(key) != null) {\n+                this.put(key, map.get(key));\n+            }\n+        }\n+    }\n+\n+\n+    /**\n      *  This method reinitializes the bean map to have default values for the\n      *  bean's properties.  This is accomplished by constructing a new instance\n      *  of the bean which the map uses as its underlying data source.  This\n--- a/src/test/org/apache/commons/collections/TestBeanMap.java\n+++ b/src/test/org/apache/commons/collections/TestBeanMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestBeanMap.java,v 1.6 2002/06/18 05:35:58 mas Exp $\n- * $Revision: 1.6 $\n- * $Date: 2002/06/18 05:35:58 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestBeanMap.java,v 1.7 2002/08/10 02:05:20 pjack Exp $\n+ * $Revision: 1.7 $\n+ * $Date: 2002/08/10 02:05:20 $\n  *\n  * ====================================================================\n  *\n          \"TestBeanMap.bulkTestMapKeySet.testSimpleSerialization\"\n         };\n     }\n+\n+\n+    public void testBeanMapPutAllWriteable() {\n+        BeanMap map1 = (BeanMap)makeFullMap();\n+        BeanMap map2 = (BeanMap)makeFullMap();\n+        map2.put(\"someIntValue\", new Integer(0));\n+        map1.putAllWriteable(map2);\n+        assertEquals(map1.get(\"someIntValue\"), new Integer(0));\n+    }\n+\n }", "timestamp": 1028945120, "metainfo": ""}