{"sha": "0ba5e75432717181296459b9bdc98f9cc3cb2c7d", "log": "Ensure switch statements have defaults; ensure IllegalStateException messages include the index value  ", "commit": "\n--- a/src/main/java/org/apache/commons/collections4/map/Flat3Map.java\n+++ b/src/main/java/org/apache/commons/collections4/map/Flat3Map.java\n                 delegateMap.put(key2, value2);\n             case 1:\n                 delegateMap.put(key1, value1);\n+            case 0:\n+                break;\n+            default:\n+                throw new IllegalStateException(\"Invalid map index: \" + size);\n         }\n \n         size = 0;\n                 case 1:\n                     return parent.key1;\n             }\n-            throw new IllegalStateException(\"Invalid map index\");\n+            throw new IllegalStateException(\"Invalid map index: \" + nextIndex);\n         }\n \n         public V getValue() {\n                 case 1:\n                     return parent.value1;\n             }\n-            throw new IllegalStateException(\"Invalid map index\");\n+            throw new IllegalStateException(\"Invalid map index: \" + nextIndex);\n         }\n \n         public V setValue(final V value) {\n                 case 1:\n                     parent.value1 = value;\n                     break;\n+                default:\n+                    throw new IllegalStateException(\"Invalid map index: \" + nextIndex);\n             }\n             return old;\n         }\n                 case 1:\n                     return parent.key1;\n             }\n-            throw new IllegalStateException(\"Invalid map index\");\n+            throw new IllegalStateException(\"Invalid map index: \" + index);\n         }\n \n         public V getValue() {\n                 case 1:\n                     return parent.value1;\n             }\n-            throw new IllegalStateException(\"Invalid map index\");\n+            throw new IllegalStateException(\"Invalid map index: \" + index);\n         }\n \n         public V setValue(final V value) {\n                 case 1:\n                     parent.value1 = value;\n                     break;\n+                default:\n+                    throw new IllegalStateException(\"Invalid map index: \" + index);\n             }\n             return old;\n         }\n                 total += hash2 ^ (value2 == null ? 0 : value2.hashCode());\n             case 1:\n                 total += hash1 ^ (value1 == null ? 0 : value1.hashCode());\n+            case 0:\n+                break;\n+            default:\n+                throw new IllegalStateException(\"Invalid map index: \" + size);\n         }\n         return total;\n     }\n                 buf.append(key1 == this ? \"(this Map)\" : key1);\n                 buf.append('=');\n                 buf.append(value1 == this ? \"(this Map)\" : value1);\n+                break;\n+            // case 0: has already been dealt with\n+            default:\n+                throw new IllegalStateException(\"Invalid map index: \" + size);\n         }\n         buf.append('}');\n         return buf.toString();", "timestamp": 1367347694, "metainfo": ""}