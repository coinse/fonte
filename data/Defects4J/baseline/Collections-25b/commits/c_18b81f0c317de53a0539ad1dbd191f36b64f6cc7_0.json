{"sha": "18b81f0c317de53a0539ad1dbd191f36b64f6cc7", "log": "Merging from -r468106:814127 of collections_jdk5_branch - namely where this code was generified; mostly in r738956.  Also see the following revisions:      ------------------------------------------------------------------------     r555925 | skestle | 2007-07-13 03:39:24 -0700 (Fri, 13 Jul 2007) | 2 lines          Added Edwin Tellman's patch for COLLECTIONS-243.       It all seems pretty reasonable, and it should all be checked again as the project is worked through     ------------------------------------------------------------------------     r471202 | scolebourne | 2006-11-04 06:21:44 -0800 (Sat, 04 Nov 2006) | 1 line          Remove getCollection() - use covariant decorated()     ------------------------------------------------------------------------   ", "commit": "\n--- a/src/java/org/apache/commons/collections/buffer/PredicatedBuffer.java\n+++ b/src/java/org/apache/commons/collections/buffer/PredicatedBuffer.java\n  * @author Stephen Colebourne\n  * @author Paul Jack\n  */\n-public class PredicatedBuffer extends PredicatedCollection implements Buffer {\n+public class PredicatedBuffer<E> extends PredicatedCollection<E> implements Buffer<E> {\n \n     /** Serialization version */\n     private static final long serialVersionUID = 2307609000539943581L;\n      * @throws IllegalArgumentException if buffer or predicate is null\n      * @throws IllegalArgumentException if the buffer contains invalid elements\n      */\n-    public static Buffer decorate(Buffer buffer, Predicate predicate) {\n-        return new PredicatedBuffer(buffer, predicate);\n+    public static <T> Buffer<T> decorate(Buffer<T> buffer, Predicate<? super T> predicate) {\n+        return new PredicatedBuffer<T>(buffer, predicate);\n     }\n     \n     //-----------------------------------------------------------------------\n      * @throws IllegalArgumentException if buffer or predicate is null\n      * @throws IllegalArgumentException if the buffer contains invalid elements\n      */\n-    protected PredicatedBuffer(Buffer buffer, Predicate predicate) {\n+    protected PredicatedBuffer(Buffer<E> buffer, Predicate<? super E> predicate) {\n         super(buffer, predicate);\n     }\n \n      * \n      * @return the decorated buffer\n      */\n-    protected Buffer getBuffer() {\n-        return (Buffer) getCollection();\n+    protected Buffer<E> decorated() {\n+        return (Buffer<E>) super.decorated();\n     }\n \n     //-----------------------------------------------------------------------\n-    public Object get() {\n-        return getBuffer().get();\n+    public E get() {\n+        return decorated().get();\n     }\n \n-    public Object remove() {\n-        return getBuffer().remove();\n+    public E remove() {\n+        return decorated().remove();\n     }\n \n }", "timestamp": 1252994071, "metainfo": ""}