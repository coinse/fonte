{"sha": "c4253f47d57e2eec96da3ccd31f8c366be6ba051", "log": "Making it so CollectionUtils.size(null) returns 0 and not an IllegalArgumentException as per COLLECTIONS-230  ", "commit": "\n--- a/src/java/org/apache/commons/collections/CollectionUtils.java\n+++ b/src/java/org/apache/commons/collections/CollectionUtils.java\n      * @since Commons Collections 3.1\n      */\n     public static int size(Object object) {\n+        if (object == null) {\n+            return 0;\n+        }\n         int total = 0;\n         if (object instanceof Map) {\n             total = ((Map) object).size();\n--- a/src/test/org/apache/commons/collections/TestCollectionUtils.java\n+++ b/src/test/org/apache/commons/collections/TestCollectionUtils.java\n \n     //-----------------------------------------------------------------------\n     public void testSize_List() {\n-        List list = new ArrayList();\n+        List list = null;\n+        assertEquals(0, CollectionUtils.size(list));\n+        list = new ArrayList();\n         assertEquals(0, CollectionUtils.size(list));\n         list.add(\"a\");\n         assertEquals(1, CollectionUtils.size(list));\n         assertEquals(2, CollectionUtils.size(list.iterator()));\n     }\n     public void testSize_Other() {\n-        try {\n-            CollectionUtils.size(null);\n-            fail(\"Expecting IllegalArgumentException\");\n-        } catch (IllegalArgumentException e) {}\n         try {\n             CollectionUtils.size(\"not a list\");\n             fail(\"Expecting IllegalArgumentException\");", "timestamp": 1187626307, "metainfo": ""}