{"sha": "6f8c285fd62f7404c836ae6abcb41de914ec5f70", "log": "add short types and tests   ", "commit": "\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/AbstractRandomAccessShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/AbstractRandomAccessShortList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import java.util.ConcurrentModificationException;\n+import java.util.NoSuchElementException;\n+\n+/**\n+ * Abstract base class for {@link ShortList}s backed \n+ * by random access structures like arrays.\n+ * <p />\n+ * Read-only subclasses must override {@link #get}\n+ * and {@link #size}.  Mutable subclasses\n+ * should also override {@link #set}.  Variably-sized\n+ * subclasses should also override {@link #add} \n+ * and {@link #removeElementAt}.  All other methods\n+ * have at least some base implementation derived from \n+ * these.  Subclasses may choose to override these methods\n+ * to provide a more efficient implementation.\n+ * \n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public abstract class AbstractRandomAccessShortList extends AbstractShortCollection implements ShortList {\n+\n+    // constructors\n+    //-------------------------------------------------------------------------\n+\n+    /** Constructs an empty list. */\n+    protected AbstractRandomAccessShortList() { \n+    }    \n+\n+    // fully abstract methods\n+    //-------------------------------------------------------------------------\n+    \n+    public abstract short get(int index);\n+    public abstract int size();\n+\n+    // unsupported in base\n+    //-------------------------------------------------------------------------\n+    \n+    /** \n+     * Unsupported in this implementation. \n+     * @throws UnsupportedOperationException since this method is not supported\n+     */\n+    public short removeElementAt(int index) {\n+        throw new UnsupportedOperationException();\n+    }\n+    \n+    /** \n+     * Unsupported in this implementation. \n+     * @throws UnsupportedOperationException since this method is not supported\n+     */\n+    public short set(int index, short element) {\n+        throw new UnsupportedOperationException();\n+    }\n+        \n+    /** \n+     * Unsupported in this implementation. \n+     * @throws UnsupportedOperationException since this method is not supported\n+     */\n+    public void add(int index, short element) {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    //-------------------------------------------------------------------------\n+\n+    // javadocs here are inherited\n+    \n+    public boolean add(short element) {\n+        add(size(),element);\n+        return true;\n+    }\n+\n+    public boolean addAll(int index, ShortCollection collection) {\n+        boolean modified = false;\n+        for(ShortIterator iter = collection.iterator(); iter.hasNext(); ) {\n+            add(index++,iter.next());\n+            modified = true;\n+        }\n+        return modified;\n+    }\n+\n+    public int indexOf(short element) {\n+        int i = 0;\n+        for(ShortIterator iter = iterator(); iter.hasNext(); ) {\n+            if(iter.next() == element) { \n+                return i;\n+            } else {\n+                i++;\n+            }\n+        }\n+        return -1;\n+    }\n+\n+    public int lastIndexOf(short element) {\n+        for(ShortListIterator iter = listIterator(size()); iter.hasPrevious(); ) {\n+            if(iter.previous() == element) {\n+                return iter.nextIndex();\n+            }\n+        }\n+        return -1;\n+    }\n+\n+    public ShortIterator iterator() {\n+        return listIterator();\n+    }\n+\n+    public ShortListIterator listIterator() {\n+        return listIterator(0);\n+    }\n+\n+    public ShortListIterator listIterator(int index) {\n+        return new RandomAccessShortListIterator(this,index);            \n+    }\n+\n+    public ShortList subList(int fromIndex, int toIndex) {\n+        return new RandomAccessShortSubList(this,fromIndex,toIndex);\n+    }\n+\n+    public boolean equals(Object that) {\n+        if(this == that) { \n+            return true; \n+        } else if(that instanceof ShortList) {\n+            ShortList thatList = (ShortList)that;\n+            if(size() != thatList.size()) {\n+                return false;\n+            }\n+            for(ShortIterator thatIter = thatList.iterator(), thisIter = iterator(); thisIter.hasNext();) {\n+                if(thisIter.next() != thatIter.next()) { \n+                    return false; \n+                }\n+            }\n+            return true;\n+        } else {\n+            return false;\n+        }        \n+    }\n+    \n+    public int hashCode() {\n+        int hash = 1;\n+        for(ShortIterator iter = iterator(); iter.hasNext(); ) {\n+            hash = 31*hash + iter.next();\n+        }\n+        return hash;\n+    }\n+    \n+    public String toString() {\n+        StringBuffer buf = new StringBuffer();\n+        buf.append(\"[\");\n+        for(ShortIterator iter = iterator(); iter.hasNext();) {\n+            buf.append(iter.next());\n+            if(iter.hasNext()) {\n+                buf.append(\", \");\n+            }\n+        }\n+        buf.append(\"]\");\n+        return buf.toString();\n+    }\n+    \n+    // protected utilities\n+    //-------------------------------------------------------------------------\n+    \n+    /** Get my count of structural modifications. */\n+    protected int getModCount() {\n+        return _modCount;\n+    }\n+\n+    /** Increment my count of structural modifications. */\n+    protected void incrModCount() {\n+        _modCount++;\n+    }\n+\n+    // attributes\n+    //-------------------------------------------------------------------------\n+    \n+    private int _modCount = 0;\n+\n+    // inner classes\n+    //-------------------------------------------------------------------------\n+    \n+    private static class ComodChecker {\n+        ComodChecker(AbstractRandomAccessShortList source) {\n+            _source = source;  \n+            resyncModCount();             \n+        }\n+        \n+        protected AbstractRandomAccessShortList getList() {\n+            return _source;\n+        }\n+        \n+        protected void assertNotComodified() throws ConcurrentModificationException {\n+            if(_expectedModCount != getList().getModCount()) {\n+                throw new ConcurrentModificationException();\n+            }\n+        }\n+            \n+        protected void resyncModCount() {\n+            _expectedModCount = getList().getModCount();\n+        }\n+        \n+        private AbstractRandomAccessShortList _source = null;\n+        private int _expectedModCount = -1;\n+    }\n+    \n+    protected static class RandomAccessShortListIterator extends ComodChecker implements ShortListIterator {\n+        RandomAccessShortListIterator(AbstractRandomAccessShortList list, int index) {\n+            super(list);\n+            if(index < 0 || index > getList().size()) {\n+                throw new IndexOutOfBoundsException(\"Index \" + index + \" not in [0,\" + getList().size() + \")\");\n+            } else {\n+                _nextIndex = index;\n+                resyncModCount();\n+            }\n+        }\n+            \n+        public boolean hasNext() {\n+            assertNotComodified();\n+            return _nextIndex < getList().size();\n+        }\n+        \n+        public boolean hasPrevious() {\n+            assertNotComodified();\n+            return _nextIndex > 0;\n+        }\n+        \n+        public int nextIndex() {\n+            assertNotComodified();\n+            return _nextIndex;\n+        }\n+        \n+        public int previousIndex() {\n+            assertNotComodified();\n+            return _nextIndex - 1;\n+        }\n+        \n+        public short next() {\n+            assertNotComodified();\n+            if(!hasNext()) {\n+                throw new NoSuchElementException();\n+            } else {\n+                short val = getList().get(_nextIndex);\n+                _lastReturnedIndex = _nextIndex;\n+                _nextIndex++;\n+                return val;\n+            }\n+        }\n+        \n+        public short previous() {\n+            assertNotComodified();\n+            if(!hasPrevious()) {\n+                throw new NoSuchElementException();\n+            } else {\n+                short val = getList().get(_nextIndex-1);\n+                _lastReturnedIndex = _nextIndex-1;\n+                _nextIndex--;\n+                return val;\n+            }\n+        }\n+        \n+        public void add(short value) {\n+            assertNotComodified();\n+            getList().add(_nextIndex,value);\n+            _nextIndex++;\n+            _lastReturnedIndex = -1;\n+            resyncModCount();\n+        }\n+    \n+        public void remove() {\n+            assertNotComodified();\n+            if(-1 == _lastReturnedIndex) {\n+                throw new IllegalStateException();\n+            } else {\n+                getList().removeElementAt(_lastReturnedIndex);\n+                _lastReturnedIndex = -1;\n+                _nextIndex--;\n+                resyncModCount();\n+            }\n+        }\n+        \n+        public void set(short value) {\n+            assertNotComodified();\n+            if(-1 == _lastReturnedIndex) {\n+                throw new IllegalStateException();\n+            } else {\n+                getList().set(_lastReturnedIndex,value);\n+                resyncModCount();\n+            }\n+        }\n+        \n+        private int _nextIndex = 0;\n+        private int _lastReturnedIndex = -1;        \n+    }   \n+\n+    protected static class RandomAccessShortSubList extends AbstractRandomAccessShortList implements ShortList {\n+        RandomAccessShortSubList(AbstractRandomAccessShortList list, int fromIndex, int toIndex) {\n+            if(fromIndex < 0 || toIndex > list.size()) {\n+                throw new IndexOutOfBoundsException();\n+            } else if(fromIndex > toIndex) {\n+                throw new IllegalArgumentException();                \n+            } else {\n+                _list = list;\n+                _offset = fromIndex;\n+                _limit = toIndex - fromIndex;\n+                _comod = new ComodChecker(list);\n+                _comod.resyncModCount();\n+            }            \n+        }\n+    \n+        public short get(int index) {\n+            checkRange(index);\n+            _comod.assertNotComodified();\n+            return _list.get(toUnderlyingIndex(index));\n+        }\n+    \n+        public short removeElementAt(int index) {\n+            checkRange(index);\n+            _comod.assertNotComodified();\n+            short val = _list.removeElementAt(toUnderlyingIndex(index));\n+            _limit--;\n+            _comod.resyncModCount();\n+            incrModCount();\n+            return val;\n+        }\n+    \n+        public short set(int index, short element) {\n+            checkRange(index);\n+            _comod.assertNotComodified();\n+            short val = _list.set(toUnderlyingIndex(index),element);\n+            incrModCount();\n+            _comod.resyncModCount();\n+            return val;\n+        }\n+    \n+        public void add(int index, short element) {\n+            checkRangeIncludingEndpoint(index);\n+            _comod.assertNotComodified();\n+             _list.add(toUnderlyingIndex(index),element);\n+            _limit++;\n+            _comod.resyncModCount();\n+            incrModCount();\n+        }\n+    \n+        public int size() {\n+            _comod.assertNotComodified();\n+            return _limit;\n+        }\n+    \n+        private void checkRange(int index) {\n+            if(index < 0 || index >= size()) {\n+                throw new IndexOutOfBoundsException(\"index \" + index + \" not in [0,\" + size() + \")\");\n+            }\n+        }\n+          \n+        private void checkRangeIncludingEndpoint(int index) {\n+            if(index < 0 || index > size()) {\n+                throw new IndexOutOfBoundsException(\"index \" + index + \" not in [0,\" + size() + \"]\");\n+            }\n+        }\n+          \n+        private int toUnderlyingIndex(int index) {\n+            return (index + _offset);\n+        }\n+        \n+        private int _offset = 0;        \n+        private int _limit = 0; \n+        private AbstractRandomAccessShortList _list = null;\n+        private ComodChecker _comod = null;\n+    \n+    }\n+}\n+\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/AbstractShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/AbstractShortCollection.java,v 1.1 2003/04/11 00:55:37 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+/**\n+ * Abstract base class for {@link ShortCollection}s.\n+ * <p />\n+ * Read-only subclasses must override {@link #iterator}\n+ * and {@link #size}.  Mutable subclasses\n+ * should also override {@link #add} and \n+ * {@link ShortIterator#remove ShortIterator.remove}.\n+ * All other methods have at least some base implementation \n+ * derived from these.  Subclasses may choose to override \n+ * these methods to provide a more efficient implementation. \n+ * \n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:37 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public abstract class AbstractShortCollection implements ShortCollection {\n+    public abstract ShortIterator iterator();\n+    public abstract int size();\n+          \n+    protected AbstractShortCollection() { }\n+              \n+    /** Unsupported in this base implementation. */\n+    public boolean add(short element) {\n+        throw new UnsupportedOperationException(\"add(short) is not supported.\");\n+    }\n+\n+    public boolean addAll(ShortCollection c) {\n+        boolean modified = false;\n+        for(ShortIterator iter = c.iterator(); iter.hasNext(); ) {\n+            modified  |= add(iter.next());\n+        }\n+        return modified;\n+    }\n+    \n+    public void clear() {\n+        for(ShortIterator iter = iterator(); iter.hasNext();) {\n+            iter.next();\n+            iter.remove();\n+        }\n+    }        \n+\n+    public boolean contains(short element) {\n+        for(ShortIterator iter = iterator(); iter.hasNext();) {\n+            if(iter.next() == element) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+        \n+    public boolean containsAll(ShortCollection c) {\n+        for(ShortIterator iter = c.iterator(); iter.hasNext();) {\n+            if(!contains(iter.next())) {\n+                return false;\n+            }\n+        }\n+        return true;\n+    }\n+    \n+    public boolean isEmpty() {\n+        return (0 == size());\n+    }\n+       \n+    public boolean removeElement(short element) {\n+        for(ShortIterator iter = iterator(); iter.hasNext();) {\n+            if(iter.next() == element) {\n+                iter.remove();\n+                return true;\n+            }\n+        }\n+        return false;\n+    }        \n+    \n+    public boolean removeAll(ShortCollection c) {\n+        boolean modified = false;\n+        for(ShortIterator iter = c.iterator(); iter.hasNext(); ) {\n+            modified  |= removeElement(iter.next());\n+        }\n+        return modified;\n+    }       \n+    \n+    public boolean retainAll(ShortCollection c) {\n+        boolean modified = false;\n+        for(ShortIterator iter = iterator(); iter.hasNext();) {\n+            if(!c.contains(iter.next())) {\n+                iter.remove();\n+                modified = true;\n+            }\n+        }\n+        return modified;\n+    }\n+    \n+    public short[] toArray() {\n+        short[] array = new short[size()];\n+        int i = 0;\n+        for(ShortIterator iter = iterator(); iter.hasNext();) {\n+            array[i] = iter.next();\n+            i++;\n+        }\n+        return array;\n+    }\n+        \n+    public short[] toArray(short[] a) {\n+        if(a.length < size()) {\n+            return toArray();\n+        } else {\n+            int i = 0;\n+            for(ShortIterator iter = iterator(); iter.hasNext();) {\n+                a[i] = iter.next();\n+                i++;\n+            }\n+            return a;\n+        }            \n+    }\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/ArrayShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/ArrayShortList.java,v 1.1 2003/04/11 00:55:37 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import java.io.IOException;\n+import java.io.ObjectInputStream;\n+import java.io.ObjectOutputStream;\n+import java.io.Serializable;\n+\n+/**\n+ * An {@link ShortList} backed by an array of <code>short</code>s.\n+ * This implementation supports all optional methods.\n+ * \n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:37 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public class ArrayShortList extends AbstractRandomAccessShortList implements ShortList, Serializable {\n+\n+    // constructors\n+    //-------------------------------------------------------------------------\n+\n+    /** \n+     * Construct an empty list with the default\n+     * initial capacity.\n+     */\n+    public ArrayShortList() {\n+        this(8);\n+    }    \n+\n+    /**\n+     * Construct an empty list with the given\n+     * initial capacity.\n+     * @throws IllegalArgumentException when <i>initialCapacity</i> is negative\n+     */\n+    public ArrayShortList(int initialCapacity) {\n+        if(initialCapacity < 0) {\n+            throw new IllegalArgumentException(\"capacity \" + initialCapacity);\n+        }\n+        _data = new short[initialCapacity];\n+        _size = 0;\n+    }    \n+\n+    /** \n+     * Constructs a list containing the elements of the given collection, \n+     * in the order they are returned by that collection's iterator.\n+     * \n+     * @see ArrayShortList#addAll(org.apache.commons.collections.primitives.ShortCollection)\n+     * @param that the non-<code>null</code> collection of <code>short</code>s \n+     *        to add\n+     * @throws NullPointerException if <i>that</i> is <code>null</code>\n+     */\n+    public ArrayShortList(ShortCollection that) { \n+        this(that.size());\n+        addAll(that);\n+    }    \n+\n+    // ShortList methods\n+    //-------------------------------------------------------------------------\n+\n+    public short get(int index) {\n+        checkRange(index);\n+        return _data[index];\n+    }\n+    \n+    public int size() {\n+        return _size;\n+    }\n+    \n+    /** \n+     * Removes the element at the specified position in \n+     * (optional operation).  Any subsequent elements \n+     * are shifted to the left, subtracting one from their \n+     * indices.  Returns the element that was removed.\n+     * \n+     * @param index the index of the element to remove\n+     * @return the value of the element that was removed\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    public short removeElementAt(int index) {\n+        checkRange(index);\n+        incrModCount();\n+        short oldval = _data[index];\n+        int numtomove = _size - index - 1;\n+        if(numtomove > 0) {\n+            System.arraycopy(_data,index+1,_data,index,numtomove);\n+        }\n+        _size--;\n+        return oldval;\n+    }\n+    \n+    /** \n+     * Replaces the element at the specified \n+     * position in me with the specified element\n+     * (optional operation). \n+     * \n+     * @param index the index of the element to change\n+     * @param element the value to be stored at the specified position\n+     * @return the value previously stored at the specified position\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    public short set(int index, short element) {\n+        checkRange(index);\n+        incrModCount();\n+        short oldval = _data[index];\n+        _data[index] = element;\n+        return oldval;\n+    }\n+        \n+    /** \n+     * Inserts the specified element at the specified position \n+     * (optional operation). Shifts the element currently \n+     * at that position (if any) and any subsequent elements to the \n+     * right, increasing their indices.\n+     * \n+     * @param index the index at which to insert the element\n+     * @param element the value to insert\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IllegalArgumentException if some aspect of the specified element \n+     *         prevents it from being added to me\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    public void add(int index, short element) {\n+        checkRangeIncludingEndpoint(index);\n+        incrModCount();\n+        ensureCapacity(_size+1);\n+        int numtomove = _size-index;\n+        System.arraycopy(_data,index,_data,index+1,numtomove);\n+        _data[index] = element;\n+        _size++;\n+    }\n+\n+    // capacity methods\n+    //-------------------------------------------------------------------------\n+\n+    /** \n+     * Increases my capacity, if necessary, to ensure that I can hold at \n+     * least the number of elements specified by the minimum capacity \n+     * argument without growing.\n+     */\n+    public void ensureCapacity(int mincap) {\n+        incrModCount();\n+        if(mincap > _data.length) {\n+            int newcap = (_data.length * 3)/2 + 1;\n+            short[] olddata = _data;\n+            _data = new short[newcap < mincap ? mincap : newcap];\n+            System.arraycopy(olddata,0,_data,0,_size);\n+        }\n+    }\n+\n+    /** \n+     * Reduce my capacity, if necessary, to match my\n+     * current {@link #size size}.\n+     */\n+    public void trimToSize() {\n+        incrModCount();\n+        if(_size < _data.length) {\n+            short[] olddata = _data;\n+            _data = new short[_size];\n+            System.arraycopy(olddata,0,_data,0,_size);\n+        }\n+    }\n+\n+    // private methods\n+    //-------------------------------------------------------------------------\n+    \n+    private void writeObject(ObjectOutputStream out) throws IOException{\n+        out.defaultWriteObject();\n+        out.writeInt(_data.length);\n+        for(int i=0;i<_size;i++) {\n+            out.writeShort(_data[i]);\n+        }\n+    }\n+\n+    private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException {\n+        in.defaultReadObject();\n+        _data = new short[in.readInt()];\n+        for(int i=0;i<_size;i++) {\n+            _data[i] = in.readShort();\n+        }\n+    }\n+    \n+    private final void checkRange(int index) {\n+        if(index < 0 || index >= _size) {\n+            throw new IndexOutOfBoundsException(\"Should be at least 0 and less than \" + _size + \", found \" + index);\n+        }\n+    }\n+\n+    private final void checkRangeIncludingEndpoint(int index) {\n+        if(index < 0 || index > _size) {\n+            throw new IndexOutOfBoundsException(\"Should be at least 0 and at most \" + _size + \", found \" + index);\n+        }\n+    }\n+\n+    // attributes\n+    //-------------------------------------------------------------------------\n+    \n+    private transient short[] _data = null;\n+    private int _size = 0;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/ShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/ShortCollection.java,v 1.1 2003/04/11 00:55:37 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+/**\n+ * A collection of <code>short</code> values.\n+ *\n+ * @see org.apache.commons.collections.primitives.adapters.ShortCollectionCollection\n+ * @see org.apache.commons.collections.primitives.adapters.CollectionShortCollection\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:37 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public interface ShortCollection {\n+    /** \n+     * Ensures that I contain the specified element \n+     * (optional operation).  Returns <code>true</code>\n+     * iff I changed as a result of this call.\n+     * <p/>\n+     * If a collection refuses to add the specified\n+     * element for any reason other than that it already contains\n+     * the element, it <i>must</i> throw an exception (rather than\n+     * simply returning <tt>false</tt>).  This preserves the invariant\n+     * that a collection always contains the specified element after \n+     * this call returns. \n+     * \n+     * @param element the value whose presence within me is to be ensured\n+     * @return <code>true</code> iff I changed as a result of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IllegalArgumentException may be thrown if some aspect of the \n+     *         specified element prevents it from being added to me\n+     */\n+    boolean add(short element);\n+\n+    /** \n+     * {@link #add Adds} all of the elements in the \n+     * specified collection to me (optional operation). \n+     * \n+     * @param c the collection of elements whose presence within me is to \n+     *        be ensured\n+     * @return <code>true</code> iff I changed as a result of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IllegalArgumentException may be thrown if some aspect of some \n+     *         specified element prevents it from being added to me\n+     */ \n+    boolean addAll(ShortCollection c);\n+    \n+    /** \n+     * Removes all my elements (optional operation). \n+     * I will be {@link #isEmpty empty} after this\n+     * method successfully returns.\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     */\n+    void clear();\n+\n+    /** \n+     * Returns <code>true</code> iff I contain \n+     * the specified element. \n+     * \n+     * @param element the value whose presence within me is to be tested\n+     * @return <code>true</code> iff I contain the specified element\n+     */\n+    boolean contains(short element);\n+    \n+    /** \n+     * Returns <code>true</code> iff I {@link #contains contain}\n+     * all of the elements in the given collection.\n+     * \n+     * @param c the collection of elements whose presence within me is to \n+     *        be tested\n+     * @return <code>true</code> iff I contain the all the specified elements\n+     */\n+    boolean containsAll(ShortCollection c);\n+    \n+    /** \n+     * Returns <code>true</code> iff I contain no elements. \n+     * @return <code>true</code> iff I contain no elements. \n+     */\n+    boolean isEmpty();\n+    \n+    /** \n+     * Returns an {@link ShortIterator iterator} over all my elements.\n+     * This base interface places no constraints on the order \n+     * in which the elements are returned by the returned iterator.\n+     * @return an {@link ShortIterator iterator} over all my elements.\n+     */\n+    ShortIterator iterator();\n+    \n+    /** \n+     * Removes all of my elements that are contained in the \n+     * specified collection (optional operation). \n+     * The behavior of this method is unspecified if \n+     * the given collection is modified while this method\n+     * is executing.  Note that this includes the case\n+     * in which the given collection is this collection, \n+     * and it is not empty.\n+     * \n+     * @param c the collection of elements to remove\n+     * @return <code>true</code> iff I contained the at least one of the\n+     *         specified elements, in other words, returns <code>true</code>\n+     *         iff I changed as a result of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     */\n+    boolean removeAll(ShortCollection c);\n+     \n+    /** \n+     * Removes a single occurrence of the specified element \n+     * (optional operation). \n+     * \n+     * @param element the element to remove, if present\n+     * @return <code>true</code> iff I contained the specified element, \n+     *         in other words, iff I changed as a result of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     */\n+    boolean removeElement(short element);\n+    \n+    /** \n+     * Removes all of my elements that are <i>not</i> contained in the \n+     * specified collection (optional operation). \n+     * (In other words, retains <i>only</i> my elements that are \n+     * contained in the specified collection.)\n+     * The behavior of this method is unspecified if \n+     * the given collection is modified while this method\n+     * is executing.\n+     * \n+     * @param c the collection of elements to retain\n+     * @return <code>true</code> iff I changed as a result \n+     *         of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     */\n+    boolean retainAll(ShortCollection c);\n+    \n+    /** \n+     * Returns the number of elements I contain. \n+     * @return the number of elements I contain\n+     */\n+    int size();\n+    \n+    /** \n+     * Returns an array containing all of my elements.\n+     * The length of the returned array will be equal\n+     * to my {@link #size size}.\n+     * <p/>\n+     * The returned array will be independent of me, \n+     * so that callers may modify that \n+     * returned array without modifying this collection.\n+     * <p/>\n+     * When I guarantee the order in which \n+     * elements are returned by an {@link #iterator iterator},\n+     * the returned array will contain elements in the\n+     * same order.\n+     * \n+     * @return an array containing all my elements\n+     */\n+    short[] toArray();\n+    \n+    /** \n+     * Returns an array containing all of my elements, \n+     * using the given array if it is large \n+     * enough.  When the length of the given array is \n+     * larger than the number of elements I contain, \n+     * values outside of my range will be unchanged.\n+     * <p/>\n+     * The returned array will be independent of me, \n+     * so that callers may modify that \n+     * returned array without modifying this collection.\n+     * <p/>\n+     * When I guarantee the order in which \n+     * elements are returned by an {@link #iterator iterator},\n+     * the returned array will contain elements in the\n+     * same order.\n+     * \n+     * @param a an array that may be used to contain the elements\n+     * @return an array containing all my elements\n+     */\n+    short[] toArray(short[] a);\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/ShortIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/ShortIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+/**\n+ * An iterator over <code>short</code> values.\n+ *\n+ * @see org.apache.commons.collections.primitives.adapters.ShortIteratorIterator\n+ * @see org.apache.commons.collections.primitives.adapters.IteratorShortIterator\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public interface ShortIterator {\n+    /** \n+     * Returns <code>true</code> iff I have more elements. \n+     * (In other words, returns <code>true</code> iff \n+     * a subsequent call to {@link #next next} will return \n+     * an element rather than throwing an exception.)\n+     * \n+     * @return <code>true</code> iff I have more elements\n+     */\n+    boolean hasNext();\n+    \n+    /** \n+     * Returns the next element in me.\n+     * \n+     * @return the next element in me\n+     * @throws NoSuchElementException if there is no next element\n+     */          \n+    short next();\n+    \n+    /** \n+     * Removes from my underlying collection the last \n+     * element {@link #next returned} by me \n+     * (optional operation). \n+     * \n+     * @throws UnsupportedOperationException if this operation is not supported\n+     * @throws IllegalStateException if {@link #next} has not yet been \n+     *         called, or {@link #remove} has already been called since \n+     *         the last call to {@link #next}.\n+     */          \n+    void remove();\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/ShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/ShortList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+/**\n+ * An ordered collection of <code>short</code> values.\n+ *\n+ * @see org.apache.commons.collections.primitives.adapters.ShortListList\n+ * @see org.apache.commons.collections.primitives.adapters.ListShortList\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public interface ShortList extends ShortCollection {\n+    /** \n+     * Appends the specified element to the end of me\n+     * (optional operation).  Returns <code>true</code>\n+     * iff I changed as a result of this call.\n+     * <p/>\n+     * If a collection refuses to add the specified\n+     * element for any reason other than that it already contains\n+     * the element, it <i>must</i> throw an exception (rather than\n+     * simply returning <tt>false</tt>).  This preserves the invariant\n+     * that a collection always contains the specified element after \n+     * this call returns. \n+     * \n+     * @param element the value whose presence within me is to be ensured\n+     * @return <code>true</code> iff I changed as a result of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IllegalArgumentException may be thrown if some aspect of the \n+     *         specified element prevents it from being added to me\n+     */\n+    boolean add(short element);\n+       \n+    /** \n+     * Inserts the specified element at the specified position \n+     * (optional operation). Shifts the element currently \n+     * at that position (if any) and any subsequent elements to the \n+     * right, increasing their indices.\n+     * \n+     * @param index the index at which to insert the element\n+     * @param element the value to insert\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IllegalArgumentException if some aspect of the specified element \n+     *         prevents it from being added to me\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    void add(int index, short element);\n+          \n+    /** \n+     * Inserts all of the elements in the specified collection into me,\n+     * at the specified position (optional operation).  Shifts the \n+     * element currently at that position (if any) and any subsequent \n+     * elements to the right, increasing their indices.  The new elements \n+     * will appear in the order that they are returned by the given \n+     * collection's {@link ShortCollection#iterator iterator}.\n+     * \n+     * @param index the index at which to insert the first element from \n+     *        the specified collection\n+     * @param collection the {@link ShortCollection ShortCollection} of elements to add \n+     * @return <code>true</code> iff I changed as a result of this call\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    boolean addAll(int index, ShortCollection collection);\n+    \n+    /**\n+     * Returns <code>true</code> iff <i>that</i> is an <code>ShortList</code>\n+     * that contains the same elements in the same order as me.\n+     * In other words, returns <code>true</code> iff <i>that</i> is\n+     * an <code>ShortList</code> that has the same {@link #size size} as me,\n+     * and for which the elements returned by its \n+     * {@link ShortList#iterator iterator} are equal (<code>==</code>) to\n+     * the corresponding elements within me.\n+     * (This contract ensures that this method works properly across \n+     * different implementations of the <code>ShortList</code> interface.)\n+     * \n+     * @param that the object to compare to me\n+     * @return <code>true</code> iff <i>that</i> is an <code>ShortList</code>\n+     *         that contains the same elements in the same order as me\n+     */\n+    boolean equals(Object that);\n+    \n+    /** \n+     * Returns the value of the element at the specified position \n+     * within me. \n+     * \n+     * @param index the index of the element to return\n+     * @return the value of the element at the specified position\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    short get(int index);\n+        \n+    /**\n+     * Returns my hash code.\n+     * <p />\n+     * The hash code of an <code>ShortList</code> is defined to be the\n+     * result of the following calculation:\n+     * <pre> int hash = 1;\n+     * for(ShortIterator iter = iterator(); iter.hasNext(); ) {\n+     *   short value = iter.next();\n+     *   hash = 31*hash + (int)(value ^ (value >>> 32));\n+     * }</pre>\n+     * <p />\n+     * This contract ensures that this method is consistent with \n+     * {@link #equals equals} and with the \n+     * {@link java.util.List#hashCode hashCode}\n+     * method of a {@link java.util.List List} of {@link Short}s. \n+     * \n+     * @return my hash code\n+     */\n+    int hashCode();\n+\n+    /** \n+     * Returns the index of the first occurrence \n+     * of the specified element within me, \n+     * or <code>-1</code> if I do not contain \n+     * the element. \n+     * \n+     * @param element the element to search for\n+     * @return the smallest index of an element matching the specified value,\n+     *         or <code>-1</code> if no such matching element can be found \n+     */\n+    int indexOf(short element);\n+     \n+    /** \n+     * Returns an {@link ShortIterator iterator} over all my elements,\n+     * in the appropriate sequence.\n+     * @return an {@link ShortIterator iterator} over all my elements.\n+     */\n+    ShortIterator iterator();\n+\n+    /** \n+     * Returns the index of the last occurrence \n+     * of the specified element within me, \n+     * or -1 if I do not contain the element. \n+     * \n+     * @param element the element to search for\n+     * @return the largest index of an element matching the specified value,\n+     *         or <code>-1</code> if no such matching element can be found \n+     */\n+    int lastIndexOf(short element);\n+    \n+    /** \n+     * Returns a \n+     * {@link ShortListIterator bidirectional iterator}\n+     * over all my elements, in the appropriate sequence.\n+     */\n+    ShortListIterator listIterator();\n+    \n+    /** \n+     * Returns a \n+     * {@link ShortListIterator bidirectional iterator}\n+     * over all my elements, in the appropriate sequence, \n+     * starting at the specified position. The \n+     * specified <i>index</i> indicates the first \n+     * element that would be returned by an initial \n+     * call to the \n+     * {@link ShortListIterator#next next} \n+     * method. An initial call to the \n+     * {@link ShortListIterator#previous previous}\n+     * method would return the element with the specified \n+     * <i>index</i> minus one.\n+     * \n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    ShortListIterator listIterator(int index);\n+    \n+    /** \n+     * Removes the element at the specified position in \n+     * (optional operation).  Any subsequent elements \n+     * are shifted to the left, subtracting one from their \n+     * indices.  Returns the element that was removed.\n+     * \n+     * @param index the index of the element to remove\n+     * @return the value of the element that was removed\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    short removeElementAt(int index);\n+   \n+    /** \n+     * Replaces the element at the specified \n+     * position in me with the specified element\n+     * (optional operation). \n+     * \n+     * @param index the index of the element to change\n+     * @param element the value to be stored at the specified position\n+     * @return the value previously stored at the specified position\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IndexOutOfBoundsException if the specified index is out of range\n+     */\n+    short set(int index, short element);\n+    \n+    /** \n+     * Returns a view of the elements within me \n+     * between the specified <i>fromIndex</i>, inclusive, and \n+     * <i>toIndex</i>, exclusive.  The returned <code>ShortList</code>\n+     * is backed by me, so that any changes in \n+     * the returned list are reflected in me, and vice-versa.\n+     * The returned list supports all of the optional operations\n+     * that I support.\n+     * <p/>\n+     * Note that when <code><i>fromIndex</i> == <i>toIndex</i></code>,\n+     * the returned list is initially empty, and when \n+     * <code><i>fromIndex</i> == 0 && <i>toIndex</i> == {@link #size() size()}</code>\n+     * the returned list is my \"improper\" sublist, containing all my elements.\n+     * <p/>\n+     * The semantics of the returned list become undefined\n+     * if I am structurally modified in any way other than \n+     * via the returned list.\n+     * \n+     * @param fromIndex the smallest index (inclusive) in me that appears in \n+     *        the returned list\n+     * @param toIndex the largest index (exclusive) in me that appears in the \n+     *        returned list\n+     * @return a view of this list from <i>fromIndex</i> (inclusive) to \n+     *         <i>toIndex</i> (exclusive)\n+     * \n+     * @throws IndexOutOfBoundsException if either specified index is out of range\n+     */\n+    ShortList subList(int fromIndex, int toIndex);\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/ShortListIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/Attic/ShortListIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+/**\n+ * A bi-directional iterator over <code>short</code> values.\n+ *\n+ * @see org.apache.commons.collections.primitives.adapters.ShortListIteratorListIterator\n+ * @see org.apache.commons.collections.primitives.adapters.ListIteratorShortListIterator\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * \n+ * @author Rodney Waldhoff \n+ */\n+public interface ShortListIterator extends ShortIterator {\n+    /**\n+     * Inserts the specified element into my underlying collection\n+     * (optional operation).\n+     * The element is inserted immediately before the next element \n+     * that would have been returned by {@link #next}, if any,\n+     * and immediately after the next element that would have been \n+     * returned by {@link #previous}, if any.\n+     * <p/>\n+     * The new element is inserted immediately before the implied\n+     * cursor. A subsequent call to {@link #previous} will return\n+     * the added element, a subsequent call to {@link #next} will\n+     * be unaffected.  This call increases by one the value that\n+     * would be returned by a call to {@link #nextIndex} or \n+     * {@link #previousIndex}.\n+     * \n+     * @param element the value to be inserted\n+     * \n+     * @throws UnsupportedOperationException when this operation is not \n+     *         supported\n+     * @throws IllegalArgumentException if some aspect of the specified element \n+     *         prevents it from being added\n+     */\n+    void add(short element);\n+\n+    /** \n+     * Returns <code>true</code> iff I have more elements\n+     * when traversed in the forward direction. \n+     * (In other words, returns <code>true</code> iff \n+     * a call to {@link #next} will return an element\n+     * rather than throwing an exception.\n+     * \n+     * @return <code>true</code> iff I have more elements when \n+     *         traversed in the forward direction\n+     */\n+    boolean hasNext();\n+    \n+    /** \n+     * Returns <code>true</code> iff I have more elements\n+     * when traversed in the reverse direction. \n+     * (In other words, returns <code>true</code> iff \n+     * a call to {@link #previous} will return an element\n+     * rather than throwing an exception.\n+     * \n+     * @return <code>true</code> iff I have more elements when \n+     *         traversed in the reverse direction\n+     */\n+    boolean hasPrevious();\n+\n+    /** \n+     * Returns the next element in me when traversed in the\n+     * forward direction.\n+     * \n+     * @return the next element in me\n+     * @throws NoSuchElementException if there is no next element\n+     */          \n+    short next();\n+    \n+    /** \n+     * Returns the index of the element that would be returned\n+     * by a subsequent call to {@link #next}, or the number \n+     * of elements in my iteration if I have no next element.\n+     * \n+     * @return the index of the next element in me\n+     */          \n+    int nextIndex();\n+\n+    /** \n+     * Returns the next element in me when traversed in the\n+     * reverse direction.\n+     * \n+     * @return the previous element in me\n+     * @throws NoSuchElementException if there is no previous element\n+     */          \n+    short previous();\n+\n+    /** \n+     * Returns the index of the element that would be returned\n+     * by a subsequent call to {@link #previous}, or \n+     * <code>-1</code> if I have no previous element.\n+     * \n+     * @return the index of the previous element in me\n+     */          \n+    int previousIndex();\n+\n+    /** \n+     * Removes from my underlying collection the last \n+     * element returned by {@link #next} or {@link #previous}\n+     * (optional operation). \n+     * \n+     * @throws UnsupportedOperationException if this operation is not \n+     *         supported\n+     * @throws IllegalStateException if neither {@link #next} nor\n+     *         {@link #previous} has yet been called, or \n+     *         {@link #remove} or {@link #add} has already been called since \n+     *         the last call to {@link #next} or {@link #previous}.\n+     */          \n+    void remove();\n+\n+    /** \n+     * Replaces in my underlying collection the last \n+     * element returned by {@link #next} or {@link #previous}\n+     * with the specified value (optional operation). \n+     * \n+     * @param element the value to replace the last returned element with\n+     * @throws UnsupportedOperationException if this operation is not \n+     *         supported\n+     * @throws IllegalStateException if neither {@link #next} nor\n+     *         {@link #previous} has yet been called, or \n+     *         {@link #remove} or {@link #add} has already been called since \n+     *         the last call to {@link #next} or {@link #previous}.\n+     * @throws IllegalArgumentException if some aspect of the specified element \n+     *         prevents it from being added\n+     */          \n+    void set(short element);\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/AbstractCollectionShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/AbstractCollectionShortCollection.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Collection;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+import org.apache.commons.collections.primitives.ShortIterator;\n+\n+/**\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+abstract class AbstractCollectionShortCollection implements ShortCollection {\n+    protected AbstractCollectionShortCollection() {\n+    }\n+\n+    public boolean add(short element) {\n+        return getCollection().add(new Short(element));\n+    }\n+        \n+    public boolean addAll(ShortCollection c) {\n+        return getCollection().addAll(ShortCollectionCollection.wrap(c));\n+    }\n+    \n+    public void clear() {\n+        getCollection().clear();\n+    }\n+\n+    public boolean contains(short element) {\n+        return getCollection().contains(new Short(element));\n+    }\n+    \n+    public boolean containsAll(ShortCollection c) {\n+        return getCollection().containsAll(ShortCollectionCollection.wrap(c));\n+    }        \n+    \n+    public String toString() {\n+        return getCollection().toString();\n+    }\n+\n+    public boolean isEmpty() {\n+        return getCollection().isEmpty();\n+    }\n+    \n+    /**\n+     * {@link IteratorShortIterator#wrap wraps} the \n+     * {@link java.util.Iterator Iterator}\n+     * returned by my underlying \n+     * {@link Collection Collection}, \n+     * if any.\n+     */\n+    public ShortIterator iterator() {\n+        return IteratorShortIterator.wrap(getCollection().iterator());\n+    }\n+     \n+    public boolean removeElement(short element) {\n+        return getCollection().remove(new Short(element));\n+    }\n+    \n+    public boolean removeAll(ShortCollection c) {\n+        return getCollection().removeAll(ShortCollectionCollection.wrap(c));\n+    }\n+        \n+    public boolean retainAll(ShortCollection c) {\n+        return getCollection().retainAll(ShortCollectionCollection.wrap(c));\n+    }\n+    \n+    public int size() {\n+        return getCollection().size();\n+    }\n+    \n+    public short[] toArray() {\n+        Object[] src = getCollection().toArray();\n+        short[] dest = new short[src.length];\n+        for(int i=0;i<src.length;i++) {\n+            dest[i] = ((Number)(src[i])).shortValue();\n+        }\n+        return dest;\n+    }\n+    \n+    public short[] toArray(short[] dest) {\n+        Object[] src = getCollection().toArray();\n+        if(dest.length < src.length) {\n+            dest = new short[src.length];\n+        }\n+        for(int i=0;i<src.length;i++) {\n+            dest[i] = ((Number)(src[i])).shortValue();\n+        }\n+        return dest;\n+    }\n+    \n+    protected abstract Collection getCollection();\n+    \n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/AbstractListShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/AbstractListShortList.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Collection;\n+import java.util.List;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+import org.apache.commons.collections.primitives.ShortIterator;\n+import org.apache.commons.collections.primitives.ShortList;\n+import org.apache.commons.collections.primitives.ShortListIterator;\n+\n+/**\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+abstract class AbstractListShortList extends AbstractCollectionShortCollection implements ShortList {\n+\n+    public void add(int index, short element) {\n+        getList().add(index,new Short(element));\n+    }\n+\n+    public boolean addAll(int index, ShortCollection collection) {\n+        return getList().addAll(index,ShortCollectionCollection.wrap(collection));\n+    }\n+\n+    public short get(int index) {\n+        return ((Number)getList().get(index)).shortValue();\n+    }\n+\n+    public int indexOf(short element) {\n+        return getList().indexOf(new Short(element));\n+    }\n+\n+    public int lastIndexOf(short element) {\n+        return getList().lastIndexOf(new Short(element));\n+    }\n+\n+    /**\n+     * {@link ListIteratorShortListIterator#wrap wraps} the \n+     * {@link ShortList ShortList} \n+     * returned by my underlying \n+     * {@link ShortListIterator ShortListIterator},\n+     * if any.\n+     */\n+    public ShortListIterator listIterator() {\n+        return ListIteratorShortListIterator.wrap(getList().listIterator());\n+    }\n+\n+    /**\n+     * {@link ListIteratorShortListIterator#wrap wraps} the \n+     * {@link ShortList ShortList} \n+     * returned by my underlying \n+     * {@link ShortListIterator ShortListIterator},\n+     * if any.\n+     */\n+    public ShortListIterator listIterator(int index) {\n+        return ListIteratorShortListIterator.wrap(getList().listIterator(index));\n+    }\n+\n+    public short removeElementAt(int index) {\n+        return ((Number)getList().remove(index)).shortValue();\n+    }\n+\n+    public short set(int index, short element) {\n+        return ((Number)getList().set(index,new Short(element))).shortValue();\n+    }\n+\n+    public ShortList subList(int fromIndex, int toIndex) {\n+        return ListShortList.wrap(getList().subList(fromIndex,toIndex));\n+    }\n+\n+    public boolean equals(Object obj) {\n+        if(obj instanceof ShortList) {\n+            ShortList that = (ShortList)obj;\n+            if(this == that) {\n+                return true;\n+            } else if(this.size() != that.size()) {\n+                return false;            \n+            } else {\n+                ShortIterator thisiter = iterator();\n+                ShortIterator thatiter = that.iterator();\n+                while(thisiter.hasNext()) {\n+                    if(thisiter.next() != thatiter.next()) {\n+                        return false;\n+                    }\n+                }\n+                return true;\n+            }\n+        } else {\n+            return false;\n+        }\n+    }\n+        \n+    public int hashCode() {\n+        return getList().hashCode();\n+    }\n+    \n+    final protected Collection getCollection() {\n+        return getList();\n+    }\n+    \n+    abstract protected List getList();\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/AbstractShortCollectionCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/AbstractShortCollectionCollection.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.lang.reflect.Array;\n+import java.util.Collection;\n+import java.util.Iterator;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+\n+/**\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+abstract class AbstractShortCollectionCollection implements Collection {\n+    \n+    public boolean add(Object element) {\n+        return getShortCollection().add(((Number)element).shortValue());\n+    }\n+\n+    public boolean addAll(Collection c) {\n+        return getShortCollection().addAll(CollectionShortCollection.wrap(c));\n+    }\n+        \n+    public void clear() {\n+        getShortCollection().clear();\n+    }\n+\n+    public boolean contains(Object element) {\n+        return getShortCollection().contains(((Number)element).shortValue());\n+    }\n+   \n+    \n+    public boolean containsAll(Collection c) {\n+        return getShortCollection().containsAll(CollectionShortCollection.wrap(c));\n+    }        \n+        \n+    public String toString() {\n+        return getShortCollection().toString();\n+    }\n+    \n+    public boolean isEmpty() {\n+        return getShortCollection().isEmpty();\n+    }\n+    \n+    /**\n+     * {@link ShortIteratorIterator#wrap wraps} the \n+     * {@link org.apache.commons.collections.primitives.ShortIterator ShortIterator}\n+     * returned by my underlying \n+     * {@link ShortCollection ShortCollection}, \n+     * if any.\n+     */\n+    public Iterator iterator() {\n+        return ShortIteratorIterator.wrap(getShortCollection().iterator());\n+    }\n+     \n+    public boolean remove(Object element) {\n+        return getShortCollection().removeElement(((Number)element).shortValue());\n+    }\n+    \n+    public boolean removeAll(Collection c) {\n+        return getShortCollection().removeAll(CollectionShortCollection.wrap(c));\n+    }\n+    \n+    public boolean retainAll(Collection c) {\n+        return getShortCollection().retainAll(CollectionShortCollection.wrap(c));\n+    }\n+    \n+    public int size() {\n+        return getShortCollection().size();\n+    }\n+    \n+    public Object[] toArray() {\n+        short[] a = getShortCollection().toArray();\n+        Object[] A = new Object[a.length];\n+        for(int i=0;i<a.length;i++) {\n+            A[i] = new Short(a[i]);\n+        }\n+        return A;\n+    }\n+    \n+    public Object[] toArray(Object[] A) {\n+        short[] a = getShortCollection().toArray();\n+        if(A.length < a.length) {\n+            A = (Object[])(Array.newInstance(A.getClass().getComponentType(), a.length));\n+        }\n+        for(int i=0;i<a.length;i++) {\n+            A[i] = new Short(a[i]);\n+        }\n+        if(A.length > a.length) {\n+            A[a.length] = null;\n+        }\n+\n+        return A;\n+    }\n+\n+    protected abstract ShortCollection getShortCollection();            \n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/AbstractShortListList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/AbstractShortListList.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Collection;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.ListIterator;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+abstract class AbstractShortListList extends AbstractShortCollectionCollection implements List {\n+    \n+    public void add(int index, Object element) {\n+        getShortList().add(index,((Number)element).shortValue());\n+    }\n+\n+    public boolean addAll(int index, Collection c) {\n+        return getShortList().addAll(index,CollectionShortCollection.wrap(c));\n+    }\n+\n+    public Object get(int index) {\n+        return new Short(getShortList().get(index));\n+    }\n+\n+    public int indexOf(Object element) {\n+        return getShortList().indexOf(((Number)element).shortValue());\n+    }\n+\n+    public int lastIndexOf(Object element) {\n+        return getShortList().lastIndexOf(((Number)element).shortValue());\n+    }\n+\n+    /**\n+     * {@link ShortListIteratorListIterator#wrap wraps} the \n+     * {@link org.apache.commons.collections.primitives.ShortListIterator ShortListIterator}\n+     * returned by my underlying \n+     * {@link ShortList ShortList}, \n+     * if any.\n+     */\n+    public ListIterator listIterator() {\n+        return ShortListIteratorListIterator.wrap(getShortList().listIterator());\n+    }\n+\n+    /**\n+     * {@link ShortListIteratorListIterator#wrap wraps} the \n+     * {@link org.apache.commons.collections.primitives.ShortListIterator ShortListIterator}\n+     * returned by my underlying \n+     * {@link ShortList ShortList}, \n+     * if any.\n+     */\n+    public ListIterator listIterator(int index) {\n+        return ShortListIteratorListIterator.wrap(getShortList().listIterator(index));\n+    }\n+\n+    public Object remove(int index) {\n+        return new Short(getShortList().removeElementAt(index));\n+    }\n+\n+    public Object set(int index, Object element) {\n+        return new Short(getShortList().set(index, ((Number)element).shortValue() ));\n+    }\n+\n+    public List subList(int fromIndex, int toIndex) {\n+        return ShortListList.wrap(getShortList().subList(fromIndex,toIndex));\n+    }\n+\n+    public boolean equals(Object obj) {\n+        if(obj instanceof List) {\n+            List that = (List)obj;\n+            if(this == that) {\n+                return true;\n+            } else if(this.size() != that.size()) {\n+                return false;            \n+            } else {\n+                Iterator thisiter = iterator();\n+                Iterator thatiter = that.iterator();\n+                while(thisiter.hasNext()) {\n+                    Object thiselt = thisiter.next();\n+                    Object thatelt = thatiter.next();\n+                    if(null == thiselt ? null != thatelt : !(thiselt.equals(thatelt))) {\n+                        return false;\n+                    }\n+                }\n+                return true;\n+            }\n+        } else {\n+            return false;\n+        }\n+    }\n+\n+    public int hashCode() {\n+        return getShortList().hashCode();\n+    }\n+    \n+    protected final ShortCollection getShortCollection() {\n+        return getShortList();\n+    }\n+    \n+    protected abstract ShortList getShortList();\n+        \n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/CollectionShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/CollectionShortCollection.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.Collection;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+\n+/**\n+ * Adapts a {@link java.lang.Number Number}-valued\n+ * {@link java.util.Collection Collection} to the\n+ * {@link ShortCollection ShortCollection} interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link Collection Collection} \n+ * implementation in the \"obvious\" way.\n+ * \n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final public class CollectionShortCollection extends AbstractCollectionShortCollection implements Serializable {\n+    /**\n+     * Create an {@link ShortCollection ShortCollection} wrapping\n+     * the specified {@link Collection Collection}.  When\n+     * the given <i>collection</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param collection the (possibly <code>null</code>) {@link Collection} to wrap\n+     * @return an {@link ShortCollection ShortCollection} wrapping the given \n+     *         <i>collection</i>, or <code>null</code> when <i>collection</i> is\n+     *         <code>null</code>.\n+     */\n+    public static ShortCollection wrap(Collection collection) {\n+        if(null == collection) {\n+            return null;\n+        } else if(collection instanceof Serializable) {\n+            return new CollectionShortCollection(collection);\n+        } else {\n+            return new NonSerializableCollectionShortCollection(collection);\n+        }\n+    }\n+\n+    /**\n+     * Creates an {@link ShortCollection ShortCollection} wrapping\n+     * the specified {@link Collection Collection}.\n+     * @see #wrap\n+     */\n+    public CollectionShortCollection(Collection collection) {\n+        _collection = collection;\n+    }\n+    \n+    protected Collection getCollection() {\n+        return _collection;\n+    }\n+ \n+    private Collection _collection = null;         \n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/IteratorShortIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/IteratorShortIterator.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Iterator;\n+\n+import org.apache.commons.collections.primitives.ShortIterator;\n+\n+/**\n+ * Adapts a {@link java.lang.Number Number}-valued \n+ * {@link Iterator Iterator} \n+ * to the {@link ShortIterator ShortIterator} \n+ * interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link Iterator Iterator} \n+ * implementation in the \"obvious\" way.\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+public class IteratorShortIterator implements ShortIterator {\n+    \n+    /**\n+     * Create an {@link ShortIterator ShortIterator} wrapping\n+     * the specified {@link Iterator Iterator}.  When\n+     * the given <i>iterator</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param iterator the (possibly <code>null</code>) \n+     *        {@link Iterator Iterator} to wrap\n+     * @return an {@link ShortIterator ShortIterator} wrapping the given \n+     *         <i>iterator</i>, or <code>null</code> when <i>iterator</i> is\n+     *         <code>null</code>.\n+     */\n+    public static ShortIterator wrap(Iterator iterator) {\n+        return null == iterator ? null : new IteratorShortIterator(iterator);\n+    }\n+   \n+    /**\n+     * Creates an {@link ShortIterator ShortIterator} wrapping\n+     * the specified {@link Iterator Iterator}.\n+     * @see #wrap\n+     */\n+    public IteratorShortIterator(Iterator iterator) {\n+        _iterator = iterator;\n+    }\n+    \n+    public boolean hasNext() {\n+        return _iterator.hasNext();\n+    }\n+    \n+    public short next() {\n+        return ((Number)(_iterator.next())).shortValue();\n+    }\n+    \n+    public void remove() {\n+        _iterator.remove();\n+    }\n+    \n+    private Iterator _iterator = null;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/ListIteratorShortListIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/ListIteratorShortListIterator.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.ListIterator;\n+\n+import org.apache.commons.collections.primitives.ShortListIterator;\n+\n+/**\n+ * Adapts a {@link Number}-valued {@link ListIterator ListIterator} \n+ * to the {@link ShortListIterator ShortListIterator} interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link ShortListIterator ShortListIterator} \n+ * implementation in the \"obvious\" way.\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+public class ListIteratorShortListIterator implements ShortListIterator {\n+        \n+    /**\n+     * Create an {@link ShortListIterator ShortListIterator} wrapping\n+     * the specified {@link ListIterator ListIterator}.  When\n+     * the given <i>iterator</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param iterator the (possibly <code>null</code>) \n+     *        {@link ListIterator ListIterator} to wrap\n+     * @return an {@link ShortListIterator ShortListIterator} wrapping the given \n+     *         <i>iterator</i>, or <code>null</code> when <i>iterator</i> is\n+     *         <code>null</code>.\n+     */\n+    public static ShortListIterator wrap(ListIterator iterator) {\n+        return null == iterator ? null : new ListIteratorShortListIterator(iterator);\n+    }    \n+    \n+    /**\n+     * Creates an {@link ShortListIterator ShortListIterator} wrapping\n+     * the specified {@link ListIterator ListIterator}.\n+     * @see #wrap\n+     */\n+    public ListIteratorShortListIterator(ListIterator iterator) {\n+        _iterator = iterator;\n+    }\n+    \n+    public int nextIndex() {\n+        return _iterator.nextIndex();\n+    }\n+\n+    public int previousIndex() {\n+        return _iterator.previousIndex();\n+    }\n+\n+    public boolean hasNext() {\n+        return _iterator.hasNext();\n+    }\n+\n+    public boolean hasPrevious() {\n+        return _iterator.hasPrevious();\n+    }\n+    \n+    public short next() {\n+        return ((Number)_iterator.next()).shortValue();\n+    }\n+\n+    public short previous() {\n+        return ((Number)_iterator.previous()).shortValue();\n+    }\n+\n+    public void add(short element) {\n+        _iterator.add(new Short(element));\n+    }\n+      \n+    public void set(short element) {\n+        _iterator.set(new Short(element));\n+    }\n+\n+    public void remove() {\n+        _iterator.remove();\n+    }\n+      \n+    private ListIterator _iterator = null;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/ListShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/ListShortList.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.List;\n+\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * Adapts a {@link Number}-valued {@link List List} \n+ * to the {@link ShortList ShortList} interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link List List} \n+ * implementation in the \"obvious\" way.\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+public class ListShortList extends AbstractListShortList implements Serializable {\n+    \n+    /**\n+     * Create an {@link ShortList ShortList} wrapping\n+     * the specified {@link List List}.  When\n+     * the given <i>list</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param list the (possibly <code>null</code>) \n+     *        {@link List List} to wrap\n+     * @return a {@link ShortList ShortList} wrapping the given \n+     *         <i>list</i>, or <code>null</code> when <i>list</i> is\n+     *         <code>null</code>.\n+     */\n+    public static ShortList wrap(List list) {\n+        if(null == list) {\n+            return null;\n+        } else if(list instanceof Serializable) {\n+            return new ListShortList(list);\n+        } else {\n+            return new NonSerializableListShortList(list);\n+        }\n+    }\n+\n+    /**\n+     * Creates an {@link ShortList ShortList} wrapping\n+     * the specified {@link List List}.\n+     * @see #wrap\n+     */\n+    public ListShortList(List list) {\n+        _list = list;     \n+    }\n+    \n+    protected List getList() {\n+        return _list;\n+    }\n+        \n+    private List _list = null;\n+    \n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/NonSerializableCollectionShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/NonSerializableCollectionShortCollection.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Collection;\n+\n+/**\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final class NonSerializableCollectionShortCollection extends AbstractCollectionShortCollection {\n+    public NonSerializableCollectionShortCollection(Collection collection) {\n+        _collection = collection;\n+    }\n+\n+    protected Collection getCollection() {\n+        return _collection;\n+    }\n+              \n+    private Collection _collection = null;\n+    \n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/NonSerializableListShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/NonSerializableListShortList.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.List;\n+\n+/**\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final class NonSerializableListShortList extends AbstractListShortList {\n+\n+    protected NonSerializableListShortList(List list) {\n+        _list = list;\n+    }\n+    \n+    protected List getList() {\n+        return _list;\n+    }\n+        \n+    private List _list = null;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/NonSerializableShortCollectionCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/NonSerializableShortCollectionCollection.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+\n+/**\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final class NonSerializableShortCollectionCollection extends AbstractShortCollectionCollection {\n+    \n+    /**\n+     * Creates a {@link Collection Collection} wrapping\n+     * the specified {@link ShortCollection ShortCollection}.\n+     */\n+    public NonSerializableShortCollectionCollection(ShortCollection collection) {\n+        _collection = collection;\n+    }\n+\n+    protected ShortCollection getShortCollection() {\n+        return _collection;\n+    }\n+        \n+    private ShortCollection _collection = null;\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/NonSerializableShortListList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/NonSerializableShortListList.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final class NonSerializableShortListList extends AbstractShortListList {\n+    \n+    /**\n+     * Creates a {@link List List} wrapping\n+     * the specified {@link ShortList ShortList}.\n+     */\n+    public NonSerializableShortListList(ShortList list) {\n+        _list = list;\n+    }\n+\n+    protected ShortList getShortList() {\n+        return _list;\n+    }    \n+    \n+    private ShortList _list = null;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/ShortCollectionCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/ShortCollectionCollection.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.Collection;\n+\n+import org.apache.commons.collections.primitives.ShortCollection;\n+\n+/**\n+ * Adapts an {@link ShortCollection ShortCollection}\n+ * to the {@link java.util.Collection Collection}\n+ * interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link ShortCollection ShortCollection} \n+ * implementation in the \"obvious\" way.\n+ * \n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final public class ShortCollectionCollection extends AbstractShortCollectionCollection implements Serializable {\n+    \n+    /**\n+     * Create a {@link Collection Collection} wrapping\n+     * the specified {@link ShortCollection ShortCollection}.  When\n+     * the given <i>collection</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param collection the (possibly <code>null</code>) \n+     *        {@link ShortCollection ShortCollection} to wrap\n+     * @return a {@link Collection Collection} wrapping the given \n+     *         <i>collection</i>, or <code>null</code> when <i>collection</i> is\n+     *         <code>null</code>.\n+     */\n+    public static Collection wrap(ShortCollection collection) {\n+        if(null == collection) {\n+            return null;\n+        } else if(collection instanceof Serializable) {\n+            return new ShortCollectionCollection(collection);\n+        } else {\n+            return new NonSerializableShortCollectionCollection(collection);\n+        }\n+    }\n+    \n+    /**\n+     * Creates a {@link Collection Collection} wrapping\n+     * the specified {@link ShortCollection ShortCollection}.\n+     * @see #wrap\n+     */\n+    public ShortCollectionCollection(ShortCollection collection) {\n+        _collection = collection;\n+    }\n+    \n+\n+    protected ShortCollection getShortCollection() {\n+        return _collection;\n+    }\n+        \n+    private ShortCollection _collection = null;\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/ShortIteratorIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/ShortIteratorIterator.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Iterator;\n+\n+import org.apache.commons.collections.primitives.ShortIterator;\n+\n+/**\n+ * Adapts an {@link ShortIterator ShortIterator} to the\n+ * {@link java.util.Iterator Iterator} interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link ShortIterator ShortIterator} \n+ * implementation in the \"obvious\" way.\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+public class ShortIteratorIterator implements Iterator {\n+    \n+    /**\n+     * Create an {@link Iterator Iterator} wrapping\n+     * the specified {@link ShortIterator ShortIterator}.  When\n+     * the given <i>iterator</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param iterator the (possibly <code>null</code>) \n+     *        {@link ShortIterator ShortIterator} to wrap\n+     * @return an {@link Iterator Iterator} wrapping the given \n+     *         <i>iterator</i>, or <code>null</code> when <i>iterator</i> is\n+     *         <code>null</code>.\n+     */\n+    public static Iterator wrap(ShortIterator iterator) {\n+        return null == iterator ? null : new ShortIteratorIterator(iterator);\n+    }\n+    \n+    /**\n+     * Creates an {@link Iterator Iterator} wrapping\n+     * the specified {@link ShortIterator ShortIterator}.\n+     * @see #wrap\n+     */\n+    public ShortIteratorIterator(ShortIterator iterator) {\n+        _iterator = iterator;\n+    }\n+    \n+    public boolean hasNext() {\n+        return _iterator.hasNext();\n+    }\n+    \n+    public Object next() {\n+        return new Short(_iterator.next());\n+    }\n+    \n+    public void remove() {\n+        _iterator.remove();\n+    }\n+    \n+    private ShortIterator _iterator = null;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/ShortListIteratorListIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/ShortListIteratorListIterator.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.ListIterator;\n+\n+import org.apache.commons.collections.primitives.ShortListIterator;\n+\n+/**\n+ * Adapts an {@link ShortListIterator ShortListIterator} to the\n+ * {@link ListIterator ListIterator} interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link ShortListIterator ShortListIterator} \n+ * implementation in the \"obvious\" way.\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+public class ShortListIteratorListIterator implements ListIterator {\n+    \n+    /**\n+     * Create a {@link ListIterator ListIterator} wrapping\n+     * the specified {@link ShortListIterator ShortListIterator}.  When\n+     * the given <i>iterator</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param iterator the (possibly <code>null</code>) \n+     *        {@link ShortListIterator ShortListIterator} to wrap\n+     * @return a {@link ListIterator ListIterator} wrapping the given \n+     *         <i>iterator</i>, or <code>null</code> when <i>iterator</i> is\n+     *         <code>null</code>.\n+     */\n+    public static ListIterator wrap(ShortListIterator iterator) {\n+        return null == iterator ? null : new ShortListIteratorListIterator(iterator);\n+    }\n+    \n+    /**\n+     * Creates an {@link ListIterator ListIterator} wrapping\n+     * the specified {@link ShortListIterator ShortListIterator}.\n+     * @see #wrap\n+     */\n+    public ShortListIteratorListIterator(ShortListIterator iterator) {\n+        _iterator = iterator;\n+    }\n+    \n+    public int nextIndex() {\n+        return _iterator.nextIndex();\n+    }\n+\n+    public int previousIndex() {\n+        return _iterator.previousIndex();\n+    }\n+\n+    public boolean hasNext() {\n+        return _iterator.hasNext();\n+    }\n+\n+    public boolean hasPrevious() {\n+        return _iterator.hasPrevious();\n+    }\n+    \n+    public Object next() {\n+        return new Short(_iterator.next());\n+    }\n+\n+    public Object previous() {\n+        return new Short(_iterator.previous());\n+    }\n+\n+    public void add(Object obj) {\n+        _iterator.add(((Number)obj).shortValue());\n+    }\n+      \n+    public void set(Object obj) {\n+        _iterator.set(((Number)obj).shortValue());\n+    }\n+\n+    public void remove() {\n+        _iterator.remove();\n+    }\n+          \n+    private ShortListIterator _iterator = null;\n+\n+}\n--- /dev/null\n+++ b/src/java/org/apache/commons/collections/primitives/adapters/ShortListList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/primitives/adapters/Attic/ShortListList.java,v 1.1 2003/04/11 00:55:35 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.List;\n+\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * Adapts an {@link ShortList ShortList} to the\n+ * {@link List List} interface.\n+ * <p />\n+ * This implementation delegates most methods\n+ * to the provided {@link ShortList ShortList} \n+ * implementation in the \"obvious\" way.\n+ *\n+ * @since Commons Collections 2.2\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:35 $\n+ * @author Rodney Waldhoff \n+ */\n+final public class ShortListList extends AbstractShortListList implements Serializable {\n+    \n+    /**\n+     * Create a {@link List List} wrapping\n+     * the specified {@link ShortList ShortList}.  When\n+     * the given <i>list</i> is <code>null</code>,\n+     * returns <code>null</code>.\n+     * \n+     * @param list the (possibly <code>null</code>) \n+     *        {@link ShortList ShortList} to wrap\n+     * @return a {@link List List} wrapping the given \n+     *         <i>list</i>, or <code>null</code> when <i>list</i> is\n+     *         <code>null</code>.\n+     */\n+    public static List wrap(ShortList list) {\n+        if(null == list) {\n+            return null;\n+        } else if(list instanceof Serializable) {\n+            return new ShortListList(list);\n+        } else {\n+            return new NonSerializableShortListList(list);\n+        }\n+    }\n+    \n+    /**\n+     * Creates a {@link List List} wrapping\n+     * the specified {@link ShortList ShortList}.\n+     * @see #wrap\n+     */\n+    public ShortListList(ShortList list) {\n+        _list = list;\n+    }\n+    \n+    protected ShortList getShortList() {\n+        return _list;\n+    }    \n+    \n+    private ShortList _list = null;\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/TestAbstractRandomAccessShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestAbstractRandomAccessShortList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import junit.framework.Test;\n+import junit.framework.TestCase;\n+import junit.framework.TestSuite;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestAbstractRandomAccessShortList extends TestCase {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestAbstractRandomAccessShortList(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestAbstractRandomAccessShortList.class);\n+    }\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+    \n+    public void testAddIsUnsupportedByDefault() {\n+        AbstractRandomAccessShortList list = new AbstractRandomAccessShortListImpl();\n+        try {\n+            list.add((short)1);\n+            fail(\"Expected UnsupportedOperationException\");\n+        } catch(UnsupportedOperationException e) {\n+            // expected\n+        }        \n+        try {\n+            list.set(0,(short)1);\n+            fail(\"Expected UnsupportedOperationException\");\n+        } catch(UnsupportedOperationException e) {\n+            // expected\n+        }               \n+    }\n+\n+    public void testAddAllIsUnsupportedByDefault() {\n+        AbstractRandomAccessShortList list = new AbstractRandomAccessShortListImpl();\n+        ShortList list2 = new ArrayShortList();\n+        list2.add((short)3);\n+        try {\n+            list.addAll(list2);\n+            fail(\"Expected UnsupportedOperationException\");\n+        } catch(UnsupportedOperationException e) {\n+            // expected\n+        }               \n+    }\n+    \n+    public void testSetIsUnsupportedByDefault() {\n+        AbstractRandomAccessShortList list = new AbstractRandomAccessShortListImpl();\n+        try {\n+            list.set(0,(short)1);\n+            fail(\"Expected UnsupportedOperationException\");\n+        } catch(UnsupportedOperationException e) {\n+            // expected\n+        }               \n+    }\n+    \n+    public void testRemoveElementIsUnsupportedByDefault() {\n+        AbstractRandomAccessShortList list = new AbstractRandomAccessShortListImpl();\n+        try {\n+            list.removeElementAt(0);\n+            fail(\"Expected UnsupportedOperationException\");\n+        } catch(UnsupportedOperationException e) {\n+            // expected\n+        }               \n+    }\n+    \n+    // inner classes\n+    // ------------------------------------------------------------------------\n+\n+\n+    static class AbstractRandomAccessShortListImpl extends AbstractRandomAccessShortList {\n+        public AbstractRandomAccessShortListImpl() {\n+        }\n+\n+        /**\n+         * @see org.apache.commons.collections.primitives.ShortList#get(int)\n+         */\n+        public short get(int index) {\n+            throw new IndexOutOfBoundsException();\n+        }\n+\n+        /**\n+         * @see org.apache.commons.collections.primitives.ShortCollection#size()\n+         */\n+        public int size() {\n+            return 0;\n+        }\n+\n+    }\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/TestAbstractShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestAbstractShortCollection.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import java.util.Collections;\n+\n+import junit.framework.Test;\n+import junit.framework.TestCase;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.primitives.adapters.IteratorShortIterator;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestAbstractShortCollection extends TestCase {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestAbstractShortCollection(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestAbstractShortCollection.class);\n+    }\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+    \n+    public void testAddIsUnsupportedByDefault() {\n+        ShortCollection col = new ShortCollectionImpl();\n+        try {\n+            col.add((short)1);\n+            fail(\"Expected UnsupportedOperationException\");\n+        } catch(UnsupportedOperationException e) {\n+            // expected\n+        }        \n+    }\n+    // inner classes\n+    // ------------------------------------------------------------------------\n+\n+\n+    static class ShortCollectionImpl extends AbstractShortCollection {\n+        public ShortCollectionImpl() {\n+        }\n+        \n+        public ShortIterator iterator() {\n+            return new IteratorShortIterator(Collections.EMPTY_LIST.iterator());\n+        }\n+\n+        public int size() {\n+            return 0;\n+        }\n+    }\n+}\n--- a/src/test/org/apache/commons/collections/primitives/TestAll.java\n+++ b/src/test/org/apache/commons/collections/primitives/TestAll.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestAll.java,v 1.11 2003/04/09 06:44:34 rwaldhoff Exp $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestAll.java,v 1.12 2003/04/11 00:55:36 rwaldhoff Exp $\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  *\n import junit.framework.TestSuite;\n \n /**\n- * @version $Revision: 1.11 $ $Date: 2003/04/09 06:44:34 $\n+ * @version $Revision: 1.12 $ $Date: 2003/04/11 00:55:36 $\n  * @author Rodney Waldhoff\n  */\n public class TestAll extends TestCase {\n \n     public static Test suite() {\n         TestSuite suite = new TestSuite();\n+\n+        suite.addTest(TestAbstractShortCollection.suite());\n+        suite.addTest(TestAbstractRandomAccessShortList.suite());\n+        suite.addTest(TestArrayShortList.suite());\n+        //suite.addTest(TestArrayUnsignedByteList.suite());\n \n         suite.addTest(TestAbstractIntCollection.suite());\n         suite.addTest(TestAbstractRandomAccessIntList.suite());\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/TestArrayShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestArrayShortList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.BulkTest;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestArrayShortList extends TestShortList {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestArrayShortList(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        TestSuite suite = BulkTest.makeSuite(TestArrayShortList.class);\n+        return suite;\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    protected ShortList makeEmptyShortList() {\n+        return new ArrayShortList();\n+    }\n+\n+    public String[] ignoredSimpleTests() {\n+        // sublists are not serializable\n+        return new String[] { \n+            \"TestArrayShortList.bulkTestSubList.testFullListSerialization\",\n+            \"TestArrayShortList.bulkTestSubList.testEmptyListSerialization\",\n+            \"TestArrayShortList.bulkTestSubList.testCanonicalEmptyCollectionExists\",\n+            \"TestArrayShortList.bulkTestSubList.testCanonicalFullCollectionExists\",\n+            \"TestArrayShortList.bulkTestSubList.testEmptyListCompatibility\",\n+            \"TestArrayShortList.bulkTestSubList.testFullListCompatibility\",\n+            \"TestArrayShortList.bulkTestSubList.testSerializeDeserializeThenCompare\",\n+            \"TestArrayShortList.bulkTestSubList.testSimpleSerialization\"\n+        };\n+    }\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    /** @TODO need to add serialized form to cvs */\n+    public void testCanonicalEmptyCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testCanonicalFullCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testEmptyListCompatibility() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testFullListCompatibility() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testAddGetLargeValues() {\n+        ShortList list = new ArrayShortList();\n+        for (int i = 0; i < 1000; i++) {\n+            short value = ((short) (Integer.MAX_VALUE));\n+            value += i;\n+            list.add(value);\n+        }\n+        for (int i = 0; i < 1000; i++) {\n+            short value = ((short) (Integer.MAX_VALUE));\n+            value += i;\n+            assertEquals(value, list.get(i));\n+        }\n+    }\n+\n+    public void testZeroInitialCapacityIsValid() {\n+        ArrayShortList list = new ArrayShortList(0);\n+    }\n+\n+    public void testNegativeInitialCapacityIsInvalid() {\n+        try {\n+            ArrayShortList list = new ArrayShortList(-1);\n+            fail(\"Expected IllegalArgumentException\");\n+        } catch(IllegalArgumentException e) {\n+            // expected\n+        }\n+    }\n+\n+    public void testCopyConstructor() {\n+        ArrayShortList expected = new ArrayShortList();\n+        for(int i=0;i<10;i++) {\n+            expected.add((short)i);\n+        }\n+        ArrayShortList list = new ArrayShortList(expected);\n+        assertEquals(10,list.size());\n+        assertEquals(expected,list);\n+    }\n+\n+    public void testCopyConstructorWithNull() {\n+        try {\n+            ArrayShortList list = new ArrayShortList(null);\n+            fail(\"Expected NullPointerException\");\n+        } catch(NullPointerException e) {\n+            // expected\n+        }\n+    }\n+\n+\n+    public void testTrimToSize() {\n+        ArrayShortList list = new ArrayShortList();\n+        for(int j=0;j<3;j++) {\n+            assertTrue(list.isEmpty());\n+    \n+            list.trimToSize();\n+    \n+            assertTrue(list.isEmpty());\n+            \n+            for(int i=0;i<10;i++) {\n+                list.add((short)i);\n+            }\n+            \n+            for(int i=0;i<10;i++) {\n+                assertEquals((short)i,list.get(i));\n+            }\n+            \n+            list.trimToSize();\n+    \n+            for(int i=0;i<10;i++) {\n+                assertEquals((short)i,list.get(i));\n+            }\n+    \n+            for(int i=0;i<10;i+=2) {\n+                list.removeElement((short)i);\n+            }\n+            \n+            for(int i=0;i<5;i++) {\n+                assertEquals((short)(2*i)+1,list.get(i));\n+            }\n+    \n+            list.trimToSize();\n+                    \n+            for(int i=0;i<5;i++) {\n+                assertEquals((short)(2*i)+1,list.get(i));\n+            }\n+\n+            list.trimToSize();\n+                    \n+            for(int i=0;i<5;i++) {\n+                assertEquals((short)(2*i)+1,list.get(i));\n+            }\n+    \n+            list.clear();\n+        }\n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/TestShortIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestShortIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import java.util.Iterator;\n+import java.util.NoSuchElementException;\n+\n+import org.apache.commons.collections.iterators.TestIterator;\n+import org.apache.commons.collections.primitives.adapters.ShortIteratorIterator;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public abstract class TestShortIterator extends TestIterator {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortIterator(String testName) {\n+        super(testName);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    protected Object makeObject() {\n+        return makeFullIterator();\n+    }\n+    \n+    public Iterator makeEmptyIterator() {\n+        return ShortIteratorIterator.wrap(makeEmptyShortIterator());\n+    }\n+\n+    public Iterator makeFullIterator() {\n+        return ShortIteratorIterator.wrap(makeFullShortIterator());\n+    }\n+\n+\n+    protected abstract ShortIterator makeEmptyShortIterator();\n+    protected abstract ShortIterator makeFullShortIterator();\n+    protected abstract short[] getFullElements();\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+    \n+    public void testNextHasNextRemove() {\n+        short[] elements = getFullElements();\n+        ShortIterator iter = makeFullShortIterator();\n+        for(int i=0;i<elements.length;i++) {\n+            assertTrue(iter.hasNext());\n+            assertEquals(elements[i],iter.next());\n+            if(supportsRemove()) {\n+                iter.remove();\n+            }\n+        }        \n+        assertTrue(! iter.hasNext() );\n+    }\n+\n+    public void testEmptyShortIterator() {\n+        assertTrue( ! makeEmptyShortIterator().hasNext() );\n+        try {\n+            makeEmptyShortIterator().next();\n+            fail(\"Expected NoSuchElementException\");\n+        } catch(NoSuchElementException e) {\n+            // expected\n+        }\n+        if(supportsRemove()) {\n+            try {\n+                makeEmptyShortIterator().remove();\n+                fail(\"Expected IllegalStateException\");\n+            } catch(IllegalStateException e) {\n+                // expected\n+            }\n+        }        \n+    }\n+\n+    public void testRemoveBeforeNext() {\n+        if(supportsRemove()) {\n+            try {\n+                makeFullShortIterator().remove();\n+                fail(\"Expected IllegalStateException\");\n+            } catch(IllegalStateException e) {\n+                // expected\n+            }\n+        }        \n+    }\n+\n+    public void testRemoveAfterRemove() {\n+        if(supportsRemove()) {\n+            ShortIterator iter = makeFullShortIterator();\n+            iter.next();\n+            iter.remove();\n+            try {\n+                iter.remove();\n+                fail(\"Expected IllegalStateException\");\n+            } catch(IllegalStateException e) {\n+                // expected\n+            }\n+        }        \n+    }\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/TestShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestShortList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2002-2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+import java.io.Serializable;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.apache.commons.collections.TestList;\n+import org.apache.commons.collections.primitives.adapters.ShortListList;\n+import org.apache.commons.collections.primitives.adapters.ListShortList;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public abstract class TestShortList extends TestList {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortList(String testName) {\n+        super(testName);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    // collections testing framework: short list\n+    // ------------------------------------------------------------------------\n+\n+    protected abstract ShortList makeEmptyShortList();\n+\n+    protected ShortList makeFullShortList() {\n+        ShortList list = makeEmptyShortList();\n+        short[] values = getFullShorts();\n+        for(int i=0;i<values.length;i++) {\n+            list.add(values[i]);\n+        }\n+        return list;\n+    }\n+\n+    protected short[] getFullShorts() {\n+        short[] result = new short[19];\n+        for(short i = 0; i < result.length; i++) {\n+            result[i] = (short)(Short.MAX_VALUE - i);\n+        }\n+        return result;\n+    }\n+\n+    protected short[] getOtherShorts() {\n+        short[] result = new short[16];\n+        for(short i = 0; i < result.length; i++) {\n+            result[i] = (short)(i + 43);\n+        }\n+        return result;\n+    }\n+    \n+    // collections testing framework: inherited\n+    // ------------------------------------------------------------------------\n+\n+    protected List makeEmptyList() {\n+        return new ShortListList(makeEmptyShortList());\n+    }\n+        \n+    protected Object[] getFullElements() {\n+        return wrapArray(getFullShorts());\n+    }\n+\n+    protected Object[] getOtherElements() {\n+        return wrapArray(getOtherShorts());\n+    }\n+\n+    // private utils\n+    // ------------------------------------------------------------------------\n+\n+    private Short[] wrapArray(short[] primitives) {\n+        Short[] result = new Short[primitives.length];\n+        for(int i=0;i<result.length;i++) {\n+            result[i] = new Short(primitives[i]);            \n+        }\n+        return result;\n+    }\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    public void testToJustBigEnoughShortArray() {\n+        ShortList list = makeFullShortList();\n+        short[] dest = new short[list.size()];\n+        assertSame(dest,list.toArray(dest));\n+        int i=0;\n+        for(ShortIterator iter = list.iterator(); iter.hasNext();i++) {\n+            assertEquals(iter.next(),dest[i]);\n+        }\n+    }\n+    \n+    public void testToLargerThanNeededShortArray() {\n+        ShortList list = makeFullShortList();\n+        short[] dest = new short[list.size()*2];\n+        for(int i=0;i<dest.length;i++) {\n+            dest[i] = Short.MAX_VALUE;\n+        }       \n+        assertSame(dest,list.toArray(dest));\n+        int i=0;\n+        for(ShortIterator iter = list.iterator(); iter.hasNext();i++) {\n+            assertEquals(iter.next(),dest[i]);\n+        }\n+        for(;i<dest.length;i++) {\n+            assertEquals(Short.MAX_VALUE,dest[i]);\n+        }\n+    }\n+    \n+    public void testToSmallerThanNeededShortArray() {\n+        ShortList list = makeFullShortList();\n+        short[] dest = new short[list.size()/2];\n+        short[] dest2 = list.toArray(dest);\n+        assertTrue(dest != dest2);\n+        int i=0;\n+        for(ShortIterator iter = list.iterator(); iter.hasNext();i++) {\n+            assertEquals(iter.next(),dest2[i]);\n+        }\n+    }\n+    \n+    public void testHashCodeSpecification() {\n+        ShortList list = makeFullShortList();\n+\t\tint hash = 1;\n+\t\tfor(ShortIterator iter = list.iterator(); iter.hasNext(); ) {\n+\t\t\thash = 31*hash + iter.next();\n+\t\t}\n+        assertEquals(hash,list.hashCode());\n+    }\n+\n+    public void testEqualsWithTwoShortLists() {\n+        ShortList one = makeEmptyShortList();\n+        assertEquals(\"Equals is reflexive on empty list\",one,one);\n+        ShortList two = makeEmptyShortList();\n+        assertEquals(\"Empty lists are equal\",one,two);\n+        assertEquals(\"Equals is symmetric on empty lists\",two,one);\n+        \n+        one.add((short)1);\n+        assertEquals(\"Equals is reflexive on non empty list\",one,one);\n+        assertTrue(!one.equals(two));\n+        assertTrue(!two.equals(one));\n+\n+        two.add((short)1);\n+        assertEquals(\"Non empty lists are equal\",one,two);\n+        assertEquals(\"Equals is symmetric on non empty list\",one,two);\n+        \n+        one.add((short)1); one.add((short)2); one.add((short)3); one.add((short)5); one.add((short)8);\n+        assertEquals(\"Equals is reflexive on larger non empty list\",one,one);\n+        assertTrue(!one.equals(two));\n+        assertTrue(!two.equals(one));\n+        \n+        two.add((short)1); two.add((short)2); two.add((short)3); two.add((short)5); two.add((short)8);\n+        assertEquals(\"Larger non empty lists are equal\",one,two);\n+        assertEquals(\"Equals is symmetric on larger non empty list\",two,one);\n+\n+        one.add((short)9);\n+        two.add((short)10);\n+        assertTrue(!one.equals(two));\n+        assertTrue(!two.equals(one));\n+\n+    }\n+\n+    public void testShortSubListEquals() {\n+        ShortList one = makeEmptyShortList();\n+        assertEquals(one,one.subList(0,0));\n+        assertEquals(one.subList(0,0),one);\n+        \n+        one.add((short)1);\n+        assertEquals(one,one.subList(0,1));\n+        assertEquals(one.subList(0,1),one);\n+\n+        one.add((short)1); one.add((short)2); one.add((short)3); one.add((short)5); one.add((short)8);\n+        assertEquals(one.subList(0,4),one.subList(0,4));\n+        assertEquals(one.subList(3,5),one.subList(3,5));\n+    }\n+    \n+    public void testEqualsWithShortListAndList() {\n+        ShortList ilist = makeEmptyShortList();\n+        List list = new ArrayList();\n+        \n+        assertTrue(\"Unwrapped, empty List should not be equal to empty ShortList.\",!ilist.equals(list));\n+        assertTrue(\"Unwrapped, empty ShortList should not be equal to empty List.\",!list.equals(ilist));\n+        \n+        assertEquals(new ListShortList(list),ilist);\n+        assertEquals(ilist,new ListShortList(list));\n+        assertEquals(new ShortListList(ilist),list);\n+        assertEquals(list,new ShortListList(ilist));\n+        \n+        ilist.add((short)1);\n+        list.add(new Short((short)1));\n+\n+        assertTrue(\"Unwrapped, non-empty List is not equal to non-empty ShortList.\",!ilist.equals(list));\n+        assertTrue(\"Unwrapped, non-empty ShortList is not equal to non-empty List.\",!list.equals(ilist));\n+        \n+        assertEquals(new ListShortList(list),ilist);\n+        assertEquals(ilist,new ListShortList(list));\n+        assertEquals(new ShortListList(ilist),list);\n+        assertEquals(list,new ShortListList(ilist));\n+                \n+        ilist.add((short)1); ilist.add((short)2); ilist.add((short)3); ilist.add((short)5); ilist.add((short)8);\n+        list.add(new Short((short)1)); list.add(new Short((short)2)); list.add(new Short((short)3)); list.add(new Short((short)5)); list.add(new Short((short)8));\n+\n+        assertTrue(\"Unwrapped, non-empty List is not equal to non-empty ShortList.\",!ilist.equals(list));\n+        assertTrue(\"Unwrapped, non-empty ShortList is not equal to non-empty List.\",!list.equals(ilist));\n+        \n+        assertEquals(new ListShortList(list),ilist);\n+        assertEquals(ilist,new ListShortList(list));\n+        assertEquals(new ShortListList(ilist),list);\n+        assertEquals(list,new ShortListList(ilist));\n+        \n+    }\n+\n+    public void testClearAndSize() {\n+        ShortList list = makeEmptyShortList();\n+        assertEquals(0, list.size());\n+        for(int i = 0; i < 100; i++) {\n+            list.add((short)i);\n+        }\n+        assertEquals(100, list.size());\n+        list.clear();\n+        assertEquals(0, list.size());\n+    }\n+\n+    public void testRemoveViaSubList() {\n+        ShortList list = makeEmptyShortList();\n+        for(int i = 0; i < 100; i++) {\n+            list.add((short)i);\n+        }\n+        ShortList sub = list.subList(25,75);\n+        assertEquals(50,sub.size());\n+        for(int i = 0; i < 50; i++) {\n+            assertEquals(100-i,list.size());\n+            assertEquals(50-i,sub.size());\n+            assertEquals(25+i,sub.removeElementAt(0));\n+            assertEquals(50-i-1,sub.size());\n+            assertEquals(100-i-1,list.size());\n+        }\n+        assertEquals(0,sub.size());\n+        assertEquals(50,list.size());        \n+    }\n+    \n+    public void testAddGet() {\n+        ShortList list = makeEmptyShortList();\n+        for (int i = 0; i < 1000; i++) {\n+            list.add((short)i);\n+        }\n+        for (int i = 0; i < 1000; i++) {\n+            assertEquals((short)i, list.get(i));\n+        }\n+    }\n+\n+    public void testAddAndShift() {\n+        ShortList list = makeEmptyShortList();\n+        list.add(0, (short)1);\n+        assertEquals(\"Should have one entry\", 1, list.size());\n+        list.add((short)3);\n+        list.add((short)4);\n+        list.add(1, (short)2);\n+        for(int i = 0; i < 4; i++) {\n+            assertEquals(\"Should get entry back\", (short)(i + 1), list.get(i));\n+        }\n+        list.add(0, (short)0);\n+        for (int i = 0; i < 5; i++) {\n+            assertEquals(\"Should get entry back\", (short)i, list.get(i));\n+        }\n+    }\n+\n+    public void testIsSerializable() throws Exception {\n+        ShortList list = makeFullShortList();\n+        assertTrue(list instanceof Serializable);\n+        byte[] ser = writeExternalFormToBytes((Serializable)list);\n+        ShortList deser = (ShortList)(readExternalFormFromBytes(ser));\n+        assertEquals(list,deser);\n+        assertEquals(deser,list);\n+    }\n+\n+    public void testShortListSerializeDeserializeThenCompare() throws Exception {\n+        ShortList list = makeFullShortList();\n+        if(list instanceof Serializable) {\n+            byte[] ser = writeExternalFormToBytes((Serializable)list);\n+            ShortList deser = (ShortList)(readExternalFormFromBytes(ser));\n+            assertEquals(\"obj != deserialize(serialize(obj))\",list,deser);\n+        }\n+    }\n+\n+    public void testSubListsAreNotSerializable() throws Exception {\n+        ShortList list = makeFullShortList().subList(2,3);\n+        assertTrue( ! (list instanceof Serializable) );\n+    }\n+\n+    public void testSubListOutOfBounds() throws Exception {\n+        try {\n+            makeEmptyShortList().subList(2,3);\n+            fail(\"Expected IndexOutOfBoundsException\");\n+        } catch(IndexOutOfBoundsException e) {\n+            // expected\n+        }\n+\n+        try {\n+            makeFullShortList().subList(-1,3);\n+            fail(\"Expected IndexOutOfBoundsException\");\n+        } catch(IndexOutOfBoundsException e) {\n+            // expected\n+        }\n+\n+\n+        try {\n+            makeFullShortList().subList(5,2);\n+            fail(\"Expected IllegalArgumentException\");\n+        } catch(IllegalArgumentException e) {\n+            // expected\n+        }\n+\n+        try {\n+            makeFullShortList().subList(2,makeFullShortList().size()+2);\n+            fail(\"Expected IndexOutOfBoundsException\");\n+        } catch(IndexOutOfBoundsException e) {\n+            // expected\n+        }\n+    }\n+\n+    public void testListIteratorOutOfBounds() throws Exception {\n+        try {\n+            makeEmptyShortList().listIterator(2);\n+            fail(\"Expected IndexOutOfBoundsException\");\n+        } catch(IndexOutOfBoundsException e) {\n+            // expected\n+        }\n+\n+        try {\n+            makeFullShortList().listIterator(-1);\n+            fail(\"Expected IndexOutOfBoundsException\");\n+        } catch(IndexOutOfBoundsException e) {\n+            // expected\n+        }\n+\n+        try {\n+            makeFullShortList().listIterator(makeFullShortList().size()+2);\n+            fail(\"Expected IndexOutOfBoundsException\");\n+        } catch(IndexOutOfBoundsException e) {\n+            // expected\n+        }\n+    }\n+\n+    public void testListIteratorSetWithoutNext() throws Exception {\n+        ShortListIterator iter = makeFullShortList().listIterator();\n+        try {\n+            iter.set((short)3);\n+            fail(\"Expected IllegalStateException\");\n+        } catch(IllegalStateException e) {\n+            // expected\n+        }\n+    }\n+\n+    public void testListIteratorSetAfterRemove() throws Exception {\n+        ShortListIterator iter = makeFullShortList().listIterator();\n+        iter.next();\n+        iter.remove();\n+        try {            \n+            iter.set((short)3);\n+            fail(\"Expected IllegalStateException\");\n+        } catch(IllegalStateException e) {\n+            // expected\n+        }\n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/TestShortListIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/Attic/TestShortListIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public abstract class TestShortListIterator extends TestShortIterator {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortListIterator(String testName) {\n+        super(testName);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    public ShortIterator makeEmptyShortIterator() {\n+        return makeEmptyShortListIterator();\n+    }\n+    \n+    public ShortIterator makeFullShortIterator() {\n+        return makeFullShortListIterator();\n+    }\n+\n+    public abstract ShortListIterator makeEmptyShortListIterator();\n+    public abstract ShortListIterator makeFullShortListIterator();\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+\n+}\n--- a/src/test/org/apache/commons/collections/primitives/adapters/TestAll.java\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestAll.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestAll.java,v 1.3 2003/04/08 18:24:35 rwaldhoff Exp $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestAll.java,v 1.4 2003/04/11 00:55:36 rwaldhoff Exp $\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  *\n import junit.framework.TestSuite;\n \n /**\n- * @version $Revision: 1.3 $ $Date: 2003/04/08 18:24:35 $\n+ * @version $Revision: 1.4 $ $Date: 2003/04/11 00:55:36 $\n  * @author Rodney Waldhoff\n  */\n public class TestAll extends TestCase {\n     public static Test suite() {\n         TestSuite suite = new TestSuite();\n         \n+        suite.addTest(TestCollectionShortCollection.suite());\n+        suite.addTest(TestShortCollectionCollection.suite());\n+        suite.addTest(TestShortListList.suite());\n+        suite.addTest(TestListShortList.suite());\n+        suite.addTest(TestIteratorShortIterator.suite());\n+        suite.addTest(TestListIteratorShortListIterator.suite());\n+        suite.addTest(TestShortIteratorIterator.suite());\n+        suite.addTest(TestShortListIteratorListIterator.suite());\n+\n         suite.addTest(TestCollectionIntCollection.suite());\n         suite.addTest(TestIntCollectionCollection.suite());\n         suite.addTest(TestIntListList.suite());\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestCollectionShortCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestCollectionShortCollection.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.AbstractList;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.TestObject;\n+import org.apache.commons.collections.primitives.ShortCollection;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestCollectionShortCollection extends TestObject {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestCollectionShortCollection(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestCollectionShortCollection.class);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    protected Object makeObject() {\n+        List list = new ArrayList();\n+        for(int i=0;i<10;i++) {\n+            list.add(new Short((short)i));\n+        }\n+        return new CollectionShortCollection(list);\n+    }\n+\n+    public void testSerializeDeserializeThenCompare() {\n+        // Collection.equal contract doesn't work that way\n+    }\n+\n+    /** @TODO need to add serialized form to cvs */\n+    public void testCanonicalEmptyCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testCanonicalFullCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+    \n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    public void testWrapNull() {\n+        assertNull(CollectionShortCollection.wrap(null));\n+    }\n+    \n+    public void testWrapSerializable() {\n+        ShortCollection collection = CollectionShortCollection.wrap(new ArrayList());\n+        assertNotNull(collection);\n+        assertTrue(collection instanceof Serializable);\n+    }\n+    \n+    public void testWrapNonSerializable() {\n+        ShortCollection collection = CollectionShortCollection.wrap(new AbstractList() { \n+            public Object get(int i) { throw new IndexOutOfBoundsException(); } \n+            public int size() { return 0; } \n+        });\n+        assertNotNull(collection);\n+        assertTrue(!(collection instanceof Serializable));\n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestIteratorShortIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestIteratorShortIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.primitives.ShortIterator;\n+import org.apache.commons.collections.primitives.TestShortIterator;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestIteratorShortIterator extends TestShortIterator {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestIteratorShortIterator(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestIteratorShortIterator.class);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    public ShortIterator makeEmptyShortIterator() {\n+        return IteratorShortIterator.wrap(makeEmptyList().iterator());\n+    }\n+    \n+    public ShortIterator makeFullShortIterator() {\n+        return IteratorShortIterator.wrap(makeFullList().iterator());\n+    }\n+\n+    protected List makeEmptyList() {\n+        return new ArrayList();\n+    }\n+    \n+    protected List makeFullList() {\n+        List list = makeEmptyList();\n+        short[] elts = getFullElements();\n+        for(int i=0;i<elts.length;i++) {\n+            list.add(new Short(elts[i]));\n+        }\n+        return list;\n+    }\n+    \n+    public short[] getFullElements() {\n+        return new short[] { (short)0, (short)1, (short)2, (short)3, (short)4, (short)5, (short)6, (short)7, (short)8, (short)9 };\n+    }\n+    \n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestListIteratorShortListIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestListIteratorShortListIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.primitives.ShortListIterator;\n+import org.apache.commons.collections.primitives.TestShortListIterator;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestListIteratorShortListIterator extends TestShortListIterator {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestListIteratorShortListIterator(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestListIteratorShortListIterator.class);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    public ShortListIterator makeEmptyShortListIterator() {\n+        return ListIteratorShortListIterator.wrap(makeEmptyList().listIterator());\n+    }\n+    \n+    public ShortListIterator makeFullShortListIterator() {\n+        return ListIteratorShortListIterator.wrap(makeFullList().listIterator());\n+    }\n+\n+    protected List makeEmptyList() {\n+        return new ArrayList();\n+    }\n+    \n+    protected List makeFullList() {\n+        List list = makeEmptyList();\n+        short[] elts = getFullElements();\n+        for(int i=0;i<elts.length;i++) {\n+            list.add(new Short(elts[i]));\n+        }\n+        return list;\n+    }\n+    \n+    public short[] getFullElements() {\n+        return new short[] { (short)0, (short)1, (short)2, (short)3, (short)4, (short)5, (short)6, (short)7, (short)8, (short)9 };\n+    }\n+    \n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestListShortList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestListShortList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.AbstractList;\n+import java.util.ArrayList;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.BulkTest;\n+import org.apache.commons.collections.primitives.ShortList;\n+import org.apache.commons.collections.primitives.TestShortList;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestListShortList extends TestShortList {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestListShortList(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        TestSuite suite = BulkTest.makeSuite(TestListShortList.class);\n+        return suite;\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    /**\n+     * @see org.apache.commons.collections.primitives.TestShortList#makeEmptyShortList()\n+     */\n+    protected ShortList makeEmptyShortList() {\n+        return new ListShortList(new ArrayList());\n+    }\n+    \n+    public String[] ignoredSimpleTests() {\n+        // sublists are not serializable\n+        return new String[] { \n+            \"TestListShortList.bulkTestSubList.testFullListSerialization\",\n+            \"TestListShortList.bulkTestSubList.testEmptyListSerialization\",\n+            \"TestListShortList.bulkTestSubList.testCanonicalEmptyCollectionExists\",\n+            \"TestListShortList.bulkTestSubList.testCanonicalFullCollectionExists\",\n+            \"TestListShortList.bulkTestSubList.testEmptyListCompatibility\",\n+            \"TestListShortList.bulkTestSubList.testFullListCompatibility\",\n+            \"TestListShortList.bulkTestSubList.testSerializeDeserializeThenCompare\",\n+            \"TestListShortList.bulkTestSubList.testSimpleSerialization\"\n+        };\n+    }\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    /** @TODO need to add serialized form to cvs */\n+    public void testCanonicalEmptyCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testCanonicalFullCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testEmptyListCompatibility() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testFullListCompatibility() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+    public void testWrapNull() {\n+        assertNull(ListShortList.wrap(null));\n+    }\n+    \n+    public void testWrapSerializable() {\n+        ShortList list = ListShortList.wrap(new ArrayList());\n+        assertNotNull(list);\n+        assertTrue(list instanceof Serializable);\n+    }\n+    \n+    public void testWrapNonSerializable() {\n+        ShortList list = ListShortList.wrap(new AbstractList() { \n+            public Object get(int i) { throw new IndexOutOfBoundsException(); } \n+            public int size() { return 0; } \n+        });\n+        assertNotNull(list);\n+        assertTrue(!(list instanceof Serializable));\n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestShortCollectionCollection.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestShortCollectionCollection.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.Collection;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.TestObject;\n+import org.apache.commons.collections.primitives.AbstractRandomAccessShortList;\n+import org.apache.commons.collections.primitives.ArrayShortList;\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestShortCollectionCollection extends TestObject {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortCollectionCollection(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestShortCollectionCollection.class);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    protected Object makeObject() {\n+        ShortList list = new ArrayShortList();\n+        for(int i=0;i<10;i++) {\n+            list.add((short)i);\n+        }\n+        return new ShortCollectionCollection(list);\n+    }\n+\n+    public void testSerializeDeserializeThenCompare() {\n+        // Collection.equal contract doesn't work that way\n+    }\n+\n+    /** @TODO need to add serialized form to cvs */\n+    public void testCanonicalEmptyCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testCanonicalFullCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+    \n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    public void testWrapNull() {\n+        assertNull(ShortCollectionCollection.wrap(null));\n+    }\n+    \n+    public void testWrapSerializable() {\n+        Collection collection = ShortCollectionCollection.wrap(new ArrayShortList());\n+        assertNotNull(collection);\n+        assertTrue(collection instanceof Serializable);\n+    }\n+    \n+    public void testWrapNonSerializable() {\n+        Collection collection = ShortCollectionCollection.wrap(new AbstractRandomAccessShortList() { \n+            public short get(int i) { throw new IndexOutOfBoundsException(); } \n+            public int size() { return 0; } \n+        });\n+        assertNotNull(collection);\n+        assertTrue(!(collection instanceof Serializable));\n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestShortIteratorIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestShortIteratorIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Iterator;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.iterators.TestIterator;\n+import org.apache.commons.collections.primitives.ArrayShortList;\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestShortIteratorIterator extends TestIterator {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortIteratorIterator(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestShortIteratorIterator.class);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    public Object makeObject() {\n+        return makeFullIterator();\n+    }\n+    \n+    public Iterator makeEmptyIterator() {\n+        return ShortIteratorIterator.wrap(makeEmptyShortList().iterator());\n+    }\n+    \n+    public Iterator makeFullIterator() {\n+        return ShortIteratorIterator.wrap(makeFullShortList().iterator());\n+    }\n+\n+    protected ShortList makeEmptyShortList() {\n+        return new ArrayShortList();\n+    }\n+    \n+    protected ShortList makeFullShortList() {\n+        ShortList list = makeEmptyShortList();\n+        short[] elts = getFullElements();\n+        for(int i=0;i<elts.length;i++) {\n+            list.add((short)elts[i]);\n+        }\n+        return list;\n+    }\n+    \n+    public short[] getFullElements() {\n+        return new short[] { (short)0, (short)1, (short)2, (short)3, (short)4, (short)5, (short)6, (short)7, (short)8, (short)9 };\n+    }\n+    \n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestShortListIteratorListIterator.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestShortListIteratorListIterator.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.util.Iterator;\n+import java.util.NoSuchElementException;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.iterators.TestIterator;\n+import org.apache.commons.collections.primitives.ArrayShortList;\n+import org.apache.commons.collections.primitives.ShortList;\n+\n+/**\n+ * @TODO should extend TestListIterator when there is one\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestShortListIteratorListIterator extends TestIterator {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortListIteratorListIterator(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        return new TestSuite(TestShortListIteratorListIterator.class);\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    public Object makeObject() {\n+        return makeFullIterator();\n+    }\n+    \n+    public Iterator makeEmptyIterator() {\n+        return ShortListIteratorListIterator.wrap(makeEmptyShortList().listIterator());\n+    }\n+    \n+    public Iterator makeFullIterator() {\n+        return ShortListIteratorListIterator.wrap(makeFullShortList().listIterator());\n+    }\n+\n+    protected ShortList makeEmptyShortList() {\n+        return new ArrayShortList();\n+    }\n+    \n+    protected ShortList makeFullShortList() {\n+        ShortList list = makeEmptyShortList();\n+        short[] elts = getFullElements();\n+        for(int i=0;i<elts.length;i++) {\n+            list.add((short)elts[i]);\n+        }\n+        return list;\n+    }\n+    \n+    public short[] getFullElements() {\n+        return new short[] { (short)0, (short)1, (short)2, (short)3, (short)4, (short)5, (short)6, (short)7, (short)8, (short)9 };\n+    }\n+    \n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    \n+    public void testNextHasNextRemove() {\n+        short[] elements = getFullElements();\n+        Iterator iter = makeFullIterator();\n+        for(int i=0;i<elements.length;i++) {\n+            assertTrue(iter.hasNext());\n+            assertEquals(new Short(elements[i]),iter.next());\n+            if(supportsRemove()) {\n+                iter.remove();\n+            }\n+        }        \n+        assertTrue(! iter.hasNext() );\n+    }\n+\n+    public void testEmptyIterator() {\n+        assertTrue( ! makeEmptyIterator().hasNext() );\n+        try {\n+            makeEmptyIterator().next();\n+            fail(\"Expected NoSuchElementException\");\n+        } catch(NoSuchElementException e) {\n+            // expected\n+        }\n+        if(supportsRemove()) {\n+            try {\n+                makeEmptyIterator().remove();\n+                fail(\"Expected IllegalStateException\");\n+            } catch(IllegalStateException e) {\n+                // expected\n+            }\n+        }        \n+    }\n+\n+    public void testRemoveBeforeNext() {\n+        if(supportsRemove()) {\n+            try {\n+                makeFullIterator().remove();\n+                fail(\"Expected IllegalStateException\");\n+            } catch(IllegalStateException e) {\n+                // expected\n+            }\n+        }        \n+    }\n+\n+    public void testRemoveAfterRemove() {\n+        if(supportsRemove()) {\n+            Iterator iter = makeFullIterator();\n+            iter.next();\n+            iter.remove();\n+            try {\n+                iter.remove();\n+                fail(\"Expected IllegalStateException\");\n+            } catch(IllegalStateException e) {\n+                // expected\n+            }\n+        }        \n+    }\n+\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/collections/primitives/adapters/TestShortListList.java\n+/*\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/primitives/adapters/Attic/TestShortListList.java,v 1.1 2003/04/11 00:55:36 rwaldhoff Exp $\n+ * ====================================================================\n+ * The Apache Software License, Version 1.1\n+ *\n+ * Copyright (c) 2003 The Apache Software Foundation.  All rights\n+ * reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions\n+ * are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright\n+ *    notice, this list of conditions and the following disclaimer.\n+ *\n+ * 2. Redistributions in binary form must reproduce the above copyright\n+ *    notice, this list of conditions and the following disclaimer in\n+ *    the documentation and/or other materials provided with the\n+ *    distribution.\n+ *\n+ * 3. The end-user documentation included with the redistribution, if\n+ *    any, must include the following acknowledgment:\n+ *       \"This product includes software developed by the\n+ *        Apache Software Foundation (http://www.apache.org/).\"\n+ *    Alternately, this acknowledgment may appear in the software itself,\n+ *    if and wherever such third-party acknowledgments normally appear.\n+ *\n+ * 4. The names \"The Jakarta Project\", \"Commons\", and \"Apache Software\n+ *    Foundation\" must not be used to endorse or promote products derived\n+ *    from this software without prior written permission. For written\n+ *    permission, please contact apache@apache.org.\n+ *\n+ * 5. Products derived from this software may not be called \"Apache\"\n+ *    nor may \"Apache\" appear in their names without prior written\n+ *    permission of the Apache Software Foundation.\n+ *\n+ * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED\n+ * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n+ * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR\n+ * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n+ * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n+ * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF\n+ * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT\n+ * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n+ * SUCH DAMAGE.\n+ * ====================================================================\n+ *\n+ * This software consists of voluntary contributions made by many\n+ * individuals on behalf of the Apache Software Foundation.  For more\n+ * information on the Apache Software Foundation, please see\n+ * <http://www.apache.org/>.\n+ *\n+ */\n+\n+package org.apache.commons.collections.primitives.adapters;\n+\n+import java.io.Serializable;\n+import java.util.List;\n+\n+import junit.framework.Test;\n+import junit.framework.TestSuite;\n+\n+import org.apache.commons.collections.BulkTest;\n+import org.apache.commons.collections.TestList;\n+import org.apache.commons.collections.primitives.AbstractRandomAccessShortList;\n+import org.apache.commons.collections.primitives.ArrayShortList;\n+\n+/**\n+ * @version $Revision: 1.1 $ $Date: 2003/04/11 00:55:36 $\n+ * @author Rodney Waldhoff\n+ */\n+public class TestShortListList extends TestList {\n+\n+    // conventional\n+    // ------------------------------------------------------------------------\n+\n+    public TestShortListList(String testName) {\n+        super(testName);\n+    }\n+\n+    public static Test suite() {\n+        TestSuite suite = BulkTest.makeSuite(TestShortListList.class);\n+        return suite;\n+    }\n+\n+    // collections testing framework\n+    // ------------------------------------------------------------------------\n+\n+    protected List makeEmptyList() {\n+        return new ShortListList(new ArrayShortList());\n+    }\n+        \n+    protected Object[] getFullElements() {\n+        Short[] elts = new Short[10];\n+        for(int i=0;i<elts.length;i++) {\n+            elts[i] = new Short((short)i);\n+        }\n+        return elts;\n+    }\n+\n+    protected Object[] getOtherElements() {\n+        Short[] elts = new Short[10];\n+        for(int i=0;i<elts.length;i++) {\n+            elts[i] = new Short((short)(10 + i));\n+        }\n+        return elts;\n+    }\n+\n+    // tests\n+    // ------------------------------------------------------------------------\n+\n+    /** @TODO need to add serialized form to cvs */\n+\n+    public void testCanonicalEmptyCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testCanonicalFullCollectionExists() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testEmptyListCompatibility() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testFullListCompatibility() {\n+        // XXX FIX ME XXX\n+        // need to add a serialized form to cvs\n+    }\n+\n+    public void testWrapNull() {\n+        assertNull(ShortListList.wrap(null));\n+    }\n+    \n+    public void testWrapSerializable() {\n+        List list = ShortListList.wrap(new ArrayShortList());\n+        assertNotNull(list);\n+        assertTrue(list instanceof Serializable);\n+    }\n+    \n+    public void testWrapNonSerializable() {\n+        List list = ShortListList.wrap(new AbstractRandomAccessShortList() { \n+            public short get(int i) { throw new IndexOutOfBoundsException(); } \n+            public int size() { return 0; } \n+        });\n+        assertNotNull(list);\n+        assertTrue(!(list instanceof Serializable));\n+    }\n+}", "timestamp": 1050022537, "metainfo": ""}