{"sha": "085a1538fa20d8e48faad49eaffd697f024bf1af", "log": "CLI-252: LongOpt falsely detected as ambiguous. This closes #2 from github. Thanks to Simon Harrer.  ", "commit": "\n--- a/src/main/java/org/apache/commons/cli/Options.java\n+++ b/src/main/java/org/apache/commons/cli/Options.java\n         opt = Util.stripLeadingHyphens(opt);\n         \n         List<String> matchingOpts = new ArrayList<String>();\n-        \n+\n+        // for a perfect match return the single option only\n+        if(longOpts.keySet().contains(opt)) {\n+            return Collections.singletonList(opt);\n+        }\n+\n         for (String longOpt : longOpts.keySet())\n         {\n             if (longOpt.startsWith(opt))\n--- /dev/null\n+++ b/src/test/java/org/apache/commons/cli/bug/BugCLI252Test.java\n+package org.apache.commons.cli.bug;\n+\n+import org.apache.commons.cli.*;\n+import org.junit.Test;\n+\n+public class BugCLI252Test extends DefaultParserTest {\n+\n+    @Test\n+    public void testExactOptionNameMatch() throws ParseException {\n+        new DefaultParser().parse(getOptions(), new String[]{\"--prefix\"});\n+    }\n+\n+    @Test(expected = AmbiguousOptionException.class)\n+    public void testAmbiquousOptionName() throws ParseException {\n+        new DefaultParser().parse(getOptions(), new String[]{\"--pref\"});\n+    }\n+\n+    private Options getOptions() {\n+        Options options = new Options();\n+        options.addOption(Option.builder().longOpt(\"prefix\").build());\n+        options.addOption(Option.builder().longOpt(\"prefixplusplus\").build());\n+        return options;\n+    }\n+\n+}", "timestamp": 1433827102, "metainfo": ""}