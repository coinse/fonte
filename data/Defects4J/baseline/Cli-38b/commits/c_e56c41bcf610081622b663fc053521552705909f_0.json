{"sha": "e56c41bcf610081622b663fc053521552705909f", "log": "create the parser using a classname parameter instead of a system property   ", "commit": "\n--- a/src/java/org/apache/commons/cli/CommandLineParserFactory.java\n+++ b/src/java/org/apache/commons/cli/CommandLineParserFactory.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//cli/src/java/org/apache/commons/cli/Attic/CommandLineParserFactory.java,v 1.1 2002/07/04 22:32:12 jkeyes Exp $\n- * $Revision: 1.1 $\n- * $Date: 2002/07/04 22:32:12 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//cli/src/java/org/apache/commons/cli/Attic/CommandLineParserFactory.java,v 1.2 2002/07/25 21:40:08 jkeyes Exp $\n+ * $Revision: 1.2 $\n+ * $Date: 2002/07/25 21:40:08 $\n  *\n  * ====================================================================\n  *\n      * @return the CommandLineParser\n      */\n     public static CommandLineParser newParser() {\n-        String parserImpl = System.getProperty( \"org.apache.commons.cli.parser\" );\n+        return newParser( DEFAULT_PARSER );\n+    }\n+\n+    public static CommandLineParser newParser( String classname ) {\n         try {\n-            return (CommandLineParser)Class.forName( parserImpl ).newInstance();\n+            return (CommandLineParser)Class.forName( classname ).newInstance();\n         }\n         catch( Exception exp ) {\n             // could not create according to parserImpl so default to\n--- a/src/test/org/apache/commons/cli/ApplicationTest.java\n+++ b/src/test/org/apache/commons/cli/ApplicationTest.java\n      */\n     public void testAnt() {\n         // use the GNU parser\n-        System.setProperty( \"org.apache.commons.cli.parser\",\n-                            \"org.apache.commons.cli.GnuParser\");\n-\n-        CommandLineParser parser = CommandLineParserFactory.newParser();\n+        CommandLineParser parser = CommandLineParserFactory.newParser( \"org.apache.commons.cli.GnuParser\" );\n         Options options = new Options();\n         options.addOption( \"help\", false, \"print this message\" );\n         options.addOption( \"projecthelp\", false, \"print project help information\" );\n--- a/src/test/org/apache/commons/cli/GnuParseTest.java\n+++ b/src/test/org/apache/commons/cli/GnuParseTest.java\n  * version 1.1, a copy of which has been included with this distribution in\n  * the LICENSE file.\n  * \n- * $Id: GnuParseTest.java,v 1.1 2002/07/04 22:32:12 jkeyes Exp $\n+ * $Id: GnuParseTest.java,v 1.2 2002/07/25 21:40:08 jkeyes Exp $\n  */\n \n package org.apache.commons.cli;\n \n     public void setUp()\n     {\n-        System.setProperty( \"org.apache.commons.cli.parser\",\n-                            \"org.apache.commons.cli.GnuParser\");\n-\n         _options = new Options()\n             .addOption(\"a\",\n                        \"enable-a\",\n                        false,\n                        \"turn [c] on or off\");\n \n-        _parser = CommandLineParserFactory.newParser();\n+        _parser = CommandLineParserFactory.newParser( \"org.apache.commons.cli.GnuParser\" );\n     }\n \n     public void tearDown()", "timestamp": 1027633208, "metainfo": ""}