{"sha": "1fcf87d3e9e6e429f6fb17e6768c0562fff6d732", "log": "Simplify exception testing  ", "commit": "\n--- a/src/test/java/org/apache/commons/cli/BugsTest.java\n+++ b/src/test/java/org/apache/commons/cli/BugsTest.java\n \n         Parser parser = new PosixParser();\n \n-        try\n-        {\n+        try {\n             parser.parse( options, args );\n-        }\n-        // catch the exception and leave the method\n-        catch( Exception exp )\n-        {\n-            assertTrue( exp != null );\n-            return;\n-        }\n-        fail( \"MissingArgumentException not caught.\" );\n+            fail( \"MissingArgumentException not caught.\" );\n+        } catch( MissingArgumentException expected ) {\n+        }\n     }\n \n     public void test13666() throws Exception\n         opts.addOption( straight );\n \n         CommandLineParser parser = new PosixParser();\n-        boolean exception = false;\n \n         String[] args = new String[] {  };\n-        try\n-        {\n+        try {\n             parser.parse(opts, args);\n-        }\n-        catch (ParseException exp)\n-        {\n-            exception = true;\n-        }\n-\n-        if (!exception)\n-        {\n-            fail(\"Expected exception not caught.\");\n-        }\n-\n-        exception = false;\n+            fail(\"Expected ParseException\");\n+        }\n+        catch (ParseException expected) {\n+        }\n \n         args = new String[] { \"-s\" };\n-        try\n-        {\n+        try {\n             parser.parse(opts, args);\n-        }\n-        catch (ParseException exp)\n-        {\n-            exception = true;\n-        }\n-\n-        if (!exception)\n-        {\n-            fail(\"Expected exception not caught.\");\n-        }\n-\n-        exception = false;\n+            fail(\"Expected ParseException\");\n+        }\n+        catch (ParseException expected) {\n+        }\n \n         args = new String[] { \"-s\", \"-l\" };\n-        try\n-        {\n-            parser.parse(opts, args);\n-        }\n-        catch (ParseException exp)\n-        {\n-            fail(\"Unexpected exception: \" + exp.getClass().getName() + \":\" + exp.getMessage());\n-        }\n+        CommandLine line = parser.parse(opts, args);\n+        assertNotNull(line);\n \n         opts.addOption( forward );\n         args = new String[] { \"-s\", \"-l\", \"-f\" };\n-        try\n-        {\n-            parser.parse(opts, args);\n-        }\n-        catch (ParseException exp)\n-        {\n-            fail(\"Unexpected exception: \" + exp.getClass().getName() + \":\" + exp.getMessage());\n-        }\n+        line = parser.parse(opts, args);\n+        assertNotNull(line);\n     }\n \n     public void test14786() throws Exception", "timestamp": 1359567218, "metainfo": ""}