{"sha": "22576c14c60092fb6c67789ab2f5ee14952c0c18", "log": "Unit tests should not write to std out  ", "commit": "\n--- a/src/test/java/org/apache/commons/cli/ApplicationTest.java\n+++ b/src/test/java/org/apache/commons/cli/ApplicationTest.java\n \n import static org.junit.Assert.assertEquals;\n import static org.junit.Assert.assertTrue;\n+\n+import java.io.PrintWriter;\n+import java.io.StringWriter;\n \n import org.junit.Test;\n \n                 addOption(\"h\", \"help\", false, \"show this usage message.\");\n \n         HelpFormatter hf = new HelpFormatter();\n-        //hf.printHelp(cmdLine, opts);\n-        hf.printHelp(60, cmdLine, null, options, null);\n+        final String EOL = System.getProperty(\"line.separator\");\n+        StringWriter out = new StringWriter();\n+        hf.printHelp(new PrintWriter(out), 60, cmdLine, null, options, HelpFormatter.DEFAULT_LEFT_PAD, HelpFormatter.DEFAULT_DESC_PAD, null, false);\n+        assertEquals(\"usage: man [-c|-f|-k|-w|-tZT device] [-adlhu7V] [-Mpath]\" + EOL +\n+                        \"           [-Ppager] [-Slist] [-msystem] [-pstring]\" + EOL +\n+                        \"           [-Llocale] [-eextension] [section] page ...\" + EOL +\n+                        \" -7,--ascii                display ASCII translation or\" + EOL +\n+                        \"                           certain latin1 chars.\" + EOL +\n+                        \" -a,--all                  find all matching manual pages.\" + EOL +\n+                        \" -c,--catman               used by catman to reformat out of\" + EOL +\n+                        \"                           date cat pages.\" + EOL +\n+                        \" -d,--debug                emit debugging messages.\" + EOL +\n+                        \" -D,--default              reset all options to their\" + EOL +\n+                        \"                           default values.\" + EOL +\n+                        \" -e,--extension            limit search to extension type\" + EOL +\n+                        \"                           'extension'.\" + EOL +\n+                        \" -f,--whatis               equivalent to whatis.\" + EOL +\n+                        \" -h,--help                 show this usage message.\" + EOL +\n+                        \" -k,--apropos              equivalent to apropos.\" + EOL +\n+                        \" -l,--local-file           interpret 'page' argument(s) as\" + EOL +\n+                        \"                           local filename(s)\" + EOL +\n+                        \" -L,--locale <arg>         define the locale for this\" + EOL +\n+                        \"                           particular man search.\" + EOL +\n+                        \" -M,--manpath <arg>        set search path for manual pages\" + EOL +\n+                        \"                           to 'path'.\" + EOL +\n+                        \" -m,--systems <arg>        search for man pages from other\" + EOL +\n+                        \"                           unix system(s).\" + EOL +\n+                        \" -P,--pager <arg>          use program 'pager' to display\" + EOL +\n+                        \"                           output.\" + EOL +\n+                        \" -p,--preprocessor <arg>   string indicates which\" + EOL +\n+                        \"                           preprocessor to run.\" + EOL +\n+                        \"                           e - [n]eqn  p - pic     t - tbl\" + EOL +\n+                        \"                           g - grap    r - refer   v -\" + EOL +\n+                        \"                           vgrind\" + EOL +\n+                        \" -r,--prompt <arg>         provide 'less' pager with prompt.\" + EOL +\n+                        \" -S,--sections <arg>       use colon separated section list.\" + EOL +\n+                        \" -t,--troff                use troff format pages.\" + EOL +\n+                        \" -T,--troff-device <arg>   use groff with selected device.\" + EOL +\n+                        \" -u,--update               force a cache consistency check.\" + EOL +\n+                        \" -V,--version              show version.\" + EOL +\n+                        \" -w,--location             print physical location of man\" + EOL +\n+                        \"                           page(s).\" + EOL +\n+                        \" -Z,--ditroff              use groff with selected device.\" + EOL,\n+                out.toString());\n     }\n \n ", "timestamp": 1430664495, "metainfo": ""}