{"sha": "3880640ee6268a2ecb2912e1ae896153dc2229e5", "log": "Applying the patches from Brian Egge in CLI-133  ", "commit": "\n--- a/src/java/org/apache/commons/cli/Util.java\n+++ b/src/java/org/apache/commons/cli/Util.java\n      */\n     static String stripLeadingHyphens(String str)\n     {\n+        if (str == null) {\n+            return null;\n+        }\n         if (str.startsWith(\"--\"))\n         {\n             return str.substring(2, str.length());\n--- /dev/null\n+++ b/src/test/org/apache/commons/cli/UtilTest.java\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.commons.cli;\n+\n+import junit.framework.TestCase;\n+\n+/**\n+ * @author brianegge\n+ */\n+public class UtilTest extends TestCase {\n+    public void testStripLeadingHyphens() {\n+        assertEquals(\"f\", Util.stripLeadingHyphens(\"-f\"));\n+        assertEquals(\"foo\", Util.stripLeadingHyphens(\"--foo\"));\n+        assertNull(Util.stripLeadingHyphens(null));\n+    }\n+}\n--- /dev/null\n+++ b/src/test/org/apache/commons/cli/bug/BugCLI133Test.java\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.commons.cli.bug;\n+\n+import junit.framework.TestCase;\n+import org.apache.commons.cli.*;\n+\n+/**\n+ * @author brianegge\n+ */\n+public class BugCLI133Test extends TestCase {\n+    public void testOrder() throws ParseException {\n+        Option optionA = new Option(\"a\", \"first\");\n+        Options opts = new Options();\n+        opts.addOption(optionA);\n+        PosixParser posixParser = new PosixParser();\n+        CommandLine line = posixParser.parse(opts, null);\n+        assertFalse(line.hasOption(null));\n+    }\n+}", "timestamp": 1181113830, "metainfo": ""}