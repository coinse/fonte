{"sha": "fa87a8fe2838e80ae0eeba6e2978815ef5533e91", "log": "Added Node.childNodesCopy()", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Node.java\n+++ b/src/main/java/org/jsoup/nodes/Node.java\n     }\n \n     /**\n+     * Returns a deep copy of this node's children. Changes made to these nodes will not be reflected in the original\n+     * nodes\n+     * @return a deep copy of this node's children\n+     */\n+    public List<Node> childNodesCopy() {\n+        List<Node> children = new ArrayList<Node>(childNodes.size());\n+        for (Node node : childNodes) {\n+            children.add(node.clone());\n+        }\n+        return children;\n+    }\n+\n+    /**\n      * Get the number of child nodes that this node holds.\n      * @return the number of child nodes that this node holds.\n      */\n--- a/src/test/java/org/jsoup/nodes/NodeTest.java\n+++ b/src/test/java/org/jsoup/nodes/NodeTest.java\n         assertEquals(\"<p>One</p>\", nodes.get(0).outerHtml());\n         assertEquals(\"<p>Three</p>\", nodes.get(1).outerHtml());\n     }\n+\n+    @Test public void childNodesCopy() {\n+        Document doc = Jsoup.parse(\"<div id=1>Text 1 <p>One</p> Text 2 <p>Two<p>Three</div><div id=2>\");\n+        Element div1 = doc.select(\"#1\").first();\n+        Element div2 = doc.select(\"#2\").first();\n+        List<Node> divChildren = div1.childNodesCopy();\n+        assertEquals(5, divChildren.size());\n+        TextNode tn1 = (TextNode) div1.childNode(0);\n+        TextNode tn2 = (TextNode) divChildren.get(0);\n+        tn2.text(\"Text 1 updated\");\n+        assertEquals(\"Text 1 \", tn1.text());\n+        div2.insertChildren(-1, divChildren);\n+        assertEquals(\"<div id=\\\"1\\\">Text 1 <p>One</p> Text 2 <p>Two</p><p>Three</p></div><div id=\\\"2\\\">Text 1 updated\"\n+            +\"<p>One</p> Text 2 <p>Two</p><p>Three</p></div>\", TextUtil.stripNewlines(doc.body().html()));\n+    }\n }", "timestamp": 1356300141, "metainfo": ""}