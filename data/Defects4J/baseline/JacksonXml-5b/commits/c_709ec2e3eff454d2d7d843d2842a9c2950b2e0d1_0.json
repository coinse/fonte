{"sha": "709ec2e3eff454d2d7d843d2842a9c2950b2e0d1", "log": "trying to solve the wrapping dilemma...", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/ElementWrapper.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/ElementWrapper.java\n         }\n         return _wrapperName.equals(localName) && _wrapperNamespace.equals(ns);\n     }\n+\n+    /*\n+    /**********************************************************\n+    /* Overrides\n+    /**********************************************************\n+     */\n+\n+    @Override\n+    public String toString()\n+    {\n+        if (_parent == null) {\n+            return \"Wrapper: ROOT, matching: \"+_wrapperName;\n+        }\n+        if (_wrapperName == null) {\n+            return \"Wrapper: empty\";\n+        }\n+        return \"Wrapper: branch, matching: \"+_wrapperName;\n+    }\n }\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/FromXmlParser.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/FromXmlParser.java\n         if (t == JsonToken.START_OBJECT) {        \t\n             _currToken = JsonToken.START_ARRAY;\n             // Ok: must replace current context with array as well\n-            _parsingContext = _parsingContext.getParent();\n-            _parsingContext = _parsingContext.createChildArrayContext(-1, -1);\n+            _parsingContext.convertToArray();\n             // And just in case a field name was to be returned, wipe it\n             _nextToken = null;\n             // and last thing, [Issue#33], better ignore attributes\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/XmlReadContext.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/deser/XmlReadContext.java\n     protected String _currentName;\n \n     protected Set<String> _namesToWrap;\n+\n+    /**\n+     * Name of property that requires wrapping\n+     */\n+    protected String _wrappedName;\n     \n     /*\n     /**********************************************************\n         _currentName = null;\n         _namesToWrap = null;\n     }\n-\n+    \n     // // // Factory methods\n \n     public static XmlReadContext createRootContext(int lineNr, int colNr)\n \n     /*\n     /**********************************************************\n+    /* State changes\n+    /**********************************************************\n+     */\n+\n+    public final boolean expectComma() {\n+        throw new UnsupportedOperationException();\n+    }\n+\n+    public void setCurrentName(String name)\n+    {\n+        _currentName = name;\n+    }\n+\n+    /*\n+    /**********************************************************\n     /* Extended API\n     /**********************************************************\n      */\n     public Set<String> getNamesToWrap() { \n         return _namesToWrap;\n     }\n-    \n-    /*\n-    /**********************************************************\n-    /* State changes\n-    /**********************************************************\n-     */\n-\n-    public final boolean expectComma() {\n-        throw new UnsupportedOperationException();\n-    }\n-\n-    public void setCurrentName(String name)\n-    {\n-        _currentName = name;\n-    }\n-\n+\n+    protected void convertToArray()\n+    {\n+        _type = TYPE_ARRAY;\n+    }\n+    \n     /*\n     /**********************************************************\n     /* Overridden standard methods", "timestamp": 1347765343, "metainfo": ""}