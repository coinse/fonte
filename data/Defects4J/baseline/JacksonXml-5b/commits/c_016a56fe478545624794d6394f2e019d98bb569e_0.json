{"sha": "016a56fe478545624794d6394f2e019d98bb569e", "log": "minor tweaks to JDK serializability", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/util/XmlRootNameLookup.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/util/XmlRootNameLookup.java\n     /**\n      * For efficient operation, let's try to minimize number of times we\n      * need to introspect root element name to use.\n+     *<p>\n+     * Note: changed to <code>transient</code> for 2.3; no point in serializing such\n+     * state\n      */\n-    protected final LRUMap<ClassKey,QName> _rootNames = new LRUMap<ClassKey,QName>(40, 200);\n+    protected final transient LRUMap<ClassKey,QName> _rootNames = new LRUMap<ClassKey,QName>(40, 200);\n \n     public XmlRootNameLookup() { }\n+    \n+    protected Object readResolve() {\n+        // just need to make 100% sure it gets set to non-null, that's all\n+        if (_rootNames == null) {\n+            return new XmlRootNameLookup();\n+        }\n+        return this;\n+    }\n \n     public QName findRootName(JavaType rootType, MapperConfig<?> config)\n     {\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/TestJDKSerializability.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/TestJDKSerializability.java\n import javax.xml.namespace.QName;\n \n import com.fasterxml.jackson.core.*;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\n \n /**\n  */\n public class TestJDKSerializability extends XmlTestBase\n {\n+    @JacksonXmlRootElement(localName=\"MyPojo\")\n     static class MyPojo {\n         public int x;\n         private int y;", "timestamp": 1376539288, "metainfo": ""}