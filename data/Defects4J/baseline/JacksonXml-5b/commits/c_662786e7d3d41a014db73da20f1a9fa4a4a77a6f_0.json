{"sha": "662786e7d3d41a014db73da20f1a9fa4a4a77a6f", "log": "Adding more unit tests, can not reproduce issue #43", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/TestSerializationManual.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/TestSerializationManual.java\n \n         public Value(int n) { num = n; }\n     }\n-    \n+\n     /*\n     /**********************************************************\n     /* Unit tests\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/unwrapped/TestIssue43.java\n+package com.fasterxml.jackson.dataformat.xml.unwrapped;\n+\n+import java.util.List;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n+import com.fasterxml.jackson.dataformat.xml.XmlTestBase;\n+import com.fasterxml.jackson.dataformat.xml.annotation.*;\n+\n+public class TestIssue43 extends XmlTestBase\n+{\n+    static class Name {\n+        @JacksonXmlProperty(isAttribute=true)\n+        public String language;\n+\n+        @JacksonXmlText\n+        public String text;\n+\n+//        public String data;\n+\n+        public Name() { }\n+    }\n+\n+    static class RoomName {\n+        @JacksonXmlElementWrapper(localName = \"names\", useWrapping=true)\n+        @JsonProperty(\"name\")\n+        public List<Name> names;\n+    }\n+\n+    /*\n+    /**********************************************************\n+    /* Unit tests\n+    /**********************************************************\n+     */\n+    \n+    public void testIssue43() throws Exception\n+    {\n+        String xmlData = \"<roomName><names>\"\n+                +\"<name language=\\\"en\\\">SPECIAL</name>\"\n+                +\"</names></roomName>\";\n+\n+        XmlMapper xmlMapper = new XmlMapper();\n+        RoomName roomName = xmlMapper.readValue(xmlData, RoomName.class);\n+        assertEquals(1, roomName.names.size());\n+        assertEquals(\"SPECIAL\", roomName.names.get(0).text);\n+    }\n+}\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/unwrapped/TestListRoundtrip.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/unwrapped/TestListRoundtrip.java\n \n import com.fasterxml.jackson.annotation.JsonPropertyOrder;\n \n-import com.fasterxml.jackson.databind.SerializationFeature;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n import com.fasterxml.jackson.dataformat.xml.XmlTestBase;\n import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n      */\n \n     private final XmlMapper MAPPER = new XmlMapper();\n-    { // easier for eye:\n-        MAPPER.enable(SerializationFeature.INDENT_OUTPUT);\n+    { // easier for eye, uncomment for testing\n+//        MAPPER.enable(SerializationFeature.INDENT_OUTPUT);\n     }\n     \n     public void testParentListRoundtrip() throws Exception", "timestamp": 1363131882, "metainfo": ""}