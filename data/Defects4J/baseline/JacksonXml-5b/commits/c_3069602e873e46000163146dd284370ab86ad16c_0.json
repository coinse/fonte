{"sha": "3069602e873e46000163146dd284370ab86ad16c", "log": "Add a unit test for #101", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/lists/TestUnwrappedLists.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/lists/TestUnwrappedLists.java\n \n import java.util.*;\n \n+import com.fasterxml.jackson.annotation.JsonPropertyOrder;\n import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n import com.fasterxml.jackson.dataformat.xml.XmlTestBase;\n import com.fasterxml.jackson.dataformat.xml.annotation.*;\n         public List<Optional> optional;\n     } \n \n+    // For [Issue#101]\n+    @JacksonXmlRootElement(localName = \"root\")    \n+    @JsonPropertyOrder({ \"unwrapped\", \"name\" })\n+    static class Root {\n+        @JacksonXmlProperty(localName = \"unwrapped\")\n+        @JacksonXmlElementWrapper(useWrapping = false)\n+        public List<UnwrappedElement> unwrapped;\n+\n+        public String name;\n+    }\n+\n+     static class UnwrappedElement {\n+        public UnwrappedElement () {}\n+\n+        public UnwrappedElement (String id, String type) {\n+            this.id = id;\n+            this.type = type;\n+        }\n+\n+        @JacksonXmlProperty(isAttribute = true)\n+        public String id;\n+\n+        @JacksonXmlProperty(isAttribute = true)\n+        public String type;\n+    }\n+\n     /*\n     /**********************************************************\n     /* Unit tests\n         assertEquals(\"123-456-7890\", opt.number);\n         assertEquals(\"NOT SET\", opt.type);\n     }\n-}\n+\n+    // [Issue#101]\n+    public void testWithTwoAttributes() throws Exception\n+    {\n+        final String EXP = \"<root>\"\n+                +\"<unwrapped id=\\\"1\\\" type=\\\"string\\\"/>\"\n+                +\"<unwrapped id=\\\"2\\\" type=\\\"string\\\"/>\"\n+                +\"<name>test</name>\"\n+                +\"</root>\";\n+        Root rootOb = new Root();\n+        rootOb.unwrapped = Arrays.asList(\n+                new UnwrappedElement(\"1\", \"string\"),\n+                new UnwrappedElement(\"2\", \"string\")\n+        );\n+        rootOb.name = \"test\";\n+\n+        // First, serialize, which works\n+        String xml = MAPPER.writeValueAsString(rootOb);\n+        assertEquals(EXP, xml);\n+\n+        // then try deserialize\n+        Root result = MAPPER.readValue(xml, Root.class);\n+        assertNotNull(result);\n+        assertEquals(rootOb.name, result.name);\n+    }\n+}", "timestamp": 1392356131, "metainfo": ""}