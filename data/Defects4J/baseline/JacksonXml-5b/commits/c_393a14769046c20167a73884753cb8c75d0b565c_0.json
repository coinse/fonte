{"sha": "393a14769046c20167a73884753cb8c75d0b565c", "log": "...", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/failing/TestEnums.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/failing/TestEnums.java\n \n public class TestEnums extends XmlTestBase\n {\n-    /*\n-    /**********************************************************\n-    /* Helper types\n-    /**********************************************************\n-     */\n-\n     static enum TestEnum { A, B, C; }\n     \n     static class UntypedEnumBean\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/lists/ListWithAttributes.java\n+package com.fasterxml.jackson.dataformat.xml.lists;\n+\n+import java.util.*;\n+\n+import com.fasterxml.jackson.databind.*;\n+import com.fasterxml.jackson.dataformat.xml.*;\n+import com.fasterxml.jackson.dataformat.xml.annotation.*;\n+\n+public class ListWithAttributes extends XmlTestBase\n+{\n+    // [Issue#99]: allow skipping unknown properties\n+    static class Root {\n+        @JacksonXmlElementWrapper(useWrapping = false)\n+        @JacksonXmlProperty(localName = \"value\")\n+        public List<Value> values;\n+    }\n+\n+    public static class Value {\n+        @JacksonXmlProperty(isAttribute = true)\n+        public int id;\n+    }\n+\n+    // [Issue#108]: unwrapped lists, more than one entry, id attributes\n+    \n+    static class Foo {\n+        @JacksonXmlElementWrapper(useWrapping = false)\n+        public List<Bar> firstBar = new ArrayList<Bar>();\n+        @JacksonXmlElementWrapper(useWrapping = false)\n+        public List<Bar> secondBar = new ArrayList<Bar>();\n+    }\n+\n+    static class Bar {\n+        public String value;\n+\n+        @JacksonXmlProperty(isAttribute = true)\n+        public int id;\n+    }\n+\n+    /*\n+    /**********************************************************\n+    /* Test methods\n+    /**********************************************************\n+     */\n+\n+    // [Issue#99]: allow skipping unknown properties\n+    public void testListWithAttributes() throws Exception\n+    {\n+        String source = \"<Root>\"\n+                + \"     <value id=\\\"1\\\"/>\"\n+                + \"     <fail/>\"\n+                + \"</Root>\";\n+        ObjectMapper mapper = new XmlMapper()\n+                .disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n+        Root root = mapper.readValue(source, Root.class);\n+        mapper.writeValue(System.out, root);\n+        assertNotNull(root.values);\n+        assertEquals(1, root.values.size());\n+    }\n+    \n+    // [Issue#108]: unwrapped lists, more than one entry, id attributes\n+    public void testIdsFromAttributes() throws Exception {\n+        XmlMapper xmlMapper = new XmlMapper();\n+        Foo foo = new Foo();\n+        Bar bar1 = new Bar();\n+        bar1.id = 1;\n+        bar1.value = \"FIRST\";\n+        foo.firstBar.add(bar1);\n+        Bar bar2 = new Bar();\n+        bar2.value = \"SECOND\";\n+        bar2.id = 2;\n+        foo.secondBar.add(bar2);\n+        String string = xmlMapper.writeValueAsString(foo);\n+        Foo fooRead = xmlMapper.readValue(string, Foo.class);\n+        assertEquals(foo.secondBar.get(0).id, fooRead.secondBar.get(0).id);\n+    }\n+}", "timestamp": 1396672604, "metainfo": ""}