{"sha": "3cc587d2743109dc8268bebaa3a1da2d73b2397f", "log": "Making suggested changes", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/XmlMapper.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/XmlMapper.java\n package com.fasterxml.jackson.dataformat.xml;\n \n-import com.fasterxml.jackson.core.PrettyPrinter;\n-import com.fasterxml.jackson.core.Version;\n+import java.io.IOException;\n+\n+import javax.xml.stream.XMLInputFactory;\n+import javax.xml.stream.XMLOutputFactory;\n+import javax.xml.stream.XMLStreamReader;\n+import javax.xml.stream.XMLStreamWriter;\n+\n+import com.fasterxml.jackson.core.*;\n import com.fasterxml.jackson.core.type.TypeReference;\n-import com.fasterxml.jackson.databind.AnnotationIntrospector;\n-import com.fasterxml.jackson.databind.JavaType;\n-import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.databind.*;\n import com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser;\n import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\n import com.fasterxml.jackson.dataformat.xml.ser.XmlSerializerProvider;\n import com.fasterxml.jackson.dataformat.xml.util.DefaultXmlPrettyPrinter;\n import com.fasterxml.jackson.dataformat.xml.util.XmlRootNameLookup;\n-\n-import javax.xml.stream.XMLInputFactory;\n-import javax.xml.stream.XMLOutputFactory;\n-import javax.xml.stream.XMLStreamReader;\n-import javax.xml.stream.XMLStreamWriter;\n-import java.io.IOException;\n \n /**\n  * Customized {@link ObjectMapper} that will read and write XML instead of JSON,\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlSerializerProvider.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlSerializerProvider.java\n package com.fasterxml.jackson.dataformat.xml.ser;\n \n-import com.fasterxml.jackson.core.JsonGenerator;\n+import java.io.IOException;\n+\n+import javax.xml.namespace.QName;\n+import javax.xml.stream.XMLStreamException;\n+\n+import com.fasterxml.jackson.core.*;\n import com.fasterxml.jackson.databind.JavaType;\n import com.fasterxml.jackson.databind.JsonMappingException;\n import com.fasterxml.jackson.databind.JsonSerializer;\n import com.fasterxml.jackson.databind.PropertyName;\n import com.fasterxml.jackson.databind.SerializationConfig;\n+import com.fasterxml.jackson.databind.ser.SerializerFactory;\n import com.fasterxml.jackson.databind.ser.DefaultSerializerProvider;\n-import com.fasterxml.jackson.databind.ser.SerializerFactory;\n import com.fasterxml.jackson.databind.util.TokenBuffer;\n import com.fasterxml.jackson.dataformat.xml.util.StaxUtil;\n import com.fasterxml.jackson.dataformat.xml.util.TypeUtil;\n import com.fasterxml.jackson.dataformat.xml.util.XmlRootNameLookup;\n-\n-import javax.xml.namespace.QName;\n-import javax.xml.stream.XMLStreamException;\n-import java.io.IOException;\n \n /**\n  * We need to override some parts of\n         _rootNameLookup  = src._rootNameLookup;\n     }\n \n+    protected XmlSerializerProvider(XmlSerializerProvider toCopy) {\n+        super(toCopy);\n+        this._rootNameLookup = toCopy._rootNameLookup;\n+    }\n+\n     /*\n     /**********************************************************************\n     /* Overridden methods\n \n     @Override\n     public DefaultSerializerProvider copy() {\n-        return this;\n+        return new XmlSerializerProvider(this);\n     }\n \n     @Override\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/VersionInfoTest.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/VersionInfoTest.java\n package com.fasterxml.jackson.dataformat.xml;\n+\n+import java.io.*;\n \n import com.fasterxml.jackson.core.Version;\n import com.fasterxml.jackson.core.Versioned;\n import com.fasterxml.jackson.databind.SerializationConfig;\n import com.fasterxml.jackson.databind.SerializationFeature;\n+import com.fasterxml.jackson.databind.ser.DefaultSerializerProvider;\n import com.fasterxml.jackson.dataformat.xml.ser.ToXmlGenerator;\n-\n-import java.io.ByteArrayInputStream;\n-import java.io.ByteArrayOutputStream;\n-import java.io.ObjectInputStream;\n-import java.io.ObjectOutputStream;\n+import com.fasterxml.jackson.dataformat.xml.ser.XmlSerializerProvider;\n+import com.fasterxml.jackson.dataformat.xml.util.XmlRootNameLookup;\n \n public class VersionInfoTest extends XmlTestBase\n {\n         );\n     }\n \n+    public void testSerializerProviderCopy() {\n+        DefaultSerializerProvider provider = new XmlSerializerProvider(new XmlRootNameLookup());\n+        DefaultSerializerProvider copy = provider.copy();\n+        assertNotSame(provider, copy);\n+    }\n+\n     // Another test for [Issue#48]\n     public void testMapperSerialization() throws Exception\n     {", "timestamp": 1495028538, "metainfo": ""}