{"sha": "7ac573b077529036c7d396ff776a571f3ed1a2a3", "log": "Add failing test for #273", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/dataformat/xml/deser/CaseInsensitiveDeserTest.java\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/deser/CaseInsensitiveDeserTest.java\n \n import com.fasterxml.jackson.databind.*;\n import com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException;\n-import com.fasterxml.jackson.dataformat.xml.XmlMapper;\n import com.fasterxml.jackson.dataformat.xml.XmlTestBase;\n \n public class CaseInsensitiveDeserTest extends XmlTestBase\n {\n-    // [databind#1036]\n     static class BaseResponse {\n         public int errorCode;\n         public String debugMessage;\n     }\n \n-    // [databind#1438]\n     static class InsensitiveCreator\n     {\n         int v;\n \n     private final ObjectMapper MAPPER = newObjectMapper();\n \n-    private final ObjectMapper INSENSITIVE_MAPPER = newObjectMapper();\n-    {\n-        INSENSITIVE_MAPPER.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES);\n-        \n-    }\n+    private final ObjectMapper INSENSITIVE_MAPPER = newObjectMapper()\n+            .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES);\n \n-    // [databind#1036]\n     public void testCaseInsensitive1036() throws Exception\n     {\n         final String DOC =\n             verifyException(e, \"ErrorCode\");\n         }\n     }\n-\n-    // [databind#1438]\n-    public void testCreatorWithInsensitive() throws Exception\n-    {\n-        final String DOC = aposToQuotes(\"<root><VALUE>3</VALUE></root>\");\n-        InsensitiveCreator bean = INSENSITIVE_MAPPER.readValue(DOC, InsensitiveCreator.class);\n-        assertEquals(3, bean.v);\n-    }\n }\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/dataformat/xml/failing/CaseInsensitiveDeser273Test.java\n+package com.fasterxml.jackson.dataformat.xml.failing;\n+\n+import java.util.ArrayList;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+\n+import com.fasterxml.jackson.databind.*;\n+import com.fasterxml.jackson.dataformat.xml.XmlTestBase;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\n+import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n+\n+public class CaseInsensitiveDeser273Test extends XmlTestBase\n+{\n+    // [dataformat-xml#273]\n+    static class Depots273\n+    {\n+        public String command;\n+        public String taskId;\n+\n+        @JacksonXmlElementWrapper(useWrapping = false)\n+        public ArrayList<Depot273> element;\n+    }\n+\n+    @JsonIgnoreProperties(ignoreUnknown = true)\n+    static class Depot273\n+    {\n+        @JacksonXmlProperty(isAttribute = true)\n+        public String number;\n+        @JacksonXmlProperty(isAttribute = true)\n+        public String name;\n+    }\n+\n+    /*\n+    /********************************************************\n+    /* Test methods\n+    /********************************************************\n+     */\n+\n+    private final ObjectMapper INSENSITIVE_MAPPER = newObjectMapper()\n+            .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES);\n+\n+    // [dataformat-xml#273]\n+    public void testCaseInsensitiveComplex() throws Exception\n+    {\n+        final String DOC =\n+\"<AcResponse Command='show depots' TaskId='1260'>\\n\"+\n+\"  <Element Number='1' Name='accurev' Slice='1'\\n\"+\n+\"exclusiveLocking='false' case='insensitive' locWidth='128'\"+\n+\"></Element>\\n\"+\n+\"  <Element Number='2' Name='second accurev' Slice='2'\\n\"+\n+\"exclusiveLocking='false' case='insensitive' locWidth='128'\\n\"+\n+\"></Element>\\n\"+\n+\"</AcResponse>\"\n+        ;\n+\n+        Depots273 result = INSENSITIVE_MAPPER.readValue(DOC, Depots273.class);\n+        assertNotNull(result);\n+    }\n+}", "timestamp": 1515709959, "metainfo": ""}