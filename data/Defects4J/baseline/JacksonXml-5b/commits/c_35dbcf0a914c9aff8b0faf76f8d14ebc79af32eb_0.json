{"sha": "35dbcf0a914c9aff8b0faf76f8d14ebc79af32eb", "log": "Fixed #91", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlBeanSerializer.java\n+++ b/src/main/java/com/fasterxml/jackson/dataformat/xml/ser/XmlBeanSerializer.java\n         \n         final ToXmlGenerator xgen = (ToXmlGenerator) jgen0;\n         final BeanPropertyWriter[] props;\n-        // !!! TODO: change to use non-deprecated version in 2.3\n         if (_filteredProps != null && provider.getActiveView() != null) {\n             props = _filteredProps;\n         } else {\n         final ToXmlGenerator xgen = (ToXmlGenerator) jgen0;\n         \n         final BeanPropertyWriter[] props;\n-        // !!! TODO: change to use non-deprecated version in 2.3\n         if (_filteredProps != null && provider.getActiveView() != null) {\n             props = _filteredProps;\n         } else {\n \n         for (int i = 0, len = properties.length; i < len; ++i) {\n             BeanPropertyWriter bpw = properties[i];\n-            \n+\n             if (!_isAttribute(bpw)) {\n                 continue;\n             }\n-            // Swap if attribute and there are preceding elements:\n-            if (attrCount < i) {\n-                properties[i] = properties[attrCount];\n+\n+            // Move attribute a few places done as necessary\n+            int moveBy = i-attrCount;\n+            if (moveBy > 0) {\n+                System.arraycopy(properties, attrCount, properties, attrCount+1, moveBy);\n                 properties[attrCount] = bpw;\n                 if (filteredProperties != null) {\n                     BeanPropertyWriter fbpw = filteredProperties[i];\n-                    filteredProperties[i] = filteredProperties[attrCount];\n+                    System.arraycopy(filteredProperties, attrCount, filteredProperties, attrCount+1, moveBy);\n                     filteredProperties[attrCount] = fbpw;\n                 }\n             }", "timestamp": 1390951786, "metainfo": ""}