{"sha": "b1331806960001da95424315b6103d755107b519", "log": "Fixed the handling of unrecognized options starting with '-' by PosixParser (CLI-164) (stopAtNonOption=false case)  ", "commit": "\n--- a/src/java/org/apache/commons/cli/PosixParser.java\n+++ b/src/java/org/apache/commons/cli/PosixParser.java\n         if (options.hasOption(token))\n         {\n             currentOption = options.getOption(token);\n-            tokens.add(token);\n         }\n         else if (stopAtNonOption)\n         {\n             eatTheRest = true;\n-            tokens.add(token);\n-        }\n+        }\n+\n+        tokens.add(token);\n     }\n \n     /**\n--- a/src/test/org/apache/commons/cli/PosixParserTest.java\n+++ b/src/test/org/apache/commons/cli/PosixParserTest.java\n         }\n     }\n \n+    public void testUnrecognizedOption2() throws Exception\n+    {\n+        String[] args = new String[] { \"-z\", \"-abtoast\", \"foo\", \"bar\" };\n+\n+        try\n+        {\n+            parser.parse(options, args);\n+            fail(\"UnrecognizedOptionException wasn't thrown\");\n+        }\n+        catch (UnrecognizedOptionException e)\n+        {\n+            assertEquals(\"-z\", e.getOption());\n+        }\n+    }\n+\n     public void testMissingArg() throws Exception\n     {\n         String[] args = new String[] { \"-acb\" };", "timestamp": 1217234608, "metainfo": ""}