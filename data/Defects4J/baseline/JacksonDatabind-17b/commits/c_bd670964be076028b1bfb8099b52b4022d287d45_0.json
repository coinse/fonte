{"sha": "bd670964be076028b1bfb8099b52b4022d287d45", "log": "Fix a minor issue with handling of `DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)`; was not dynamically changeable", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/std/StdValueInstantiator.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/std/StdValueInstantiator.java\n      */\n     protected final String _valueTypeDesc;\n \n-    /**\n-     * Are we allowed to convert empty Strings to null objects?\n-     */\n-    protected final boolean _cfgEmptyStringsAsObjects;\n-    \n     // // // Default (no-args) construction\n \n     /**\n     /**********************************************************\n      */\n \n-    public StdValueInstantiator(DeserializationConfig config, Class<?> valueType)\n-    {\n-        _cfgEmptyStringsAsObjects = (config == null) ? false\n-                : config.isEnabled(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n+    public StdValueInstantiator(DeserializationConfig config, Class<?> valueType) {\n         _valueTypeDesc = (valueType == null) ? \"UNKNOWN TYPE\" : valueType.getName();\n     }\n-    \n-    public StdValueInstantiator(DeserializationConfig config, JavaType valueType)\n-    {\n-        _cfgEmptyStringsAsObjects = (config == null) ? false\n-                : config.isEnabled(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n+\n+    public StdValueInstantiator(DeserializationConfig config, JavaType valueType) {\n         _valueTypeDesc = (valueType == null) ? \"UNKNOWN TYPE\" : valueType.toString();\n     }\n \n      */\n     protected StdValueInstantiator(StdValueInstantiator src)\n     {\n-        _cfgEmptyStringsAsObjects = src._cfgEmptyStringsAsObjects;\n         _valueTypeDesc = src._valueTypeDesc;\n \n         _defaultCreator = src._defaultCreator;\n         }\n         \n         // and finally, empty Strings might be accepted as null Object...\n-        if (_cfgEmptyStringsAsObjects && value.length() == 0) {\n-            return null;\n+        if (value.length() == 0) {\n+            if (ctxt.isEnabled(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)) {\n+                return null;\n+            }\n         }\n         throw new JsonMappingException(\"Can not instantiate value of type \"+getValueTypeDesc()\n                 +\" from String value ('\"+value+\"'); no single-String constructor/factory method\");", "timestamp": 1399258071, "metainfo": ""}