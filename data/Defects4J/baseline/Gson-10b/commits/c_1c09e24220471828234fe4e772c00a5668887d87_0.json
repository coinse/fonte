{"sha": "1c09e24220471828234fe4e772c00a5668887d87", "log": "inlined typeAdapter and typeHierarchyAdapter methods. Added some documentation for registerTypeHierarchyAdapterFactory.", "commit": "\n--- a/gson/src/main/java/com/google/gson/GsonBuilder.java\n+++ b/gson/src/main/java/com/google/gson/GsonBuilder.java\n  *\n  * @author Inderjeet Singh\n  * @author Joel Leitch\n+ * @author Jesse Wilson\n  */\n public final class GsonBuilder {\n   private Excluder excluder = Excluder.DEFAULT;\n   public GsonBuilder() {\n   }\n \n-  // TODO: nice documentation\n-  public GsonBuilder registerTypeAdapterFactory(TypeAdapter.Factory factory) {\n-    factories.add(factory);\n-    return this;\n-  }\n-\n   /**\n    * Configures Gson to enable versioning support.\n    *\n       factories.add(TreeTypeAdapter.newFactory(typeToken, typeAdapter));\n     }\n     if (typeAdapter instanceof TypeAdapter<?>) {\n-      typeAdapter(TypeToken.get(type), (TypeAdapter)typeAdapter);\n-    }\n-    return this;\n-  }\n-\n-  // TODO: inline this method?\n-  private <T> GsonBuilder typeAdapter(TypeToken<T> type, TypeAdapter<T> typeAdapter) {\n-    factories.add(TypeAdapters.newFactory(type, typeAdapter));\n+      factories.add(TypeAdapters.newFactory(TypeToken.get(type), (TypeAdapter)typeAdapter));\n+    }\n+    return this;\n+  }\n+\n+  /**\n+   * Register a factory for type adapters. Registering a factory is useful when the type\n+   * adapter needs to be configured based on the type of the field being processed. Gson\n+   * is designed to handle a large number of factories, so you should consider registering\n+   * them to be at par with registering an individual type adapter.\n+   */\n+  public GsonBuilder registerTypeAdapterFactory(TypeAdapter.Factory factory) {\n+    factories.add(factory);\n     return this;\n   }\n \n           TreeTypeAdapter.newTypeHierarchyFactory(baseType, typeAdapter));\n     }\n     if (typeAdapter instanceof TypeAdapter<?>) {\n-      typeHierarchyAdapter(baseType, (TypeAdapter)typeAdapter);\n-    }\n-    return this;\n-  }\n-\n-  // TODO: inline this method?\n-  private <T> GsonBuilder typeHierarchyAdapter(Class<T> type, TypeAdapter<T> typeAdapter) {\n-    factories.add(TypeAdapters.newTypeHierarchyFactory(type, typeAdapter));\n+      factories.add(TypeAdapters.newTypeHierarchyFactory(baseType, (TypeAdapter)typeAdapter));\n+    }\n     return this;\n   }\n ", "timestamp": 1322040404, "metainfo": ""}