{"sha": "ea79cd6812bc2a81fdbbf9143d7aa0beec65ffd9", "log": "Allow booleans and number to be deserialized into a \"String\" field/object.", "commit": "\n--- a/gson/src/main/java/com/google/gson/JsonPrimitive.java\n+++ b/gson/src/main/java/com/google/gson/JsonPrimitive.java\n    */\n   @Override\n   public String getAsString() {\n-    return (String) value;\n+    if (isNumber()) {\n+      return getAsNumber().toString();\n+    } else if (isBoolean()) {\n+      return getAsBooleanWrapper().toString();\n+    } else {\n+      return (String) value;\n+    }\n   }\n \n   /**\n--- a/gson/src/test/java/com/google/gson/functional/ObjectTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/ObjectTest.java\n     assertTrue(bag.booleanValue);\n     assertEquals(\"bar\", bag.stringValue);\n   }\n+  \n+  public void testStringFieldWithNumberValueDeserialization() {\n+    String json = \"{\\\"stringValue\\\":1}\";\n+    BagOfPrimitives bag = gson.fromJson(json, BagOfPrimitives.class);\n+    assertEquals(\"1\", bag.stringValue);\n+    \n+    json = \"{\\\"stringValue\\\":true}\";\n+    bag = gson.fromJson(json, BagOfPrimitives.class);\n+    assertEquals(\"true\", bag.stringValue);\n+  }\n }", "timestamp": 1229229736, "metainfo": ""}