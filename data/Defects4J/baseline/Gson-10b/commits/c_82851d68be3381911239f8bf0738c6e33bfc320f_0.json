{"sha": "82851d68be3381911239f8bf0738c6e33bfc320f", "log": "Moved the setDoInput() on HttpURLConnection before sending any data on the connection. disabled configuration settings on install in pom.xml that were interfering with the normal behavior of install.", "commit": "\n--- a/wsf/src/main/java/com/google/gson/wsf/client/RequestSender.java\n+++ b/wsf/src/main/java/com/google/gson/wsf/client/RequestSender.java\n     try {\n       conn.setRequestMethod(request.getHttpMethod().toString());\n       conn.setRequestProperty(\"Content-Type\", request.getContentType());\n+      \n+      // Assume conservatively that the response will need to be read.\n+      // This is done here instead of in the response receiver because this property must be set\n+      // before sending any data on the connection.\n+      conn.setDoInput(true);\n+      \n       addRequestParams(conn, request.getHeaders());\n       RequestBody requestBody = request.getBody();\n       if (requestBody.getSpec().size() > 0) {\n         conn.setDoOutput(true);    \n         addRequestBody(conn, requestBody);\n-      }\n+      }      \n+      \n+      // Initiate the sending of the request.\n+      conn.connect();\n     } catch (IOException e) {\n       throw new RuntimeException(e);\n     }\n--- a/wsf/src/main/java/com/google/gson/wsf/client/ResponseReceiver.java\n+++ b/wsf/src/main/java/com/google/gson/wsf/client/ResponseReceiver.java\n     try {\n       HeaderMapSpec paramSpec = spec.getHeadersSpec();\n       ResponseBodySpec bodySpec = spec.getBodySpec();\n-      if (bodySpec.size() > 0) {\n-        conn.setDoInput(true);\n-      }\n       // read response\n       HeaderMap responseParams = readResponseHeaders(conn, paramSpec);\n       ResponseBody responseBody = readResponseBody(conn, bodySpec);", "timestamp": 1221498026, "metainfo": ""}