{"sha": "457541611c0f95979ab6b9227fc688730439f2d6", "log": "Replace localhost lookup with static IP to fix test.  Calling InetAddress.getLocalHost() will cause a lookup to occur that may fail with a java.net.UnknownHostException if the system the test is running on is not configured correctly.  This is often fixed by echoing \"127.0.0.1 $HOSTNAME\" to /etc/hosts, but in this case it seems easier to pick a static IP string to avoid the lookup entirely and prevent false negatives in the test.", "commit": "\n--- a/gson/src/test/java/com/google/gson/DefaultInetAddressTypeAdapterTest.java\n+++ b/gson/src/test/java/com/google/gson/DefaultInetAddressTypeAdapterTest.java\n   }\n   \n   public void testInetAddressSerializationAndDeserialization() throws Exception {\n-    InetAddress localhost = InetAddress.getLocalHost();\n-    String localInetAddress = gson.toJson(localhost);\n-    assertEquals(\"\\\"\" + localhost.getHostAddress() + \"\\\"\", localInetAddress);\n+    InetAddress address = InetAddress.getByName(\"8.8.8.8\");\n+    String jsonAddress = gson.toJson(address);\n+    assertEquals(\"\\\"8.8.8.8\\\"\", jsonAddress);\n     \n-    InetAddress value = gson.fromJson(localInetAddress, InetAddress.class);\n-    assertEquals(localhost, value);\n+    InetAddress value = gson.fromJson(jsonAddress, InetAddress.class);\n+    assertEquals(value, address);\n   } \n }", "timestamp": 1437426232, "metainfo": ""}