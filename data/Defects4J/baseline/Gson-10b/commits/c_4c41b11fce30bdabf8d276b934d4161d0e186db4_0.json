{"sha": "4c41b11fce30bdabf8d276b934d4161d0e186db4", "log": "Comments from r723.", "commit": "\n--- a/gson/src/main/java/com/google/gson/MappedObjectConstructor.java\n+++ b/gson/src/main/java/com/google/gson/MappedObjectConstructor.java\n  */\n final class MappedObjectConstructor implements ObjectConstructor {\n   private static final Logger log = Logger.getLogger(MappedObjectConstructor.class.getName());\n-  private static final Unsafe THE_UNSAFE =  AccessController.doPrivileged(\n-      new PrivilegedAction<Unsafe>() {\n-        public Unsafe run() {\n-          try {\n-            Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n-            f.setAccessible(true);\n-            return (Unsafe) f.get(null);\n-          } catch (NoSuchFieldException e) {\n-            throw new Error();\n-          } catch (IllegalAccessException e) {\n-            throw new Error();\n-          }\n-        }\n-      });\n+  private static final Unsafe THE_UNSAFE = getUnsafe();\n \n   private final ParameterizedTypeHandlerMap<InstanceCreator<?>> instanceCreatorMap;\n   \n       return creator.createInstance(typeOfT);\n     }\n     return (T) constructWithNoArgConstructor(typeOfT);\n+  }\n+  \n+  private static Unsafe getUnsafe() {\n+    try {\n+      Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n+      f.setAccessible(true);\n+      return (Unsafe) f.get(null);\n+    } catch (NoSuchFieldException e) {\n+      throw new Error();\n+    } catch (IllegalAccessException e) {\n+      throw new Error();\n+    }\n   }\n \n   public Object constructArray(Type type, int length) {", "timestamp": 1297722377, "metainfo": ""}