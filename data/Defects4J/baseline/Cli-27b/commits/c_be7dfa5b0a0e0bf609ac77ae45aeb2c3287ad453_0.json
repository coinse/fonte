{"sha": "be7dfa5b0a0e0bf609ac77ae45aeb2c3287ad453", "log": "added support for *boolean/flag* options from properties   ", "commit": "\n--- a/src/java/org/apache/commons/cli/Parser.java\n+++ b/src/java/org/apache/commons/cli/Parser.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//cli/src/java/org/apache/commons/cli/Parser.java,v 1.9 2002/11/25 23:43:40 jkeyes Exp $\n- * $Revision: 1.9 $\n- * $Date: 2002/11/25 23:43:40 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//cli/src/java/org/apache/commons/cli/Parser.java,v 1.10 2002/11/27 23:22:02 jkeyes Exp $\n+ * $Revision: 1.10 $\n+ * $Date: 2002/11/27 23:22:02 $\n  *\n  * ====================================================================\n  *\n  *\n  * @author John Keyes (john at integralsource.com)\n  * @see Parser\n- * @version $Revision: 1.9 $\n+ * @version $Revision: 1.10 $\n  */\n public abstract class Parser implements CommandLineParser {\n \n             String option = e.nextElement().toString();\n             if( !cmd.hasOption( option ) ) {\n                 Option opt = options.getOption( option );\n-                if( opt.getValues() == null || opt.getValues().length == 0 ) {\n-                    opt.addValue( properties.getProperty( option ) );\n-                }\n+\n+                // get the value from the properties instance\n+                String value = properties.getProperty( option );\n+\n+                if( opt.hasArgs() ) {\n+                    if( opt.getValues() == null || opt.getValues().length == 0 ) {\n+                        try {\n+                            opt.addValue( value );\n+                        }\n+                        catch( RuntimeException exp ) {\n+                            // if we cannot add the value don't worry about it\n+                        }\n+                    }\n+                }\n+                else if ( ! ( \"yes\".equalsIgnoreCase( value ) ||\n+                              \"true\".equalsIgnoreCase( value ) ||\n+                              \"1\".equalsIgnoreCase( value) ) ) {\n+                    // if the value is not yes, true or 1 then don't add the\n+                    // option to the CommandLine\n+                    break;\n+                }\n+\n                 cmd.addOption( opt );\n             }\n         }", "timestamp": 1038439322, "metainfo": ""}