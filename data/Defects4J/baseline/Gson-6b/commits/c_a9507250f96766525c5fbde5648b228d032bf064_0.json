{"sha": "a9507250f96766525c5fbde5648b228d032bf064", "log": "Add test for multiple calls to register complex map key serialization.", "commit": "\n--- a/gson/src/test/java/com/google/gson/functional/MapAsArrayTypeAdapterTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/MapAsArrayTypeAdapterTest.java\n     } catch (JsonSyntaxException expected) {\n     }\n   }\n+  \n+  public void testMultipleEnableComplexKeyRegistrationHasNoEffect() throws Exception {\n+    Type type = new TypeToken<Map<Point, String>>() {}.getType();\n+    Gson gson = new GsonBuilder()\n+        .enableComplexMapKeySerialization()\n+        .enableComplexMapKeySerialization()\n+        .create();\n+\n+    Map<Point, String> original = new LinkedHashMap<Point, String>();\n+    original.put(new Point(6, 5), \"abc\");\n+    original.put(new Point(1, 8), \"def\");\n+    String json = gson.toJson(original, type);\n+    assertEquals(\"[[{\\\"x\\\":6,\\\"y\\\":5},\\\"abc\\\"],[{\\\"x\\\":1,\\\"y\\\":8},\\\"def\\\"]]\", json);\n+    assertEquals(original, gson.<Map<Point, String>>fromJson(json, type));\n+  }\n \n   static class Point {\n     int x;", "timestamp": 1300203679, "metainfo": ""}