{"sha": "aa897730085d17e131768caf40f9b30f2aa7a0bc", "log": "Quick fix for threading issue. Should maybe look into synchronizing this method instead.", "commit": "\n--- a/gson/src/main/java/com/google/gson/FieldAttributes.java\n+++ b/gson/src/main/java/com/google/gson/FieldAttributes.java\n   public Collection<Annotation> getAnnotations() {\n     if (annotations == null) {\n       Pair<Class<?>, String> key = new Pair<Class<?>, String>(declaringClazz, name);\n-      annotations = ANNOTATION_CACHE.getElement(key);\n-      if (annotations == null) {\n-        annotations = Collections.unmodifiableCollection(\n+      Collection<Annotation> cachedValue = ANNOTATION_CACHE.getElement(key);\n+      if (cachedValue == null) {\n+        cachedValue = Collections.unmodifiableCollection(\n             Arrays.asList(field.getAnnotations()));\n-        ANNOTATION_CACHE.addElement(key, annotations);\n+        ANNOTATION_CACHE.addElement(key, cachedValue);\n       }\n+      annotations = cachedValue;\n     }\n     return annotations;\n   }", "timestamp": 1307410110, "metainfo": ""}