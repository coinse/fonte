{"sha": "cc5cbe5a1fd8ae6149ecacda472062b4067dd71b", "log": "Integration test for long serialization policy.", "commit": "\n--- a/gson/src/test/java/com/google/gson/LongSerializationPolicyTest.java\n+++ b/gson/src/test/java/com/google/gson/LongSerializationPolicyTest.java\n     assertEquals(1556L, element.getAsLong());\n   }\n   \n+  public void testDefaultLongSerializationIntegration() {\n+    Gson gson = new GsonBuilder()\n+        .setLongSerializationPolicy(LongSerializationPolicy.DEFAULT)\n+        .create();\n+    assertEquals(\"[1]\", gson.toJson(new long[] { 1L }, long[].class));\n+    assertEquals(\"[1]\", gson.toJson(new Long[] { 1L }, Long[].class));\n+  }\n+\n   public void testStringLongSerialization() throws Exception {\n     JsonElement element = LongSerializationPolicy.STRING.serialize(1556L);\n     assertTrue(element.isJsonPrimitive());\n-    \n+\n     JsonPrimitive jsonPrimitive = element.getAsJsonPrimitive();\n     assertFalse(jsonPrimitive.isNumber());\n     assertTrue(jsonPrimitive.isString());\n     assertEquals(\"1556\", element.getAsString());\n   }\n+\n+  public void testStringLongSerializationIntegration() {\n+    Gson gson = new GsonBuilder()\n+        .setLongSerializationPolicy(LongSerializationPolicy.STRING)\n+        .create();\n+    assertEquals(\"[\\\"1\\\"]\", gson.toJson(new long[] { 1L }, long[].class));\n+    assertEquals(\"[\\\"1\\\"]\", gson.toJson(new Long[] { 1L }, Long[].class));\n+  }\n }", "timestamp": 1319086678, "metainfo": ""}