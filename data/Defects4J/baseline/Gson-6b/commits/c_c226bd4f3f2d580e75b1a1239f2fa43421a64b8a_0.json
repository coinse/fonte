{"sha": "c226bd4f3f2d580e75b1a1239f2fa43421a64b8a", "log": "Tests to illustrate differences between GSON 1.7 and 2.0", "commit": "\n--- a/gson/src/test/java/com/google/gson/functional/MapTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/MapTest.java\n import com.google.gson.JsonPrimitive;\n import com.google.gson.JsonSerializationContext;\n import com.google.gson.JsonSerializer;\n+import com.google.gson.JsonSyntaxException;\n import com.google.gson.common.TestTypes;\n import com.google.gson.internal.$Gson$Types;\n import com.google.gson.reflect.TypeToken;\n   public void testGeneralMapField() throws Exception {\n     MapWithGeneralMapParameters map = new MapWithGeneralMapParameters();\n     map.map.put(\"string\", \"testString\");\n-    map.map.put(\"stringArray\", new String[] { \"one\", \"two\" });\n-    map.map.put(\"objectArray\", new Object[] { 1, 2L, \"three\" });\n+    map.map.put(\"stringArray\", new String[]{\"one\", \"two\"});\n+    map.map.put(\"objectArray\", new Object[]{1, 2L, \"three\"});\n \n     String expected = \"{\\\"map\\\":{\\\"string\\\":\\\"testString\\\",\\\"stringArray\\\":\"\n         + \"[\\\"one\\\",\\\"two\\\"],\\\"objectArray\\\":[1,2,\\\"three\\\"]}}\";\n     assertEquals(map, gson.fromJson(json, new TypeToken<Map<Boolean, String>>() {}.getType()));\n   }\n \n+  public void testMapDeserializationWithDuplicateKeys() {\n+    try {\n+      gson.fromJson(\"{'a':1,'a':2}\", new TypeToken<Map<String, Integer>>() {}.getType());\n+      fail();\n+    } catch (JsonSyntaxException expected) {\n+    }\n+  }\n+\n   static class Point {\n     private final int x;\n     private final int y;", "timestamp": 1319409853, "metainfo": ""}