{"sha": "33c004f5258f7bba447d1ecec96ce468d081c686", "log": "Invalid use of == to compare Character equality; add tests to detect this  ", "commit": "\n--- a/src/main/java/org/apache/commons/csv/CSVFormat.java\n+++ b/src/main/java/org/apache/commons/csv/CSVFormat.java\n                     \"')\");\n         }\n \n-        if (quoteChar != null && quoteChar == commentStart) {\n+        if (quoteChar != null && quoteChar.equals(commentStart)) {\n             throw new IllegalStateException(\"The comment start character and the quoteChar cannot be the same ('\" + commentStart + \n                     \"')\");\n         }\n \n-        if (escape != null && escape == commentStart) {\n+        if (escape != null && escape.equals(commentStart)) {\n             throw new IllegalStateException(\"The comment start and the escape character cannot be the same ('\" + commentStart + \"')\");\n         }\n \n--- a/src/test/java/org/apache/commons/csv/CSVFormatTest.java\n+++ b/src/test/java/org/apache/commons/csv/CSVFormatTest.java\n             // expected\n         }\n \n+        // Cannot assume that callers won't use different Character objects\n+        try {\n+            format.withQuoteChar(new Character('!')).withCommentStart('!').validate();\n+            fail();\n+        } catch (final IllegalStateException e) {\n+            // expected\n+        }\n+\n         format.withQuoteChar(null).withCommentStart(null).validate();\n \n         try {\n             // expected\n         }\n \n+        // Cannot assume that callers won't use different Character objects\n+        try {\n+            format.withEscape(new Character('!')).withCommentStart(new Character('!')).validate();\n+            fail();\n+        } catch (final IllegalStateException e) {\n+            // expected\n+        }\n+\n         format.withEscape(null).withCommentStart(null).validate();\n \n \n         } catch (final IllegalStateException e) {\n             // expected\n         }\n-}\n+    }\n \n     @SuppressWarnings(\"boxing\") // no need to worry about boxing here\n     @Test", "timestamp": 1350317069, "metainfo": ""}