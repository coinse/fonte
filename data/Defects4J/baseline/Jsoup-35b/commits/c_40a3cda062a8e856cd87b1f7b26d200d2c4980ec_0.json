{"sha": "40a3cda062a8e856cd87b1f7b26d200d2c4980ec", "log": "Parsing performance optimisation.  Intern attribute keys (often shared), and dropped back default bucket sizes for attributes and element children so as to conserve memory.", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Attribute.java\n+++ b/src/main/java/org/jsoup/nodes/Attribute.java\n     public Attribute(String key, String value) {\n         Validate.notEmpty(key);\n         Validate.notNull(value);\n-        this.key = key.trim().toLowerCase();\n+        this.key = key.trim().toLowerCase().intern(); // attribute keys are interned as often repeated\n         this.value = value;\n     }\n \n--- a/src/main/java/org/jsoup/nodes/Attributes.java\n+++ b/src/main/java/org/jsoup/nodes/Attributes.java\n  * @author Jonathan Hedley, jonathan@hedley.net\n  */\n public class Attributes implements Iterable<Attribute> {\n-    private LinkedHashMap<String, Attribute> attributes = new LinkedHashMap<String, Attribute>();\n+    private LinkedHashMap<String, Attribute> attributes = new LinkedHashMap<String, Attribute>(2);\n     // linked hash map to preserve insertion order.\n \n     /**\n--- a/src/main/java/org/jsoup/nodes/Node.java\n+++ b/src/main/java/org/jsoup/nodes/Node.java\n         Validate.notNull(baseUri);\n         Validate.notNull(attributes);\n         \n-        childNodes = new ArrayList<Node>();\n+        childNodes = new ArrayList<Node>(4);\n         this.baseUri = baseUri.trim();\n         this.attributes = attributes;\n     }", "timestamp": 1309605114, "metainfo": ""}