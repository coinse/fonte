{"sha": "a4c375d8ef9d2a930b34a994719ebdbc076678b7", "log": "Renamed cssPath to cssSelector  Made the returned selector able to select the given element.", "commit": "\n--- a/src/main/java/org/jsoup/nodes/Element.java\n+++ b/src/main/java/org/jsoup/nodes/Element.java\n     }\n \n     /**\n-     * Get this element's CSS Path. If the element has an id, returns #id,\n-     * Otherwise it returns the parent (if any) css path followed by '>',\n-     * followed by an unique selector for the element (tag.class.class:nth-child(n)).\n+     * Get a CSS selector that will uniquely select this element.\n+     * <p/>If the element has an ID, returns #id;\n+     * otherwise returns the parent (if any) CSS selector, followed by '>',\n+     * followed by a unique selector for the element (tag.class.class:nth-child(n)).\n+     *\n      * @return the CSS Path that can be used to retrieve the element in a selector.\n      */\n-    public String cssPath() {\n+    public String cssSelector() {\n         if (!id().isEmpty())\n             return \"#\" + id();\n \n         if (!classes.isEmpty())\n             selector.append('.').append(classes);\n \n-        if (parent() == null)\n+        if (parent() == null || parent() instanceof Document) // don't add Document to selector, as will always have a html node\n             return selector.toString();\n \n         selector.insert(0, \" > \");\n             selector.append(String.format(\n                 \":nth-child(%d)\", elementSiblingIndex() + 1));\n \n-        return parent().cssPath() + selector.toString();\n+        return parent().cssSelector() + selector.toString();\n     }\n \n     /**\n--- a/src/test/java/org/jsoup/nodes/ElementTest.java\n+++ b/src/test/java/org/jsoup/nodes/ElementTest.java\n         Element divA = doc.select(\"div\").get(0);\n         Element divB = doc.select(\"div\").get(1);\n         Element divC = doc.select(\"div\").get(2);\n-        assertEquals(divA.cssPath(), \"#id1\");\n-        assertEquals(divB.cssPath(), \"#root > html > body > div:nth-child(2)\");\n-        assertEquals(divC.cssPath(), \"#root > html > body > div.c1.c2\");\n+        assertEquals(divA.cssSelector(), \"#id1\");\n+        assertEquals(divB.cssSelector(), \"html > body > div:nth-child(2)\");\n+        assertEquals(divC.cssSelector(), \"html > body > div.c1.c2\");\n+\n+        assertTrue(divA == doc.select(divA.cssSelector()).first());\n+        assertTrue(divB == doc.select(divB.cssSelector()).first());\n+        assertTrue(divC == doc.select(divC.cssSelector()).first());\n     }\n \n }", "timestamp": 1411866893, "metainfo": ""}