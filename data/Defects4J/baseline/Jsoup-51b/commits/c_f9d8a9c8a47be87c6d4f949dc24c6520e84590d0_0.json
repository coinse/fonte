{"sha": "f9d8a9c8a47be87c6d4f949dc24c6520e84590d0", "log": "Ensure that Jsoup.Connect handles relative redirects in cases where the underlying HTTP stack doesn't automatically follow them.  Fixes #73", "commit": "\n--- a/src/main/java/org/jsoup/helper/HttpConnection.java\n+++ b/src/main/java/org/jsoup/helper/HttpConnection.java\n             Response res = new Response();\n             res.setupFromConnection(conn);\n             if (needsRedirect) {\n-                req.url(new URL(res.header(\"Location\")));\n+                req.url(new URL(req.url(), res.header(\"Location\")));\n                 return execute(req);\n             }\n \n--- a/src/test/java/org/jsoup/integration/UrlConnectTest.java\n+++ b/src/test/java/org/jsoup/integration/UrlConnectTest.java\n         assertTrue(doc.title().contains(\"Google\"));\n     }\n \n+    @Test\n+    public void followsRelativeRedirect() throws IOException {\n+        Connection con = Jsoup.connect(\"http://infohound.net/tools/302-rel.pl\"); // to ./ - /tools/\n+        Document doc = con.post();\n+        assertTrue(doc.title().contains(\"HTML Tidy Online\"));\n+    }\n+\n }", "timestamp": 1309605126, "metainfo": ""}