{"sha": "60709c20402533f86bb2374241cdac3b4f0fcba2", "log": "Added a predefined format for MySQL (SANDBOX-410)  ", "commit": "\n--- a/src/main/java/org/apache/commons/csv/CSVFormat.java\n+++ b/src/main/java/org/apache/commons/csv/CSVFormat.java\n \n     /** Tabulation delimited format. */\n     public static final CSVFormat TDF = new CSVFormat('\\t', '\"', DISABLED, DISABLED, true, true, false, true);\n+    \n+    /**\n+     * Default MySQL format used by the <tt>SELECT INTO OUTFILE</tt> and\n+     * <tt>LOAD DATA INFILE</tt> operations. This is a tabulation delimited\n+     * format with a LF character as the line separator. Values are not quoted\n+     * and special characters are escaped with '\\'.\n+     * \n+     * @see <a href=\"http://dev.mysql.com/doc/refman/5.1/en/load-data.html\">http://dev.mysql.com/doc/refman/5.1/en/load-data.html</a>\n+     */\n+    public static final CSVFormat MYSQL = new CSVFormat('\\t', DISABLED, DISABLED, '\\\\', false, false, false, false).withLineSeparator(\"\\n\");\n \n \n     /**\n--- a/src/test/java/org/apache/commons/csv/CSVPrinterTest.java\n+++ b/src/test/java/org/apache/commons/csv/CSVPrinterTest.java\n \n     public void testRandom() throws Exception {\n         int iter = 10000;\n-        format = CSVFormat.DEFAULT;\n-        doRandom(iter);\n-        format = CSVFormat.EXCEL;\n-        doRandom(iter);\n-\n-        // Format for MySQL\n-        format = new CSVFormat('\\t',  CSVFormat.DISABLED,  CSVFormat.DISABLED, '\\\\', false, false, false, false);\n-        doRandom(iter);\n-    }\n-\n-    Random r = new Random();\n-    CSVFormat format;\n-\n-    public void doRandom(int iter) throws Exception {\n+        doRandom(CSVFormat.DEFAULT, iter);\n+        doRandom(CSVFormat.EXCEL, iter);\n+        doRandom(CSVFormat.MYSQL, iter);\n+    }\n+\n+    public void doRandom(CSVFormat format, int iter) throws Exception {\n         for (int i = 0; i < iter; i++) {\n-            doOneRandom();\n-        }\n-    }\n-\n-    public void doOneRandom() throws Exception {\n+            doOneRandom(format);\n+        }\n+    }\n+\n+    public void doOneRandom(CSVFormat format) throws Exception {\n+        Random r = new Random();\n+        \n         int nLines = r.nextInt(4) + 1;\n         int nCol = r.nextInt(3) + 1;\n         // nLines=1;nCol=2;\n     }\n \n     public String randStr() {\n+        Random r = new Random();\n+        \n         int sz = r.nextInt(20);\n         // sz = r.nextInt(3);\n         char[] buf = new char[sz];", "timestamp": 1331119772, "metainfo": ""}