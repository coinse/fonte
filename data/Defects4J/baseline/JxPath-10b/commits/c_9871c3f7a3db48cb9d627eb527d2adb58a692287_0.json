{"sha": "9871c3f7a3db48cb9d627eb527d2adb58a692287", "log": "Integrated with BeanUtils ConverterUtils   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/util/BasicTypeConverter.java\n+++ b/src/java/org/apache/commons/jxpath/util/BasicTypeConverter.java\n import java.util.List;\n import java.util.Set;\n \n+import org.apache.commons.beanutils.ConvertUtils;\n import org.apache.commons.jxpath.JXPathException;\n+import org.apache.commons.jxpath.NodeSet;\n import org.apache.commons.jxpath.Pointer;\n-import org.apache.commons.jxpath.NodeSet;\n \n /**\n  * The default implementation of TypeConverter.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.13 $ $Date: 2004/03/25 05:42:01 $\n+ * @version $Revision: 1.14 $ $Date: 2004/06/29 21:50:02 $\n  */\n public class BasicTypeConverter implements TypeConverter {\n \n         else if (object instanceof Pointer) {\n             return canConvert(((Pointer) object).getValue(), toType);\n         }\n-        return false;\n+        return ConvertUtils.lookup(toType) != null;\n     }\n \n     /**\n             }\n         }\n         \n+        if (ConvertUtils.lookup(toType) != null) {\n+\t\t\treturn ConvertUtils.convert(object.toString(), toType);\n+\t\t}\n+\n         throw new RuntimeException(\n             \"Cannot convert \" + object.getClass() + \" to \" + toType);\n     }\n--- a/src/test/org/apache/commons/jxpath/util/BasicTypeConverterTest.java\n+++ b/src/test/org/apache/commons/jxpath/util/BasicTypeConverterTest.java\n package org.apache.commons.jxpath.util;\n \n import java.lang.reflect.Array;\n+import java.math.BigDecimal;\n import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.Collections;\n  * Tests BasicTypeConverter\n  * \n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.6 $ $Date: 2004/02/29 14:17:46 $\n+ * @version $Revision: 1.7 $ $Date: 2004/06/29 21:50:02 $\n  */\n \n public class BasicTypeConverterTest extends TestCase {\n             }\n         }, Integer.class, new Integer(9));\n     }    \n+    \n+    public void testBeanUtilsConverter() {\n+        assertConversion(\"12\", BigDecimal.class, new BigDecimal(12));\n+    }\n }", "timestamp": 1088545802, "metainfo": ""}