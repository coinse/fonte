{"sha": "51f4ee70a4f5a8a921557b2a53413fb19c52b918", "log": "Added tests for the formatting of option groups  ", "commit": "\n--- a/src/java/org/apache/commons/cli/HelpFormatter.java\n+++ b/src/java/org/apache/commons/cli/HelpFormatter.java\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n+\n package org.apache.commons.cli;\n \n import java.io.PrintWriter;\n-\n import java.util.ArrayList;\n import java.util.Collection;\n import java.util.Collections;\n  *\n  * @author Slawek Zachcial\n  * @author John Keyes (john at integralsource.com)\n- **/\n+ */\n public class HelpFormatter {\n     // --------------------------------------------------------------- Constants\n \n--- a/src/test/org/apache/commons/cli/HelpFormatterTest.java\n+++ b/src/test/org/apache/commons/cli/HelpFormatterTest.java\n \n import java.io.ByteArrayOutputStream;\n import java.io.PrintWriter;\n+import java.io.StringWriter;\n import java.util.Comparator;\n \n import junit.framework.TestCase;\n         assertEquals(\"usage: app [-c] [-b] [-a]\" + EOL, bytesOut.toString());\n     }\n \n+    public void testPrintOptionGroupUsage() {\n+        OptionGroup group = new OptionGroup();\n+        group.addOption(OptionBuilder.create(\"a\"));\n+        group.addOption(OptionBuilder.create(\"b\"));\n+        group.addOption(OptionBuilder.create(\"c\"));\n+\n+        Options options = new Options();\n+        options.addOptionGroup(group);\n+\n+        StringWriter out = new StringWriter();\n+\n+        HelpFormatter formatter = new HelpFormatter();\n+        formatter.printUsage(new PrintWriter(out), 80, \"app\", options);\n+\n+        assertEquals(\"usage: app [-a | -b | -c]\" + EOL, out.toString());\n+    }\n+\n+    public void testPrintRequiredOptionGroupUsage() {\n+        OptionGroup group = new OptionGroup();\n+        group.addOption(OptionBuilder.create(\"a\"));\n+        group.addOption(OptionBuilder.create(\"b\"));\n+        group.addOption(OptionBuilder.create(\"c\"));\n+        group.setRequired(true);\n+\n+        Options options = new Options();\n+        options.addOptionGroup(group);\n+\n+        StringWriter out = new StringWriter();\n+\n+        HelpFormatter formatter = new HelpFormatter();\n+        formatter.printUsage(new PrintWriter(out), 80, \"app\", options);\n+\n+        assertEquals(\"usage: app -a | -b | -c\" + EOL, out.toString());\n+    }\n+\n }", "timestamp": 1212140801, "metainfo": ""}