{"sha": "8a0adf2d51ff1890317afbc935c74d8ca7ff21bf", "log": "Add an alternate method for BeanDeserializer, to locate properties by index", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/BeanDeserializerBase.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/BeanDeserializerBase.java\n         }\n         return prop;\n     }\n+\n+    /**\n+     * Alternate find method that tries to locate a property with given\n+     * <code>property index</code>\n+     * \n+     * @since 2.3\n+     */\n+    public SettableBeanProperty findProperty(int propertyIndex)\n+    {\n+        SettableBeanProperty prop = (_beanProperties == null) ?\n+                null : _beanProperties.find(propertyIndex);\n+        if (prop == null && _propertyBasedCreator != null) {\n+            prop = _propertyBasedCreator.findCreatorProperty(propertyIndex);\n+        }\n+        return prop;\n+    }\n+    \n     /**\n      * Method needed by {@link BeanDeserializerFactory} to properly link\n      * managed- and back-reference pairs.\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/impl/BeanPropertyMap.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/impl/BeanPropertyMap.java\n      */\n \n     public int size() { return _size; }\n-    \n+\n     public SettableBeanProperty find(String key)\n     {\n         int index = key.hashCode() & _hashMask;\n         return _findWithEquals(key, index);\n     }\n \n+    /**\n+     * @since 2.3\n+     */\n+    public SettableBeanProperty find(int propertyIndex)\n+    {\n+        for (int i = 0, end = _buckets.length; i < end; ++i) {\n+            for (Bucket bucket = _buckets[i]; bucket != null; bucket = bucket.next) {\n+                if (bucket.index == propertyIndex) {\n+                    return bucket.value;\n+                }\n+            }\n+        }\n+        return null;\n+    }\n+    \n     /**\n      * Specialized method that can be used to replace an existing entry\n      * (note: entry MUST exist; otherwise exception is thrown) with\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/impl/PropertyBasedCreator.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/impl/PropertyBasedCreator.java\n     public Collection<SettableBeanProperty> properties() {\n         return _properties.values();\n     }\n-    \n+\n     public SettableBeanProperty findCreatorProperty(String name) {\n         return _properties.get(name);\n     }\n \n+    public SettableBeanProperty findCreatorProperty(int propertyIndex) {\n+        for (SettableBeanProperty prop : _properties.values()) {\n+            if (prop.getPropertyIndex() == propertyIndex) {\n+                return prop;\n+            }\n+        }\n+        return null;\n+    }\n+    \n     /*\n     /**********************************************************\n     /* Building process", "timestamp": 1376978738, "metainfo": ""}