{"sha": "ad2e68c600bf537c66cb4302142e843a9b795e08", "log": "added failing test for JsonIgnoreType with MixIn", "commit": "\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/failing/TestJsonIgnoreTypeWithMixIn.java\n+package com.fasterxml.jackson.failing;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnoreType;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+import com.fasterxml.jackson.test.BaseTest;\n+\n+public class TestJsonIgnoreTypeWithMixIn extends BaseTest {\n+\n+    @JsonIgnoreType\n+    static class Person {\n+        \n+        private String name;\n+        private String address;\n+        \n+        public Person(String name, String address) {\n+            this.name = name;\n+            this.address = address;\n+        }\n+        \n+        public String getName() {\n+            return name;\n+        }\n+        \n+        public void setName(String name) {\n+            this.name = name;\n+        }\n+        \n+        public String getAddress() {\n+            return address;\n+        }\n+        \n+        public void setAddress(String address) {\n+            this.address = address;\n+        }\n+    }\n+    \n+    @JsonIgnoreType\n+    static abstract class PersonMixin {\n+        \n+        @JsonProperty abstract String getName();\n+    }\n+    \n+    public void testSingle() throws Exception {\n+        SimpleModule module = new SimpleModule();\n+        module.setMixInAnnotation(Person.class, PersonMixin.class);\n+        ObjectMapper mapper = new ObjectMapper();\n+        mapper.registerModule(module);\n+        Person person = new Person(\"Person 1\", \"Address 1\");\n+        String json = mapper.writeValueAsString(person);\n+        assertEquals(\"{\\\"name\\\":\\\"Person 1\\\"}\", json);\n+    }\n+    \n+    public void testList() throws Exception {\n+        SimpleModule module = new SimpleModule();\n+        module.setMixInAnnotation(Person.class, PersonMixin.class);\n+        ObjectMapper mapper = new ObjectMapper();\n+        mapper.registerModule(module);\n+        Person p1 = new Person(\"Person 1\", \"Address 1\");\n+        Person p2 = new Person(\"Person 2\", \"Address 2\");\n+        List<Person> persons = new ArrayList<Person>();\n+        persons.add(p1);\n+        persons.add(p2);\n+        String json = mapper.writeValueAsString(persons);\n+        assertEquals(\"{\\\"name\\\":\\\"Person 1\\\"},\\\"name\\\":\\\"Person 2\\\"}\", json);\n+    }\n+}", "timestamp": 1389092557, "metainfo": ""}