{"sha": "f3bb3424f458e338c2e0b94baf0f75b78cb736ab", "log": "Resolved [JACKSON-815]; test failures on JDK7, due to addition of Throwable.suppressed property", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/TestObjectMapperBeanSerializer.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/TestObjectMapperBeanSerializer.java\n         JsonGenerator aGen = new JsonFactory().createJsonGenerator(aWriter);\n         aMapper.writeValue(aGen, aTestObj);\n         aGen.close();\n-\n         JsonParser jp = new JsonFactory().createJsonParser(new StringReader(aWriter.toString()));\n \n         assertEquals(JsonToken.START_OBJECT, jp.nextToken());\n                                 assertTrue(\"Probably run away loop in test. StackTrack Array was not properly closed.\",false);\n                             }\n                         }\n+                    } else if (name.equals(\"suppressed\")) {\n+                        // JDK 7 has introduced a new property 'suppressed' to Throwable; skip if seen\n+                        assertEquals(JsonToken.START_ARRAY,jp.nextToken());\n+                        assertEquals(JsonToken.END_ARRAY,jp.nextToken());\n                     } else {\n                         fail(\"Unexpected field name '\"+name+\"'\");\n                     }\n--- a/src/test/java/com/fasterxml/jackson/databind/ser/TestExceptionSerialization.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/ser/TestExceptionSerialization.java\n package com.fasterxml.jackson.databind.ser;\n-\n \n import java.util.*;\n \n     extends BaseMapTest\n {\n     /*\n-    ///////////////////////////////////////////////////\n-    // Tests\n-    ///////////////////////////////////////////////////\n+    /**********************************************************\n+    /* Tests\n+    /**********************************************************\n      */\n \n     public void testSimple() throws Exception\n         ObjectMapper mapper = new ObjectMapper();\n         String TEST = \"test exception\";\n         Map<String,Object> result = writeAndMap(mapper, new Exception(TEST));\n-        assertEquals(4, result.size());\n+        // JDK 7 has introduced a new property 'suppressed' to Throwable\n+        Object ob = result.get(\"suppressed\");\n+        if (ob != null) {\n+            assertEquals(5, result.size());\n+        } else {\n+            assertEquals(4, result.size());\n+        }\n+\n         assertEquals(TEST, result.get(\"message\"));\n         assertNull(result.get(\"cause\"));\n         assertEquals(TEST, result.get(\"localizedMessage\"));", "timestamp": 1332285601, "metainfo": ""}