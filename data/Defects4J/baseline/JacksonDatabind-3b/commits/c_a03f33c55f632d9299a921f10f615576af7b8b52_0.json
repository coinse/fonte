{"sha": "a03f33c55f632d9299a921f10f615576af7b8b52", "log": "Implementing #141", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/std/EnumDeserializer.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/std/EnumDeserializer.java\n         if (curr == JsonToken.VALUE_STRING || curr == JsonToken.FIELD_NAME) {\n             String name = jp.getText();\n             Enum<?> result = _resolver.findEnum(name);\n-            if (result == null  && !ctxt.isEnabled(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL)) {\n-                throw ctxt.weirdStringException(name, _resolver.getEnumClass(),\n-                        \"value not one of declared Enum instance names\");\n+            if (result == null) {\n+                if (ctxt.isEnabled(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT)) {\n+                    if (name.length() == 0 || name.trim().length() == 0) {\n+                        return null;\n+                    }\n+                }\n+                if (!ctxt.isEnabled(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL)) {\n+                    throw ctxt.weirdStringException(name, _resolver.getEnumClass(),\n+                            \"value not one of declared Enum instance names\");\n+                }\n             }\n             return result;\n         }\n--- a/src/test/java/com/fasterxml/jackson/databind/deser/TestEnumDeserialization.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/deser/TestEnumDeserialization.java\n         TestEnumFor834 res = mapper.readValue(\"1 \", TestEnumFor834.class);\n         assertSame(TestEnumFor834.ENUM_A, res);\n     }\n+\n+    // [Issue#141]: allow mapping of empty String into null\n+    public void testEnumsWithEmpty() throws Exception\n+    {\n+       final ObjectMapper m = new ObjectMapper();\n+       m.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\n+       TestEnum result = m.readValue(\"\\\"\\\"\", TestEnum.class);\n+       assertNull(result);\n+    }\n+\n }", "timestamp": 1357613009, "metainfo": ""}