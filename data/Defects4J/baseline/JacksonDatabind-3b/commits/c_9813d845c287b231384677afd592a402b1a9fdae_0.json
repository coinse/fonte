{"sha": "9813d845c287b231384677afd592a402b1a9fdae", "log": "Add a unit test against [JACKSON-746]", "commit": "\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/databind/jsontype/TestNoTypeInfo.java\n+package com.fasterxml.jackson.databind.jsontype;\n+\n+import com.fasterxml.jackson.annotation.JsonTypeInfo;\n+\n+import com.fasterxml.jackson.databind.*;\n+import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n+\n+public class TestNoTypeInfo extends BaseMapTest\n+{\n+    @JsonTypeInfo(use=JsonTypeInfo.Id.NONE)\n+    @JsonDeserialize(as=NoType.class)\n+    private static interface NoTypeInterface {\n+    }\n+    \n+    private final static class NoType implements NoTypeInterface {\n+        public int a = 3;\n+    }\n+    \n+    /*\n+    /**********************************************************\n+    /* Unit tests\n+    /**********************************************************\n+     */\n+\n+    // for [JACKSON-746]\n+    public void testWithIdNone() throws Exception\n+    {\n+        final ObjectMapper mapper = new ObjectMapper();\n+        mapper.enableDefaultTyping();\n+        // serialize without type info\n+        String json = mapper.writeValueAsString(new NoType());\n+        assertEquals(\"{\\\"a\\\":3}\", json);\n+\n+        // and deserialize successfully\n+        NoTypeInterface bean = mapper.readValue(\"{\\\"a\\\":6}\", NoTypeInterface.class);\n+        assertNotNull(bean);\n+        NoType impl = (NoType) bean;\n+        assertEquals(6, impl.a);\n+    }\n+}", "timestamp": 1326408152, "metainfo": ""}