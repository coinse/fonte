{"sha": "b87be0c0384503d832a34d363800441b94b8fed9", "log": "Relaxed parse rule of SPAN to treat as block, to allow nested block content.", "commit": "\n--- a/src/main/java/org/jsoup/parser/Tag.java\n+++ b/src/main/java/org/jsoup/parser/Tag.java\n         createInline(\"Q\");\n         createInline(\"SUB\");\n         createInline(\"SUP\");\n-        createInline(\"SPAN\");\n         createInline(\"BDO\");\n         createInline(\"IFRAME\").setOptionalClosing();\n         createInline(\"EMBED\").setEmpty();\n         // will need to have another non block/inline type, and explicit include & exclude rules. should be right though\n \n         // block\n+        createBlock(\"SPAN\"); // spec is phrasing only, practise is block\n         createBlock(\"P\").setContainInlineOnly(); // emasculated block?\n         createBlock(\"H1\").setAncestor(\"BODY\", \"HGROUP\").setExcludes(\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\");\n         createBlock(\"H2\").setAncestor(\"BODY\", \"HGROUP\").setExcludes(\"H1\", \"H2\", \"H3\", \"H4\", \"H5\", \"H6\");\n--- a/src/test/java/org/jsoup/parser/ParserTest.java\n+++ b/src/test/java/org/jsoup/parser/ParserTest.java\n         Document doc = Jsoup.parse(\"<h1>Hello <div>There</div> now</h1> <h2>More <h3>Content</h3></h2>\");\n         assertEquals(\"<h1>Hello <div>There</div> now</h1> <h2>More </h2><h3>Content</h3>\", TextUtil.stripNewlines(doc.body().html()));\n     }\n+\n+    @Test public void testSpanContents() {\n+        // like h1 tags, the spec says SPAN is phrasing only, but browsers and publisher treat span as a block tag\n+        Document doc = Jsoup.parse(\"<span>Hello <div>there</div> <span>now</span></span>\");\n+        assertEquals(\"<span>Hello <div>there</div> <span>now</span></span>\", TextUtil.stripNewlines(doc.body().html()));\n+    }\n }", "timestamp": 1309605121, "metainfo": ""}