{"sha": "544281d17133045c19f52c1a0f3aa7b87ef7d231", "log": "Example program: list links", "commit": "\n--- /dev/null\n+++ b/src/main/java/org/jsoup/examples/ListLinks.java\n+package org.jsoup.examples;\n+\n+import org.apache.commons.lang.Validate;\n+import org.jsoup.nodes.Document;\n+import org.jsoup.nodes.Element;\n+import org.jsoup.Jsoup;\n+import org.jsoup.select.Elements;\n+\n+import java.net.URL;\n+import java.io.IOException;\n+\n+/**\n+ * Example program to list links from a URL.\n+ */\n+public class ListLinks {\n+    public static void main(String[] args) throws IOException {\n+        Validate.isTrue(args.length == 1, \"usage: supply url to fetch\");\n+        URL url = new URL(args[0]);\n+        print(\"Fetching %s...\", url.toExternalForm());\n+\n+        Document doc = Jsoup.parse(url, 3*1000);\n+        Elements links = doc.select(\"a[href]\");\n+        Elements media = doc.select(\"[src]\");\n+        Elements imports = doc.select(\"link[href]\");\n+\n+        print(\"\\nMedia: (%d)\", media.size());\n+        for (Element src : media) {\n+            if (src.tagName().equals(\"img\"))\n+                print(\" * %s: <%s> %sx%s (%s)\",\n+                        src.tagName(), src.attr(\"abs:src\"), src.attr(\"width\"), src.attr(\"height\"),\n+                        trim(src.attr(\"alt\"), 20));\n+            else\n+                print(\" * %s: <%s>\", src.tagName(), src.attr(\"abs:src\"));\n+        }\n+\n+        print(\"\\nImports: (%d)\", imports.size());\n+        for (Element link : imports) {\n+            print(\" * %s <%s> (%s)\", link.tagName(),link.attr(\"abs:href\"), link.attr(\"rel\"));\n+        }\n+\n+        print(\"\\nLinks: (%d)\", links.size());\n+        for (Element link : links) {\n+            print(\" * a: <%s>  (%s)\", link.attr(\"abs:href\"), trim(link.text(), 35));\n+        }\n+    }\n+\n+    private static void print(String msg, Object... args) {\n+        System.out.println(String.format(msg, args));\n+    }\n+\n+    private static String trim(String s, int width) {\n+        if (s.length() > width)\n+            return s.substring(0, width-1) + \".\";\n+        else\n+            return s;\n+    }\n+}\n--- /dev/null\n+++ b/src/main/java/org/jsoup/examples/package-info.java\n+/**\n+ Contains example programs and use of jsoup. See the <a href=\"http://jsoup.org/cookbook/\">jsoup cookbook</a>.\n+ */\n+package org.jsoup.examples;", "timestamp": 1309605109, "metainfo": ""}