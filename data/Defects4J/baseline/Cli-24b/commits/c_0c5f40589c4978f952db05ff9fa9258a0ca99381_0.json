{"sha": "0c5f40589c4978f952db05ff9fa9258a0ca99381", "log": "Parser no longer validates the CommandLine if the help option is found  Original patch supplied by Steve Alberty  ", "commit": "\n--- a/src/java/org/apache/commons/cli2/commandline/Parser.java\n+++ b/src/java/org/apache/commons/cli2/commandline/Parser.java\n      *             command line tokens.\n      */\n     public CommandLine parse(final String[] arguments) throws OptionException {\n-\n+        \n+        // build a mutable list for the arguments\n         final List argumentList = new LinkedList(Arrays.asList(arguments));\n         final WriteableCommandLine commandLine =\n             new WriteableCommandLineImpl(group, new ArrayList());\n         \n         // pick up any defaults from the model\n         group.defaults(commandLine);\n-\n+        \n+        // process the options as far as possible\n         final ListIterator iterator = argumentList.listIterator();\n         while (group.canProcess(commandLine, iterator)) {\n             group.process(commandLine, iterator);\n         }\n-\n+        \n+        // if there are more arguments we have a problem\n         if (iterator.hasNext()) {\n             final String arg = (String)iterator.next();\n             throw new OptionException(group, \"cli.error.unexpected\", arg);\n         }\n-\n-        group.validate(commandLine);\n-\n+        \n+        // no need to validate if the help option is present\n+        if (!commandLine.hasOption(helpOption) && !commandLine.hasOption(helpTrigger)) {\n+            group.validate(commandLine);\n+        }\n+        \n         return commandLine;\n     }\n ", "timestamp": 1118870409, "metainfo": ""}