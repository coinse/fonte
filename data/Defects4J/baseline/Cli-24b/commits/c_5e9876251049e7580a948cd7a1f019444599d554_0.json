{"sha": "5e9876251049e7580a948cd7a1f019444599d554", "log": "removed use of options list, reduced concatenation   ", "commit": "\n--- a/src/java/org/apache/commons/cli/Options.java\n+++ b/src/java/org/apache/commons/cli/Options.java\n import java.util.Collection;\n import java.util.Map;\n import java.util.HashMap;\n-import java.util.List;\n-import java.util.ArrayList;\n import java.util.Iterator;\n import java.util.Collections;\n \n  */\n public class Options {\n \n-    /** the list of options */\n-    private List options      = new ArrayList();\n-\n     /** a map of the options with the character key */\n     private Map  shortOpts    = new HashMap();\n \n      * <p>Adds an option instance</p>\n      *\n      * @param opt the option that is to be added \n+     * @return the resulting Options instance\n      */\n     public Options addOption(Option opt)  {\n-        String shortOptStr = \"-\" + opt.getOpt();\n+        String shortOpt = \"-\" + opt.getOpt();\n         \n         // add it to the long option list\n         if ( opt.hasLongOpt() ) {\n         \n         // if the option is required add it to the required list\n         if ( opt.isRequired() ) {\n-            requiredOpts.put( \"-\" + opt.getOpt(), opt );\n-        }\n-\n-        shortOpts.put( \"-\" + opt.getOpt(), opt );\n-        \n-        options.add( opt );\n+            requiredOpts.put( shortOpt, opt );\n+        }\n+\n+        shortOpts.put( shortOpt, opt );\n+        \n         return this;\n     }\n     \n     /** <p>Retrieve a read-only list of options in this set</p>\n      *\n-     * @return read-only List of {@link Option} objects in this descriptor\n-     */\n-    public List getOptions() {\n-        return Collections.unmodifiableList(options);\n+     * @return read-only Collection of {@link Option} objects in this descriptor\n+     */\n+    public Collection getOptions() {\n+        return Collections.unmodifiableCollection( shortOpts.values() );\n     }\n \n     /** <p>Returns the required options as a ", "timestamp": 1026252447, "metainfo": ""}