{"sha": "6f71731bd29513cfb896b414b2822c97821b36df", "log": "Add a simple unit test", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/ser/TestJsonValue.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/ser/TestJsonValue.java\n         @JsonValue\n         public int value() { return 13; }\n     }\n+\n+    static class IntExtBean {\n+        public List<Internal> values = new ArrayList<Internal>();\n+        \n+        public void add(int v) { values.add(new Internal(v)); }\n+    }\n+    \n+    static class Internal {\n+        public int value;\n+        \n+        public Internal(int v) { value = v; }\n+        \n+        @JsonValue\n+        public External asExternal() { return new External(this); }\n+    }\n+    \n+    static class External {\n+        public int i;\n+        \n+        External(Internal e) { i = e.value; }\n+    }\n     \n     /*\n     /*********************************************************\n     public void testWithList() throws Exception {\n         assertEquals(\"13\", MAPPER.writeValueAsString(new ListAsNumber()));\n     }\n+\n+    public void testInList() throws Exception {\n+        IntExtBean bean = new IntExtBean();\n+        bean.add(1);\n+        bean.add(2);\n+        String json = MAPPER.writeValueAsString(bean);\n+        assertEquals(json, \"{\\\"values\\\":[{\\\"i\\\":1},{\\\"i\\\":2}]}\");\n+    }\n }", "timestamp": 1338563465, "metainfo": ""}