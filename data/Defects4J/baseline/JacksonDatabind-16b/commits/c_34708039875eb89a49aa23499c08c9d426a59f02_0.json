{"sha": "34708039875eb89a49aa23499c08c9d426a59f02", "log": "Backport #761 fix in 2.5(.3)", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/BeanDeserializerBuilder.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/BeanDeserializerBuilder.java\n         }\n         // also: type of the method must be compatible\n         Class<?> rawBuildType = _buildMethod.getRawReturnType();\n-        if (!valueType.getRawClass().isAssignableFrom(rawBuildType)) {\n+        Class<?> rawValueType = valueType.getRawClass();\n+        if ((rawBuildType != rawValueType)\n+                && !rawBuildType.isAssignableFrom(rawValueType)\n+                && !rawValueType.isAssignableFrom(rawBuildType)) {\n             throw new IllegalArgumentException(\"Build method '\"+_buildMethod.getFullName()\n-        \t\t\t+\" has bad return type (\"+rawBuildType.getName()\n-        \t\t\t+\"), not compatible with POJO type (\"+valueType.getRawClass().getName()+\")\");\n+                    +\" has bad return type (\"+rawBuildType.getName()\n+                    +\"), not compatible with POJO type (\"+valueType.getRawClass().getName()+\")\");\n         }\n         // And if so, we can try building the deserializer\n         Collection<SettableBeanProperty> props = _properties.values();", "timestamp": 1429648494, "metainfo": ""}