{"sha": "f9e01777cb8ae5fdf2d6618cc30f0231f6daf57d", "log": "fix [JACKSON-875]", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/databind/AnnotationIntrospector.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/AnnotationIntrospector.java\n      * @return Serialized enum value.\n      */\n     public String findEnumValue(Enum<?> value) {\n-        return null;\n+        // as per [JACKSON-875], should use default here\n+        return value.name();\n     }\n     /*\n     /**********************************************************\n--- a/src/main/java/com/fasterxml/jackson/databind/introspect/JacksonAnnotationIntrospector.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/introspect/JacksonAnnotationIntrospector.java\n     /**********************************************************\n      */\n \n-    @Override\n-    public String findEnumValue(Enum<?> value)\n-    {\n-        return value.name();\n-    }\n+    // default impl is fine:\n+    //public String findEnumValue(Enum<?> value) { return value.name(); }\n     \n     /*\n     /**********************************************************\n--- a/src/test/java/com/fasterxml/jackson/databind/deser/TestConfig.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/deser/TestConfig.java\n         @JsonProperty(\"y\")\n             public void setX(int v) { value = v; }\n     }\n+\n+    enum Alpha { A, B, C; }\n     \n     /*\n     /**********************************************************\n         bean = m.readValue(\"{ \\\"x\\\" : 0 }\", AnnoBean.class);\n         assertEquals(0, bean.value);\n     }\n+\n+    // [JACKSON-875]\n+    public void testEnumsWhenDisabled() throws Exception\n+    {\n+        ObjectMapper m = new ObjectMapper();\n+        assertEquals(Alpha.B, m.readValue(quote(\"B\"), Alpha.class));\n+\n+        m = new ObjectMapper();\n+        m.configure(MapperFeature.USE_ANNOTATIONS, false);\n+        // should still use the basic name handling here\n+        assertEquals(Alpha.B, m.readValue(quote(\"B\"), Alpha.class));\n+    }\n }", "timestamp": 1352409730, "metainfo": ""}