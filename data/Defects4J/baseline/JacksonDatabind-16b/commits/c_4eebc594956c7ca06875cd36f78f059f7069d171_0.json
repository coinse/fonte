{"sha": "4eebc594956c7ca06875cd36f78f059f7069d171", "log": "Add a unit test to help verify 588", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/ser/TestMapSerialization.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/ser/TestMapSerialization.java\n     /**********************************************************\n      */\n \n-    final ObjectMapper MAPPER = objectMapper();\n+    final private ObjectMapper MAPPER = objectMapper();\n \n     public void testUsingObjectWriter() throws IOException\n     {\n--- /dev/null\n+++ b/src/test/java/com/fasterxml/jackson/failing/TestMapSerialization588.java\n+package com.fasterxml.jackson.failing;\n+\n+import java.io.IOException;\n+import java.util.LinkedHashMap;\n+import java.util.Map;\n+\n+import com.fasterxml.jackson.annotation.JsonInclude;\n+import com.fasterxml.jackson.databind.*;\n+\n+public class TestMapSerialization588 extends BaseMapTest\n+{\n+    static class NoEmptiesMapContainer {\n+        @JsonInclude(value=JsonInclude.Include.NON_EMPTY,\n+                content=JsonInclude.Include.NON_EMPTY)\n+        public Map<String,String> stuff = new LinkedHashMap<String,String>();\n+        \n+        public NoEmptiesMapContainer add(String key, String value) {\n+            stuff.put(key, value);\n+            return this;\n+        }\n+    }\n+\n+    /*\n+    /**********************************************************\n+    /* Test methods\n+    /**********************************************************\n+     */\n+\n+    final private ObjectMapper MAPPER = objectMapper();\n+\n+    // [databind#588]\n+    public void testNonNullValueMapViaProp() throws IOException\n+    {\n+        String json = MAPPER.writeValueAsString(new NoEmptiesMapContainer()\n+            .add(\"a\", null)\n+            .add(\"b\", \"\"));\n+        assertEquals(aposToQuotes(\"{}\"), json);\n+    }\n+\n+}", "timestamp": 1413786237, "metainfo": ""}