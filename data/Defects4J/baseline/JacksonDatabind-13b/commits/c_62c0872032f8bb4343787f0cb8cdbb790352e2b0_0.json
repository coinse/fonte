{"sha": "62c0872032f8bb4343787f0cb8cdbb790352e2b0", "log": "Add a unit test for #626", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/module/TestSimpleModule.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/module/TestSimpleModule.java\n             assertNotNull(m);\n         }\n     }\n-    \n+\n+    static class TestModule626 extends SimpleModule {\n+        final Class<?> mixin, target;\n+        public TestModule626(Class<?> t, Class<?> m) {\n+            super(\"Test\");\n+            target = t;\n+            mixin = m;\n+        }\n+\n+        @Override\n+        public void setupModule(SetupContext context) {\n+            context.setMixInAnnotations(target, mixin);\n+        }\n+    }\n+\n     /*\n     /**********************************************************\n     /* Unit tests; first, verifying need for custom handlers\n             verifyException(e, \"No suitable constructor found\");\n         }\n     }\n-    \n+\n     /*\n     /**********************************************************\n     /* Unit tests; simple serializers\n     /**********************************************************\n      */\n-    \n+\n     public void testSimpleBeanSerializer() throws Exception\n     {\n         ObjectMapper mapper = new ObjectMapper();\n         ObjectMapper mapper = new ObjectMapper();\n         mapper.registerModule(module);\n     }\n+\n+    // [databind#626]\n+    public void testMixIns626() throws Exception\n+    {\n+        ObjectMapper mapper = new ObjectMapper();\n+        // no real annotations, but nominally add ones from 'String' to 'Object', just for testing\n+        mapper.registerModule(new TestModule626(Object.class, String.class));\n+        Class<?> found = mapper.findMixInClassFor(Object.class);\n+        assertEquals(String.class, found);\n+    }\n }\n-", "timestamp": 1416630559, "metainfo": ""}