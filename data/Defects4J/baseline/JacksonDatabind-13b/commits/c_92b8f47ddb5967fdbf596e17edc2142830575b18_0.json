{"sha": "92b8f47ddb5967fdbf596e17edc2142830575b18", "log": "Add a unit test...", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/introspect/TestAnnotionBundles.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/introspect/TestAnnotionBundles.java\n import java.lang.annotation.RetentionPolicy;\n \n import com.fasterxml.jackson.annotation.*;\n+import com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility;\n import com.fasterxml.jackson.databind.ObjectMapper;\n \n /* Tests mostly for [JACKSON-754]: ability to create \"annotation bundles\"\n         @MyRename\n         public int renamed = 13;\n     }\n+\n+    @Retention(RetentionPolicy.RUNTIME)\n+    @JsonAutoDetect(fieldVisibility=Visibility.NONE,\n+            getterVisibility=Visibility.NONE, isGetterVisibility=Visibility.NONE)\n+    @JacksonAnnotationsInside\n+    public @interface JsonAutoDetectOff {}\n+\n+    @JsonAutoDetectOff\n+    public class NoAutoDetect {\n+      public int getA() { return 13; }\n+      \n+      @JsonProperty\n+      public int getB() { return 5; }\n+    }\n     \n     /*\n     /**********************************************************\n     /**********************************************************\n      */\n \n-    private final ObjectMapper mapper = new ObjectMapper();\n+    private final ObjectMapper MAPPER = new ObjectMapper();\n     \n     public void testBundledIgnore() throws Exception\n     {\n-        assertEquals(\"{\\\"foobar\\\":13}\", mapper.writeValueAsString(new Bean()));\n+        assertEquals(\"{\\\"foobar\\\":13}\", MAPPER.writeValueAsString(new Bean()));\n     }\n+\n+    public void testVisibilityBundle() throws Exception\n+    {\n+        assertEquals(\"{\\\"b\\\":5}\", MAPPER.writeValueAsString(new NoAutoDetect()));\n+    }\n+    \n }", "timestamp": 1334642122, "metainfo": ""}