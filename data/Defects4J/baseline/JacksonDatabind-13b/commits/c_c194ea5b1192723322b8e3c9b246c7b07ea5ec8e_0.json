{"sha": "c194ea5b1192723322b8e3c9b246c7b07ea5ec8e", "log": "Add a (failing) test for #660", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/creators/SingleArgCreatorTest.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/creators/SingleArgCreatorTest.java\n         }\n     }\n \n+    // [databind#660]\n+    static class ExplicitFactoryBean1 {\n+        private String value;\n+\n+        private ExplicitFactoryBean1(String str) {\n+            value = null;\n+        }\n+\n+        private ExplicitFactoryBean1(String str, boolean b) {\n+            value = str;\n+        }\n+\n+        @JsonCreator\n+        public ExplicitFactoryBean1 create(String str) {\n+            ExplicitFactoryBean1 bean = new ExplicitFactoryBean1(str, false);\n+            bean.value = str;\n+            return bean;\n+        }\n+\n+        public String value() { return value; }\n+    }\n+\n+    // [databind#660]\n+    static class ExplicitFactoryBean2 {\n+        private String value;\n+\n+        @JsonCreator\n+        private ExplicitFactoryBean2(String str) {\n+            value = null;\n+        }\n+\n+        public static ExplicitFactoryBean2 valueOf(String str) {\n+            return new ExplicitFactoryBean2(null);\n+        }\n+\n+        public String value() { return value; }\n+    }\n+    \n     /*\n     /**********************************************************\n     /* Test methods\n                 SingleNamedButStillDelegating.class);\n         assertEquals(\"xyz\", bean.value);\n     }\n+\n+    public void testExplicitFactory660() throws Exception\n+    {\n+        // First, explicit override for factory\n+        ExplicitFactoryBean1 bean = MAPPER.readValue(quote(\"abc\"), ExplicitFactoryBean1.class);\n+        assertNotNull(bean);\n+        assertEquals(\"abc\", bean.value());\n+\n+        // and then one for private constructor\n+        ExplicitFactoryBean2 bean2 = MAPPER.readValue(quote(\"def\"), ExplicitFactoryBean2.class);\n+        assertNotNull(bean2);\n+        assertEquals(\"def\", bean2.value());\n+    }\n }\n ", "timestamp": 1419320164, "metainfo": ""}