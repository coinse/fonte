{"sha": "bff35ba8b70ca9e7762ce2a790ba7d973ca0c645", "log": "Add a (failing) test for #700: most likely can only fix in 2.6", "commit": "\n--- a/src/test/java/com/fasterxml/jackson/databind/module/TestAbstractTypes.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/module/TestAbstractTypes.java\n         assertEquals(LinkedList.class, result.getClass());\n     }\n \n-    public void testMapDefaulting() throws Exception\n+    public void testMapDefaultingBasic() throws Exception\n     {\n         ObjectMapper mapper = new ObjectMapper();\n         SimpleModule mod = new SimpleModule(\"test\", Version.unknownVersion());\n         Map<?,?> result = mapper.readValue(\"{}\", Map.class);\n         assertEquals(TreeMap.class, result.getClass());\n     }\n-    \n+\n+    /* 11-Feb-2015, tatu: too tricky to fix in 2.5.x; move to 2.6\n+    // [databind#700]\n+    public void testMapDefaultingRecursive() throws Exception\n+    {\n+        ObjectMapper mapper = new ObjectMapper();\n+        SimpleModule mod = new SimpleModule(\"test\", Version.unknownVersion());\n+        // default is HashMap, so:\n+        mod.addAbstractTypeMapping(Map.class, TreeMap.class);\n+        mapper.registerModule(mod);\n+        Object result = mapper.readValue(\"[ {} ]\", Object.class);\n+        assertEquals(ArrayList.class, result.getClass());\n+        Object v = ((List<?>) result).get(0);\n+        assertNotNull(v);\n+        assertEquals(TreeMap.class, v.getClass());\n+    }\n+    */\n+\n     public void testInterfaceDefaulting() throws Exception\n     {\n         ObjectMapper mapper = new ObjectMapper();", "timestamp": 1423697894, "metainfo": ""}