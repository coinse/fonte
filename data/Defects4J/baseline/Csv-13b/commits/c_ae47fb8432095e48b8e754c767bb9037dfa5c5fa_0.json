{"sha": "ae47fb8432095e48b8e754c767bb9037dfa5c5fa", "log": "CSVFormat.validate() throws IllegalStateException instead of IllegalArgumentException because the method validates the state of the object.  ", "commit": "\n--- a/src/main/java/org/apache/commons/csv/CSVFormat.java\n+++ b/src/main/java/org/apache/commons/csv/CSVFormat.java\n     }\n \n     /**\n-     * Verifies the consistency of the parameters and throws an IllegalArgumentException if necessary.\n-     */\n-    void validate() throws IllegalArgumentException {\n+     * Verifies the consistency of the parameters and throws an IllegalStateException if necessary.\n+     * \n+     * @throws IllegalStateException\n+     */\n+    void validate() throws IllegalStateException {\n         if (delimiter == encapsulator) {\n-            throw new IllegalArgumentException(\"The encapsulator character and the delimiter cannot be the same ('\" + encapsulator + \")\");\n+            throw new IllegalStateException(\"The encapsulator character and the delimiter cannot be the same ('\" + encapsulator + \")\");\n         }\n \n         if (delimiter == escape) {\n-            throw new IllegalArgumentException(\"The escape character and the delimiter cannot be the same ('\" + escape + \"')\");\n+            throw new IllegalStateException(\"The escape character and the delimiter cannot be the same ('\" + escape + \"')\");\n         }\n \n         if (delimiter == commentStart) {\n-            throw new IllegalArgumentException(\"The comment start character and the delimiter cannot be the same ('\" + commentStart + \n+            throw new IllegalStateException(\"The comment start character and the delimiter cannot be the same ('\" + commentStart + \n                     \"')\");\n         }\n \n         if (encapsulator != null && encapsulator == commentStart) {\n-            throw new IllegalArgumentException(\"The comment start character and the encapsulator cannot be the same ('\" + commentStart + \n+            throw new IllegalStateException(\"The comment start character and the encapsulator cannot be the same ('\" + commentStart + \n                     \"')\");\n         }\n \n         if (escape != null && escape == commentStart) {\n-            throw new IllegalArgumentException(\"The comment start and the escape character cannot be the same ('\" + commentStart + \"')\");\n+            throw new IllegalStateException(\"The comment start and the escape character cannot be the same ('\" + commentStart + \"')\");\n         }\n     }\n \n--- a/src/test/java/org/apache/commons/csv/CSVFormatTest.java\n+++ b/src/test/java/org/apache/commons/csv/CSVFormatTest.java\n         try {\n             format.withDelimiter('!').withEscape('!').validate();\n             fail();\n-        } catch (final IllegalArgumentException e) {\n+        } catch (final IllegalStateException e) {\n             // expected\n         }\n \n         try {\n             format.withDelimiter('!').withCommentStart('!').validate();\n             fail();\n-        } catch (final IllegalArgumentException e) {\n+        } catch (final IllegalStateException e) {\n             // expected\n         }\n \n         try {\n             format.withEncapsulator('!').withCommentStart('!').validate();\n             fail();\n-        } catch (final IllegalArgumentException e) {\n+        } catch (final IllegalStateException e) {\n             // expected\n         }\n \n         try {\n             format.withEscape('!').withCommentStart('!').validate();\n             fail();\n-        } catch (final IllegalArgumentException e) {\n+        } catch (final IllegalStateException e) {\n             // expected\n         }\n \n         try {\n             format.withEncapsulator('!').withDelimiter('!').validate();\n             fail();\n-        } catch (final IllegalArgumentException e) {\n+        } catch (final IllegalStateException e) {\n             // expected\n         }\n     }", "timestamp": 1350144524, "metainfo": ""}