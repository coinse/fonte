{"sha": "bfa5aecfc3de90af06af51741d48c4cc0579f92e", "log": "Fix [JACKSON-794] for 2.0.0 as well", "commit": "\n--- a/src/main/java/com/fasterxml/jackson/databind/deser/BeanDeserializerFactory.java\n+++ b/src/main/java/com/fasterxml/jackson/databind/deser/BeanDeserializerFactory.java\n \n         // And also need to ignore \"localizedMessage\"\n         builder.addIgnorable(\"localizedMessage\");\n+        // [JACKSON-794]: JDK 7 also added \"getSuppressed\", skip if we have such data:\n+        builder.addIgnorable(\"suppressed\");\n         /* As well as \"message\": it will be passed via constructor,\n          * as there's no 'setMessage()' method\n         */\n--- a/src/test/java/com/fasterxml/jackson/databind/deser/TestExceptionDeserialization.java\n+++ b/src/test/java/com/fasterxml/jackson/databind/deser/TestExceptionDeserialization.java\n     /**********************************************************\n      */\n \n+    final ObjectMapper MAPPER = new ObjectMapper();\n+    \n     public void testIOException() throws IOException\n     {\n-        ObjectMapper mapper = new ObjectMapper();\n         IOException ioe = new IOException(\"TEST\");\n-        String json = mapper.writeValueAsString(ioe);\n-        IOException result = mapper.readValue(json, IOException.class);\n+        String json = MAPPER.writeValueAsString(ioe);\n+        IOException result = MAPPER.readValue(json, IOException.class);\n         assertEquals(ioe.getMessage(), result.getMessage());\n     }\n \n     public void testWithCreator() throws IOException\n     {\n         final String MSG = \"the message\";\n-        ObjectMapper mapper = new ObjectMapper();\n-        String json = mapper.writeValueAsString(new MyException(MSG, 3));\n+        String json = MAPPER.writeValueAsString(new MyException(MSG, 3));\n \n-        MyException result = mapper.readValue(json, MyException.class);\n+        MyException result = MAPPER.readValue(json, MyException.class);\n         assertEquals(MSG, result.getMessage());\n         assertEquals(3, result.value);\n         assertEquals(1, result.stuff.size());\n     // [JACKSON-388]\n     public void testWithNullMessage() throws IOException\n     {\n-        ObjectMapper mapper = new ObjectMapper();\n+        final ObjectMapper mapper = new ObjectMapper();\n         mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n         String json = mapper.writeValueAsString(new IOException((String) null));\n         IOException result = mapper.readValue(json, IOException.class);\n \n     public void testNoArgsException() throws IOException\n     {\n-        ObjectMapper mapper = new ObjectMapper();\n-        MyNoArgException exc = mapper.readValue(\"{}\", MyNoArgException.class);\n+        MyNoArgException exc = MAPPER.readValue(\"{}\", MyNoArgException.class);\n+        assertNotNull(exc);\n+    }\n+\n+    // [JACKSON-794]: try simulating JDK 7 behavior\n+    public void testJDK7SuppressionProperty() throws IOException\n+    {\n+        Exception exc = MAPPER.readValue(\"{\\\"suppressed\\\":[]}\", IOException.class);\n         assertNotNull(exc);\n     }\n }", "timestamp": 1330821483, "metainfo": ""}