{"sha": "5dab7a2379aaa7141c6c4e8306a139a6b8dd3ada", "log": "Improved file read time", "commit": "\n--- a/src/main/java/org/jsoup/helper/DataUtil.java\n+++ b/src/main/java/org/jsoup/helper/DataUtil.java\n      * @throws IOException on IO error\n      */\n     public static Document load(File in, String charsetName, String baseUri) throws IOException {\n-        FileInputStream inStream = null;\n-        try {\n-            inStream = new FileInputStream(in);\n-            ByteBuffer byteData = readToByteBuffer(inStream);\n-            return parseByteData(byteData, charsetName, baseUri, Parser.htmlParser());\n-        } finally {\n-            if (inStream != null)\n-                inStream.close();\n-        }\n+        ByteBuffer byteData = readFileToByteBuffer(in);\n+        return parseByteData(byteData, charsetName, baseUri, Parser.htmlParser());\n     }\n \n     /**\n         return readToByteBuffer(inStream, 0);\n     }\n \n+    static ByteBuffer readFileToByteBuffer(File file) throws IOException {\n+        RandomAccessFile randomAccessFile = null;\n+        try {\n+            randomAccessFile = new RandomAccessFile(file, \"r\");\n+            byte[] bytes = new byte[(int) randomAccessFile.length()];\n+            randomAccessFile.readFully(bytes);\n+            return ByteBuffer.wrap(bytes);\n+        } finally {\n+            if (randomAccessFile != null)\n+                randomAccessFile.close();\n+        }\n+    }\n+\n     /**\n      * Parse out a charset from a content type header. If the charset is not supported, returns null (so the default\n      * will kick in.)", "timestamp": 1384797059, "metainfo": ""}