{"sha": "cccfd4a962dd14129a3a6d6f3c338753d1bfed03", "log": "Addressed the issue with expressions like @name=\"a:b:c\". @name uses QName to hold the value. The QName() constructor would validate the string to see that it follow the QName standard.  That validation is gone now. The expression compiler performs this validation where it matters anyway.   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/ri/QName.java\n+++ b/src/java/org/apache/commons/jxpath/ri/QName.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/QName.java,v 1.6 2003/03/11 00:59:19 dmitri Exp $\n- * $Revision: 1.6 $\n- * $Date: 2003/03/11 00:59:19 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/ri/QName.java,v 1.7 2003/08/24 03:46:01 dmitri Exp $\n+ * $Revision: 1.7 $\n+ * $Date: 2003/08/24 03:46:01 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * and an local name.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.6 $ $Date: 2003/03/11 00:59:19 $\n+ * @version $Revision: 1.7 $ $Date: 2003/08/24 03:46:01 $\n  */\n public class QName {\n     private String prefix;\n     }\n \n     public QName(String prefix, String localName) {\n-        if (localName.indexOf(':') != -1) {\n-            throw new JXPathException(\n-                \"The 'localName' part of a QName cannot contain colons\");\n-        }\n         this.prefix = prefix;\n         this.name = localName;\n     }\n--- a/src/test/org/apache/commons/jxpath/ri/model/dynamic/DynamicPropertiesModelTest.java\n+++ b/src/test/org/apache/commons/jxpath/ri/model/dynamic/DynamicPropertiesModelTest.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/test/org/apache/commons/jxpath/ri/model/dynamic/DynamicPropertiesModelTest.java,v 1.4 2003/05/06 02:13:27 dmitri Exp $\n- * $Revision: 1.4 $\n- * $Date: 2003/05/06 02:13:27 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/test/org/apache/commons/jxpath/ri/model/dynamic/DynamicPropertiesModelTest.java,v 1.5 2003/08/24 03:46:01 dmitri Exp $\n+ * $Revision: 1.5 $\n+ * $Date: 2003/08/24 03:46:01 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n  * @todo more iterator testing with maps\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.4 $ $Date: 2003/05/06 02:13:27 $\n+ * @version $Revision: 1.5 $ $Date: 2003/08/24 03:46:01 $\n  */\n \n public class DynamicPropertiesModelTest extends JXPathTestCase {\n             context,\n             \"/.[@name='map'][@name='Key2'][@name='name']\",\n             \"/map[@name='Key2']/name\");\n+                        \n+        ((Map)context.getValue(\"map\")).put(\"Key:3\", \"value3\");\n+        \n+        assertXPathValueAndPointer(\n+            context,\n+            \"/map[@name='Key:3']\",\n+            \"value3\",\n+            \"/map[@name='Key:3']\");\n+\n+        assertXPathValueAndPointer(\n+            context,\n+            \"/map[@name='Key:4:5']\",\n+            null,\n+            \"/map[@name='Key:4:5']\");\n     }\n \n     public void testSetPrimitiveValue() {", "timestamp": 1061696761, "metainfo": ""}