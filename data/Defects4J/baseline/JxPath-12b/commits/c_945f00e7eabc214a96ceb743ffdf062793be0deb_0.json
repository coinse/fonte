{"sha": "945f00e7eabc214a96ceb743ffdf062793be0deb", "log": "Added selectNodes and selectSingleNode methods   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/JXPathContext.java\n+++ b/src/java/org/apache/commons/jxpath/JXPathContext.java\n package org.apache.commons.jxpath;\n \n import java.text.DecimalFormatSymbols;\n+import java.util.ArrayList;\n import java.util.HashMap;\n import java.util.Iterator;\n+import java.util.List;\n import java.util.Locale;\n \n /**\n  *\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.24 $ $Date: 2004/04/04 23:16:23 $\n+ * @version $Revision: 1.25 $ $Date: 2004/06/29 21:15:46 $\n  */\n public abstract class JXPathContext {\n     protected JXPathContext parentContext;\n     protected abstract CompiledExpression compilePath(String xpath);\n \n     /**\n+\t * Finds the first object that matches the specified XPath. It is equivalent\n+\t * to <code>getPointer(xpath).getNode()</code>. Note, that this method\n+\t * produces the same result as <code>getValue()</code> on object models\n+\t * like JavaBeans, but a different result for DOM/JDOM etc., because it\n+\t * returns the Node itself, rather than its textual contents.\n+\t * \n+\t * @param xpath the xpath to be evaluated\n+\t * @return the found object\n+\t */\n+    public Object selectSingleNode(String xpath) {\n+    \tPointer pointer = getPointer(xpath);\n+    \tif (pointer == null) {\n+    \t\treturn null;\n+    \t}\n+\t\treturn pointer.getNode();\n+    }\n+    \n+    /**\n+     * Finds all nodes that match the specified XPath. \n+     *   \n+     * @param xpath the xpath to be evaluated\n+     * @return a list of found objects\n+     */\n+    public List selectNodes(String xpath) {\n+    \tArrayList list = new ArrayList();\n+    \tIterator iterator = iteratePointers(xpath);\n+    \twhile (iterator.hasNext()) {\n+\t\t\tPointer pointer = (Pointer) iterator.next();\n+\t\t\tlist.add(pointer.getNode());\n+\t\t}\n+\t\treturn list;\n+    }\n+    \n+    /**\n      * Evaluates the xpath and returns the resulting object. Primitive\n      * types are wrapped into objects.\n      */", "timestamp": 1088543746, "metainfo": ""}