{"sha": "2039bf3ac4ac5a777e0ac7cf453eff025b7f3417", "log": "Now using parser APIs instead of transformer   ", "commit": "\n--- a/src/java/org/apache/commons/jxpath/XMLDocumentContainer.java\n+++ b/src/java/org/apache/commons/jxpath/XMLDocumentContainer.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/XMLDocumentContainer.java,v 1.4 2002/04/26 03:28:36 dmitri Exp $\n- * $Revision: 1.4 $\n- * $Date: 2002/04/26 03:28:36 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//jxpath/src/java/org/apache/commons/jxpath/XMLDocumentContainer.java,v 1.5 2002/06/08 22:46:11 dmitri Exp $\n+ * $Revision: 1.5 $\n+ * $Date: 2002/06/08 22:46:11 $\n  *\n  * ====================================================================\n  * The Apache Software License, Version 1.1\n import java.io.InputStream;\n import java.net.URL;\n \n+import javax.xml.parsers.DocumentBuilderFactory;\n import javax.xml.transform.Source;\n import javax.xml.transform.Transformer;\n import javax.xml.transform.TransformerFactory;\n  * read at all.\n  *\n  * @author Dmitri Plotnikov\n- * @version $Revision: 1.4 $ $Date: 2002/04/26 03:28:36 $\n+ * @version $Revision: 1.5 $ $Date: 2002/06/08 22:46:11 $\n  */\n public class XMLDocumentContainer implements Container {\n \n                 try {\n                     if (xmlURL != null){\n                         stream = xmlURL.openStream();\n-                        source = new StreamSource(stream);\n                     }\n-                    DOMResult result = new DOMResult();\n-                    Transformer trans = TransformerFactory.newInstance().newTransformer();\n-                    trans.transform(source, result);\n-                    document = (Document) result.getNode();\n+                    if (stream != null){\n+                        DocumentBuilderFactory factory =\n+                                DocumentBuilderFactory.newInstance();\n+                        document = factory.newDocumentBuilder().parse(stream);\n+                    }\n+                    else {\n+                        if (xmlURL != null){\n+                            source = new StreamSource(stream);\n+                        }\n+                        DOMResult result = new DOMResult();\n+                        Transformer trans = TransformerFactory.newInstance().newTransformer();\n+                        trans.transform(source, result);\n+                        document = (Document) result.getNode();\n+                    }\n                 }\n                 finally {\n                     if (stream != null){", "timestamp": 1023576371, "metainfo": ""}