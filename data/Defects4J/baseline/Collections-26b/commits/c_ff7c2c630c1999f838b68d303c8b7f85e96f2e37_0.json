{"sha": "ff7c2c630c1999f838b68d303c8b7f85e96f2e37", "log": "added compatibility tests   ", "commit": "\n--- a/src/test/org/apache/commons/collections/TestList.java\n+++ b/src/test/org/apache/commons/collections/TestList.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/Attic/TestList.java,v 1.7 2002/02/26 17:32:20 morgand Exp $\n- * $Revision: 1.7 $\n- * $Date: 2002/02/26 17:32:20 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/Attic/TestList.java,v 1.8 2002/02/26 18:45:46 morgand Exp $\n+ * $Revision: 1.8 $\n+ * $Date: 2002/02/26 18:45:46 $\n  *\n  * ====================================================================\n  *\n  * test case (method) your {@link List} fails.\n  *\n  * @author Rodney Waldhoff\n- * @version $Id: TestList.java,v 1.7 2002/02/26 17:32:20 morgand Exp $\n+ * @version $Id: TestList.java,v 1.8 2002/02/26 18:45:46 morgand Exp $\n  */\n public abstract class TestList extends TestCollection {\n     public TestList(String testName) {\n         assertEquals(\"Both lists are same size\",list2.size(),4);\n     }\n \n+    /**\n+     * Compare the current serialized form of the List\n+     * against the canonical version in CVS.\n+     */\n+    public void testEmptyListCompatibility() throws IOException, ClassNotFoundException {\n+        /**\n+         * Create canonical objects with this code\n+        List list = makeEmptyList();\n+        if (!(list instanceof Serializable)) return;\n+        \n+        writeExternalFormToDisk((Serializable) list, getCanonicalEmptyCollectionName(list));\n+        */\n+\n+        // test to make sure the canonical form has been preserved\n+        if (!(makeEmptyList() instanceof Serializable)) return;\n+        List list = (List) readExternalFormFromDisk(getCanonicalEmptyCollectionName(makeEmptyList()));\n+        assertTrue(\"List is empty\",list.size()  == 0);\n+    }\n+\n+        /**\n+     * Compare the current serialized form of the List\n+     * against the canonical version in CVS.\n+     */\n+    public void testFullListCompatibility() throws IOException, ClassNotFoundException {\n+        /**\n+         * Create canonical objects with this code\n+        List list = makeFullList();\n+        if (!(list instanceof Serializable)) return;\n+        \n+        writeExternalFormToDisk((Serializable) list, getCanonicalFullCollectionName(list));\n+        */\n+\n+        // test to make sure the canonical form has been preserved\n+        if (!(makeFullList() instanceof Serializable)) return;\n+        List list = (List) readExternalFormFromDisk(getCanonicalFullCollectionName(makeFullList()));\n+        assertEquals(\"List is the right size\",list.size(), 4);\n+    }\n+\n }", "timestamp": 1014749146, "metainfo": ""}