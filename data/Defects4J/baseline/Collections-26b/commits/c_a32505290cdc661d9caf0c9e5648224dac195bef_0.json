{"sha": "a32505290cdc661d9caf0c9e5648224dac195bef", "log": "Fix tests for sub map views so BidiMap tests still work   ", "commit": "\n--- a/src/test/org/apache/commons/collections/map/AbstractTestMap.java\n+++ b/src/test/org/apache/commons/collections/map/AbstractTestMap.java\n  * @author Rodney Waldhoff\n  * @author Paul Jack\n  * @author Stephen Colebourne\n- * @version $Revision: 1.11 $ $Date: 2004/04/09 14:45:38 $\n+ * @version $Revision: 1.12 $ $Date: 2004/04/09 15:04:29 $\n  */\n public abstract class AbstractTestMap extends AbstractTestObject {\n \n      */\n     public boolean isGetStructuralModify() {\n         return false;\n+    }\n+\n+    /**\n+     * Returns whether the sub map views of SortedMap are serializable.\n+     * If the class being tested is based around a TreeMap then you should\n+     * override and return false as TreeMap has a bug in deserialization.\n+     * \n+     * @return false\n+     */\n+    public boolean isSubMapViewsSerializable() {\n+        return true;\n     }\n \n     /**\n--- a/src/test/org/apache/commons/collections/map/AbstractTestSortedMap.java\n+++ b/src/test/org/apache/commons/collections/map/AbstractTestSortedMap.java\n /**\n  * Abstract test class for {@link java.util.SortedMap} methods and contracts.\n  *\n- * @version $Revision: 1.6 $ $Date: 2004/04/09 09:38:31 $\n+ * @version $Revision: 1.7 $ $Date: 2004/04/09 15:04:29 $\n  * \n  * @author Stephen Colebourne\n  */\n     \n     //-----------------------------------------------------------------------\n     /**\n-     * Returns whether the sub map views are serializable.\n-     * If the class being tested is based around a TreeMap then you should\n-     * override and return false as TreeMap has a bug in deserialization.\n-     * \n-     * @return false\n-     */\n-    public boolean isSubMapViewsSerializable() {\n-        return true;\n-    }\n-    \n-    /**\n      * Can't sort null keys.\n      * \n      * @return false\n             return false;\n         }\n         public void testSerializeDeserializeThenCompare() throws Exception {\n-            if (((AbstractTestSortedMap) main).isSubMapViewsSerializable() == false) return;\n+            if (main.isSubMapViewsSerializable() == false) return;\n             super.testSerializeDeserializeThenCompare();\n         }\n         public void testEmptyMapCompatibility() throws Exception {\n-            if (((AbstractTestSortedMap) main).isSubMapViewsSerializable() == false) return;\n+            if (main.isSubMapViewsSerializable() == false) return;\n             super.testEmptyMapCompatibility();\n         }\n         public void testFullMapCompatibility() throws Exception {\n-            if (((AbstractTestSortedMap) main).isSubMapViewsSerializable() == false) return;\n+            if (main.isSubMapViewsSerializable() == false) return;\n             super.testFullMapCompatibility();\n         }\n     }", "timestamp": 1081523069, "metainfo": ""}