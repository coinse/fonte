{"sha": "530049b41c9f42e11144fbad4d1fec65ff0956e9", "log": "Backed out ArrayIterator change to use reflection rather than use Object[]   ", "commit": "\n--- a/src/java/org/apache/commons/collections/ArrayIterator.java\n+++ b/src/java/org/apache/commons/collections/ArrayIterator.java\n  */\n package org.apache.commons.collections;\n \n-import java.lang.reflect.Array;\n import java.util.Iterator;\n import java.util.NoSuchElementException;\n \n   * @author <a href=\"mailto:jstrachan@apache.org\">James Strachan</a>\n   * @author Mauricio S. Moura\n   * @\n-  * @version $Revision: 1.4 $\n+  * @version $Revision: 1.5 $\n   */\n public class ArrayIterator implements Iterator {\n     \n-    private Object array;\n+    private Object[] array;\n     private int index = 0;\n   \n     \n     public ArrayIterator() {\n     }\n     \n-    public ArrayIterator(Object array) {\n+    public ArrayIterator(Object[] array) {\n         this.array = array;\n     }\n \n     // Iterator interface\n     //-------------------------------------------------------------------------\n     public boolean hasNext() {\n-        return  index < Array.getLength( array );\n+        return  index < array.length;\n     }\n \n     public Object next() {\n         if(!hasNext()) {\n             throw new NoSuchElementException();\n         }\n-        return Array.get( array, index++ );\n+        return array[ index++ ];\n     }\n \n     public void remove() {\n \n     // Properties\n     //-------------------------------------------------------------------------\n-    public Object getArray() {\n+    public Object[] getArray() {\n         return array;\n     }\n     \n-    public void setArray( Object array ) {\n+    public void setArray( Object[] array ) {\n         this.array = array;\n         this.index = -1;\n     }\n--- a/src/test/org/apache/commons/collections/TestArrayIterator.java\n+++ b/src/test/org/apache/commons/collections/TestArrayIterator.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/Attic/TestArrayIterator.java,v 1.3 2001/07/14 23:33:26 craigmcc Exp $\n- * $Revision: 1.3 $\n- * $Date: 2001/07/14 23:33:26 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/Attic/TestArrayIterator.java,v 1.4 2001/08/23 10:50:01 jstrachan Exp $\n+ * $Revision: 1.4 $\n+ * $Date: 2001/08/23 10:50:01 $\n  *\n  * ====================================================================\n  *\n  *\n  * @author James Strachan\n  * @author Mauricio S. Moura\n- * @version $Id: TestArrayIterator.java,v 1.3 2001/07/14 23:33:26 craigmcc Exp $\n+ * @version $Id: TestArrayIterator.java,v 1.4 2001/08/23 10:50:01 jstrachan Exp $\n  */\n public class TestArrayIterator extends TestObject {\n     \n      * Return a new, empty {@link Object} to used for testing.\n      */\n     public Object makeObject() {\n-        return new ArrayIterator(testArray);\n+        return new ArrayIterator( (Object[]) testArray );\n     }\n     \n     public void testIterator() {", "timestamp": 998563801, "metainfo": ""}