{"sha": "137114ee9f51c1af4fa20aa20806fd513f51323d", "log": "Test cloning of maps works correctly bug 27159, identified by Fabrizio Giustina   ", "commit": "\n--- a/src/test/org/apache/commons/collections/map/TestCaseInsensitiveMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestCaseInsensitiveMap.java\n /**\n  * Tests for the {@link CaseInsensitiveMap} implementation.\n  * \n- * @version $Revision: 1.3 $ $Date: 2004/02/18 01:20:38 $\n+ * @version $Revision: 1.4 $ $Date: 2004/02/27 00:25:14 $\n  * \n  * @author Commons-Collections team\n  */\n         assertEquals(caseInsensitiveMap.get(null), \"Four\");\n     } \n \n+    public void testClone() {\n+        CaseInsensitiveMap map = new CaseInsensitiveMap(10);\n+        map.put(\"1\", \"1\");\n+        Map cloned = (Map) map.clone();\n+        assertEquals(map.size(), cloned.size());\n+        assertSame(map.get(\"1\"), cloned.get(\"1\"));\n+    }\n+    \n     /*\n     public void testCreate() throws Exception {\n         resetEmpty();\n--- a/src/test/org/apache/commons/collections/map/TestHashedMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestHashedMap.java\n /**\n  * JUnit tests.\n  * \n- * @version $Revision: 1.6 $ $Date: 2004/02/18 01:20:38 $\n+ * @version $Revision: 1.7 $ $Date: 2004/02/27 00:25:14 $\n  * \n  * @author Stephen Colebourne\n  */\n         return \"3\";\n     }\n \n+    public void testClone() {\n+        HashedMap map = new HashedMap(10);\n+        map.put(\"1\", \"1\");\n+        Map cloned = (Map) map.clone();\n+        assertEquals(map.size(), cloned.size());\n+        assertSame(map.get(\"1\"), cloned.get(\"1\"));\n+    }\n+    \n //    public void testCreate() throws Exception {\n //        resetEmpty();\n //        writeExternalFormToDisk((java.io.Serializable) map, \"D:/dev/collections/data/test/HashedMap.emptyCollection.version3.obj\");\n--- a/src/test/org/apache/commons/collections/map/TestIdentityMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestIdentityMap.java\n /**\n  * JUnit tests.\n  * \n- * @version $Revision: 1.6 $ $Date: 2004/02/18 01:20:38 $\n+ * @version $Revision: 1.7 $ $Date: 2004/02/27 00:25:14 $\n  * \n  * @author Stephen Colebourne\n  */\n         }\n     }\n \n+    public void testClone() {\n+        IdentityMap map = new IdentityMap(10);\n+        map.put(\"1\", \"1\");\n+        Map cloned = (Map) map.clone();\n+        assertEquals(map.size(), cloned.size());\n+        assertSame(map.get(\"1\"), cloned.get(\"1\"));\n+    }\n+    \n //    public void testCreate() throws Exception {\n //        Map map = new IdentityMap();\n //        writeExternalFormToDisk((java.io.Serializable) map, \"D:/dev/collections/data/test/IdentityMap.emptyCollection.version3.obj\");\n--- a/src/test/org/apache/commons/collections/map/TestLRUMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestLRUMap.java\n /**\n  * JUnit tests.\n  * \n- * @version $Revision: 1.5 $ $Date: 2004/02/18 01:20:38 $\n+ * @version $Revision: 1.6 $ $Date: 2004/02/27 00:25:14 $\n  * \n  * @author Stephen Colebourne\n  */\n         assertSame(values[3], it.next());\n     }\n     \n+    public void testClone() {\n+        LRUMap map = new LRUMap(10);\n+        map.put(\"1\", \"1\");\n+        Map cloned = (Map) map.clone();\n+        assertEquals(map.size(), cloned.size());\n+        assertSame(map.get(\"1\"), cloned.get(\"1\"));\n+    }\n+    \n //    public void testCreate() throws Exception {\n //        resetEmpty();\n //        writeExternalFormToDisk((java.io.Serializable) map, \"D:/dev/collections/data/test/LRUMap.emptyCollection.version3.obj\");\n--- a/src/test/org/apache/commons/collections/map/TestLinkedMap.java\n+++ b/src/test/org/apache/commons/collections/map/TestLinkedMap.java\n /**\n  * JUnit tests.\n  * \n- * @version $Revision: 1.6 $ $Date: 2004/02/18 01:20:38 $\n+ * @version $Revision: 1.7 $ $Date: 2004/02/27 00:25:14 $\n  * \n  * @author Stephen Colebourne\n  */\n \n     }\n \n+    public void testClone() {\n+        LinkedMap map = new LinkedMap(10);\n+        map.put(\"1\", \"1\");\n+        Map cloned = (Map) map.clone();\n+        assertEquals(map.size(), cloned.size());\n+        assertSame(map.get(\"1\"), cloned.get(\"1\"));\n+    }\n+    \n //    public void testCreate() throws Exception {\n //        resetEmpty();\n //        writeExternalFormToDisk((java.io.Serializable) map, \"D:/dev/collections/data/test/LinkedMap.emptyCollection.version3.obj\");", "timestamp": 1077841514, "metainfo": ""}