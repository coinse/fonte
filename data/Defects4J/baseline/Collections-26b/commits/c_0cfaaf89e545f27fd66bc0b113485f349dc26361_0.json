{"sha": "0cfaaf89e545f27fd66bc0b113485f349dc26361", "log": "Merging from -r468106:814127 of collections_jdk5_branch - namely where this code was generified; mostly in r738956.  Also see the following revisions:      ------------------------------------------------------------------------     r471579 | scolebourne | 2006-11-05 16:14:58 -0800 (Sun, 05 Nov 2006) | 1 line          Generify, remove getBuffer() - use covariant decorated()     ------------------------------------------------------------------------   ", "commit": "\n--- a/src/java/org/apache/commons/collections/buffer/SynchronizedBuffer.java\n+++ b/src/java/org/apache/commons/collections/buffer/SynchronizedBuffer.java\n  * <p>\n  * This class is Serializable from Commons Collections 3.1.\n  *\n+ * @param <E> the type of the elements in the buffer\n  * @since Commons Collections 3.0\n  * @version $Revision$ $Date$\n  *\n  * @author Stephen Colebourne\n  */\n-public class SynchronizedBuffer extends SynchronizedCollection implements Buffer {\n+public class SynchronizedBuffer<E>\n+        extends SynchronizedCollection<E>\n+        implements Buffer<E> {\n \n     /** Serialization version */\n     private static final long serialVersionUID = -6859936183953626253L;\n     /**\n      * Factory method to create a synchronized buffer.\n      * \n+     * @param <T> the type of the elements in the buffer\n      * @param buffer  the buffer to decorate, must not be null\n      * @return a new synchronized Buffer\n      * @throws IllegalArgumentException if buffer is null\n      */\n-    public static Buffer decorate(Buffer buffer) {\n-        return new SynchronizedBuffer(buffer);\n+    public static <T> Buffer<T> decorate(Buffer<T> buffer) {\n+        return new SynchronizedBuffer<T>(buffer);\n     }\n-    \n+\n     //-----------------------------------------------------------------------\n     /**\n      * Constructor that wraps (not copies).\n      * @param buffer  the buffer to decorate, must not be null\n      * @throws IllegalArgumentException if the buffer is null\n      */\n-    protected SynchronizedBuffer(Buffer buffer) {\n+    protected SynchronizedBuffer(Buffer<E> buffer) {\n         super(buffer);\n     }\n \n      * @param lock  the lock object to use, must not be null\n      * @throws IllegalArgumentException if the buffer is null\n      */\n-    protected SynchronizedBuffer(Buffer buffer, Object lock) {\n+    protected SynchronizedBuffer(Buffer<E> buffer, Object lock) {\n         super(buffer, lock);\n     }\n \n      * \n      * @return the decorated buffer\n      */\n-    protected Buffer getBuffer() {\n-        return (Buffer) collection;\n+    protected Buffer<E> decorated() {\n+        return (Buffer<E>) super.decorated();\n     }\n \n     //-----------------------------------------------------------------------\n-    public Object get() {\n+    public E get() {\n         synchronized (lock) {\n-            return getBuffer().get();\n+            return decorated().get();\n         }\n     }\n \n-    public Object remove() {\n+    public E remove() {\n         synchronized (lock) {\n-            return getBuffer().remove();\n+            return decorated().remove();\n         }\n     }\n-    \n+\n }", "timestamp": 1252994073, "metainfo": ""}