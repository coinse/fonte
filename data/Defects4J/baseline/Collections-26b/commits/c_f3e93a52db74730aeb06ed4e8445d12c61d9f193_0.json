{"sha": "f3e93a52db74730aeb06ed4e8445d12c61d9f193", "log": "[COLLECTIONS-408] improve performance of remove and removeAll methods, add missing javadoc. Thanks to Adrian Nistor for reporting.  ", "commit": "\n--- a/src/main/java/org/apache/commons/collections/list/SetUniqueList.java\n+++ b/src/main/java/org/apache/commons/collections/list/SetUniqueList.java\n      * If the list contains duplicates, these are removed (first indexed one kept).\n      * A <code>HashSet</code> is used for the set behaviour.\n      *\n-     * @param list  the list to decorate, must not be null\n+     * @param <E> the element type\n+     * @param list the list to decorate, must not be null\n+     * @return a new {@link SetUniqueList}\n      * @throws IllegalArgumentException if list is null\n      */\n     public static <E> SetUniqueList<E> setUniqueList(List<E> list) {\n \n     @Override\n     public boolean remove(Object object) {\n-        boolean result = super.remove(object);\n-        set.remove(object);\n+        boolean result = set.remove(object);\n+        if (result) {\n+            super.remove(object);\n+        }\n         return result;\n     }\n \n \n     @Override\n     public boolean removeAll(Collection<?> coll) {\n-        boolean result = super.removeAll(coll);\n-        set.removeAll(coll);\n+        boolean result = false;\n+        for (Iterator<?> it = coll.iterator(); it.hasNext();) {\n+            result |= remove(it.next());\n+        }\n         return result;\n     }\n \n         return new SetUniqueList<E>(superSubList, subSet);\n     }\n \n+    /**\n+     * Create a new {@link Set} with the same type as the provided {@code set}\n+     * and populate it with all elements of {@code list}.\n+     *\n+     * @param set the {@link Set} to be used as return type, must not be null\n+     * @param list the {@link List} to populate the {@link Set}\n+     * @return a new {@link Set} populated with all elements of the provided {@link List}\n+     */\n     @SuppressWarnings(\"unchecked\")\n     protected Set<E> createSetBasedOnList(Set<E> set, List<E> list) {\n         Set<E> subSet;", "timestamp": 1340133616, "metainfo": ""}