{"sha": "fe74db761c73a478c4e1c1c7e97efc6b98fe31c1", "log": "Remove map key collection when it becomes empty so equals works. from Serhiy Yevtushenko   ", "commit": "\n--- a/src/java/org/apache/commons/collections/MultiHashMap.java\n+++ b/src/java/org/apache/commons/collections/MultiHashMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/MultiHashMap.java,v 1.8 2002/11/24 19:36:48 scolebourne Exp $\n- * $Revision: 1.8 $\n- * $Date: 2002/11/24 19:36:48 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/java/org/apache/commons/collections/MultiHashMap.java,v 1.9 2002/11/24 20:25:55 scolebourne Exp $\n+ * $Revision: 1.9 $\n+ * $Date: 2002/11/24 20:25:55 $\n  *\n  * ====================================================================\n  *\n  * @author Steve Downey\n  * @author Stephen Colebourne\n  * @author <a href=\"mailto:jburet@yahoo.com\">Julien Buret</a>\n+ * @author Serhiy Yevtushenko\n  */\n public class MultiHashMap extends HashMap implements MultiMap {\n     // deprecated name concept\n             return null;\n         }\n         valuesForKey.remove(item);\n+\n+        // remove the list if it is now empty\n+        // (saves space, and allows equals to work)\n+        if (valuesForKey.isEmpty()){\n+            remove(key);\n+        }\n         return item;\n     }\n ", "timestamp": 1038169555, "metainfo": ""}