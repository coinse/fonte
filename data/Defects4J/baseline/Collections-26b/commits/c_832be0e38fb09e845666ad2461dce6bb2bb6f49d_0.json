{"sha": "832be0e38fb09e845666ad2461dce6bb2bb6f49d", "log": "added test to make sure that putAll(Map) operation obeys the maximum Map size   ", "commit": "\n--- a/src/test/org/apache/commons/collections/TestLRUMap.java\n+++ b/src/test/org/apache/commons/collections/TestLRUMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestLRUMap.java,v 1.4 2002/02/13 22:32:37 morgand Exp $\n- * $Revision: 1.4 $\n- * $Date: 2002/02/13 22:32:37 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestLRUMap.java,v 1.5 2002/02/13 23:55:41 morgand Exp $\n+ * $Revision: 1.5 $\n+ * $Date: 2002/02/13 23:55:41 $\n  *\n  * ====================================================================\n  *\n import java.util.HashMap;\n \n /**\n+ * \n  * @author <a href=\"mailto:jstrachan@apache.org\">James Strachan</a>\n- * @version $Id: TestLRUMap.java,v 1.4 2002/02/13 22:32:37 morgand Exp $\n+ * @author <a href=\"mailto:morgand@apache.org\">Morgan Delagrange</a>\n+ * @version $Id: TestLRUMap.java,v 1.5 2002/02/13 23:55:41 morgand Exp $\n  */\n public class TestLRUMap extends TestHashMap\n {\n         assertTrue(\"size of Map should be 3, but was \" + map2.size(), map2.size() == 3);\n     }\n \n+    /**\n+     * Confirm that putAll(Map) does not cause the LRUMap\n+     * to exceed its maxiumum size.\n+     */\n+    public void testPutAll() {\n+        LRUMap map2 = new LRUMap(3);\n+        map2.put(new Integer(1),\"foo\");\n+        map2.put(new Integer(2),\"foo\");\n+        map2.put(new Integer(3),\"foo\");\n+\n+        HashMap hashMap = new HashMap();\n+        hashMap.put(new Integer(4),\"foo\");\n+\n+        map2.putAll(hashMap);\n+\n+        assertTrue(\"max size is 3, but actual size is \" + map2.size(),\n+                   map2.size() == 3);\n+        assertTrue(\"map should contain the Integer(4) object\",\n+                   map2.containsKey(new Integer(4)));\n+    }\n+\n+\n }", "timestamp": 1013644541, "metainfo": ""}