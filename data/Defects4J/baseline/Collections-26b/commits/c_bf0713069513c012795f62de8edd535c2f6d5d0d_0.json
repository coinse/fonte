{"sha": "bf0713069513c012795f62de8edd535c2f6d5d0d", "log": "Merging from -r468106:814127 of collections_jdk5_branch - namely where this code was generified; mostly in r738956.  Also see the following revisions:      ------------------------------------------------------------------------     r555925 | skestle | 2007-07-13 03:39:24 -0700 (Fri, 13 Jul 2007) | 2 lines          Added Edwin Tellman's patch for COLLECTIONS-243.       It all seems pretty reasonable, and it should all be checked again as the project is worked through     ------------------------------------------------------------------------   ", "commit": "\n--- a/src/java/org/apache/commons/collections/bag/SynchronizedBag.java\n+++ b/src/java/org/apache/commons/collections/bag/SynchronizedBag.java\n  *\n  * @author Stephen Colebourne\n  */\n-public class SynchronizedBag\n-        extends SynchronizedCollection implements Bag {\n+public class SynchronizedBag<E>\n+        extends SynchronizedCollection<E> implements Bag<E> {\n \n     /** Serialization version */\n     private static final long serialVersionUID = 8084674570753837109L;\n      * @return a new synchronized Bag\n      * @throws IllegalArgumentException if bag is null\n      */\n-    public static Bag decorate(Bag bag) {\n-        return new SynchronizedBag(bag);\n+    public static <T> Bag<T> decorate(Bag<T> bag) {\n+        return new SynchronizedBag<T>(bag);\n     }\n     \n     //-----------------------------------------------------------------------\n      * @param bag  the bag to decorate, must not be null\n      * @throws IllegalArgumentException if bag is null\n      */\n-    protected SynchronizedBag(Bag bag) {\n+    protected SynchronizedBag(Bag<E> bag) {\n         super(bag);\n     }\n \n      * @param lock  the lock to use, must not be null\n      * @throws IllegalArgumentException if bag is null\n      */\n-    protected SynchronizedBag(Bag bag, Object lock) {\n+    protected SynchronizedBag(Bag<E> bag, Object lock) {\n         super(bag, lock);\n     }\n \n      * \n      * @return the decorated bag\n      */\n-    protected Bag getBag() {\n-        return (Bag) collection;\n+    protected Bag<E> getBag() {\n+        return (Bag<E>) collection;\n     }\n     \n     //-----------------------------------------------------------------------\n-    public boolean add(Object object, int count) {\n+    public boolean add(E object, int count) {\n         synchronized (lock) {\n             return getBag().add(object, count);\n         }\n         }\n     }\n \n-    public Set uniqueSet() {\n+    public Set<E> uniqueSet() {\n         synchronized (lock) {\n-            Set set = getBag().uniqueSet();\n+            Set<E> set = getBag().uniqueSet();\n             return new SynchronizedBagSet(set, lock);\n         }\n     }\n     /**\n      * Synchronized Set for the Bag class.\n      */\n-    class SynchronizedBagSet extends SynchronizedSet {\n+    class SynchronizedBagSet extends SynchronizedSet<E> {\n+        /** Serialization version */\n+        private static final long serialVersionUID = 2990565892366827855L;\n+\n         /**\n          * Constructor.\n          * @param set  the set to decorate\n          * @param lock  the lock to use, shared with the bag\n          */\n-        SynchronizedBagSet(Set set, Object lock) {\n+        SynchronizedBagSet(Set<E> set, Object lock) {\n             super(set, lock);\n         }\n     }", "timestamp": 1252994043, "metainfo": ""}