{"sha": "e71840e0bb7ddb9749fc1b59d4e71c4552ea8917", "log": "added unit test for LRUMap.removeLRU(), which needs fixing   ", "commit": "\n--- a/src/test/org/apache/commons/collections/TestAll.java\n+++ b/src/test/org/apache/commons/collections/TestAll.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestAll.java,v 1.14 2002/01/20 04:36:08 craigmcc Exp $\n- * $Revision: 1.14 $\n- * $Date: 2002/01/20 04:36:08 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestAll.java,v 1.15 2002/02/13 20:59:12 morgand Exp $\n+ * $Revision: 1.15 $\n+ * $Date: 2002/02/13 20:59:12 $\n  *\n  * ====================================================================\n  *\n /**\n  * Entry point for all Collections tests.\n  * @author Rodney Waldhoff\n- * @version $Id: TestAll.java,v 1.14 2002/01/20 04:36:08 craigmcc Exp $\n+ * @version $Id: TestAll.java,v 1.15 2002/02/13 20:59:12 morgand Exp $\n  */\n public class TestAll extends TestCase {\n     public TestAll(String testName) {\n         suite.addTest(TestTreeBag.suite());\n         suite.addTest(TestTreeMap.suite());\n         suite.addTest(TestDoubleOrderedMap.suite());\n+        suite.addTest(TestLRUMap.suite());\n         return suite;\n     }\n         \n--- a/src/test/org/apache/commons/collections/TestLRUMap.java\n+++ b/src/test/org/apache/commons/collections/TestLRUMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestLRUMap.java,v 1.1 2001/05/06 11:10:36 jstrachan Exp $\n- * $Revision: 1.1 $\n- * $Date: 2001/05/06 11:10:36 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/TestLRUMap.java,v 1.2 2002/02/13 20:59:12 morgand Exp $\n+ * $Revision: 1.2 $\n+ * $Date: 2002/02/13 20:59:12 $\n  *\n  * ====================================================================\n  *\n \n /**\n  * @author <a href=\"mailto:jstrachan@apache.org\">James Strachan</a>\n- * @version $Id: TestLRUMap.java,v 1.1 2001/05/06 11:10:36 jstrachan Exp $\n+ * @version $Id: TestLRUMap.java,v 1.2 2002/02/13 20:59:12 morgand Exp $\n  */\n public class TestLRUMap extends TestHashMap\n {\n         map = (HashMap) makeMap();\n     }\n \n+    public void testRemoveLRU() {\n+        LRUMap map2 = new LRUMap(4);\n+        map2.put(new Integer(1),\"foo\");\n+        map2.put(new Integer(2),\"foo\");\n+        map2.put(new Integer(3),\"foo\");\n+        map2.put(new Integer(4),\"foo\");\n+        map2.removeLRU();  // should be Integer(4)\n+\n+        assertTrue(\"Second to last value should exist\",map2.get(new Integer(3)).equals(\"foo\"));\n+        assertTrue(\"Last value inserted should not exist\", map2.get(new Integer(4)) == null);\n+    }\n+\n }", "timestamp": 1013633952, "metainfo": ""}