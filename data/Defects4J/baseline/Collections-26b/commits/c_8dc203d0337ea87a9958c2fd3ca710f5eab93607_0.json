{"sha": "8dc203d0337ea87a9958c2fd3ca710f5eab93607", "log": "unit test to reproduce a SequencedHashMap 1.3 bug   ", "commit": "\n--- a/src/test/org/apache/commons/collections/TestMap.java\n+++ b/src/test/org/apache/commons/collections/TestMap.java\n /*\n- * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/Attic/TestMap.java,v 1.5 2002/02/21 19:57:33 morgand Exp $\n- * $Revision: 1.5 $\n- * $Date: 2002/02/21 19:57:33 $\n+ * $Header: /home/jerenkrantz/tmp/commons/commons-convert/cvs/home/cvs/jakarta-commons//collections/src/test/org/apache/commons/collections/Attic/TestMap.java,v 1.6 2002/02/21 20:08:15 morgand Exp $\n+ * $Revision: 1.6 $\n+ * $Date: 2002/02/21 20:08:15 $\n  *\n  * ====================================================================\n  *\n  * test case (method) your {@link Map} fails.\n  *\n  * @author Rodney Waldhoff\n- * @version $Id: TestMap.java,v 1.5 2002/02/21 19:57:33 morgand Exp $\n+ * @version $Id: TestMap.java,v 1.6 2002/02/21 20:08:15 morgand Exp $\n  */\n public abstract class TestMap extends TestObject {\n     public TestMap(String testName) {\n \n     public void testEntrySetRemove() {\n \n-        if ((this instanceof TestMap.EntrySetSupportsRemove) == false) {\n+        if ((this instanceof TestMap.EntrySetSupportsRemove) == false ||\n+            (this instanceof TestMap.SupportsPut) == false) {\n             return;\n         }\n \n \n     }\n \n+    public void testEntrySetContains() {\n+\n+        if ((this instanceof TestMap.SupportsPut) == false) {\n+            return;\n+        }\n+\n+        Map map = makeMap();\n+        map.put(\"1\",\"1\");\n+        map.put(\"2\",\"2\");\n+        map.put(\"3\",\"3\");\n+\n+        Set set = map.entrySet();\n+        Object o = set.iterator().next();\n+        assertTrue(\"entry set should contain valid element\",set.contains(o));\n+\n+        // make a bogus entry\n+        DefaultMapEntry entry = new DefaultMapEntry(\"4\",\"4\");\n+        assertTrue(\"entry set should not contain a bogus element\",\n+                   set.contains(entry) == false);\n+        \n+\n+    }\n+\n     /*\n         // optional operation\n public void testMapClear() {", "timestamp": 1014322095, "metainfo": ""}