{"sha": "111e7b39de04177a37ab24d90c3fe8010a6ff0c2", "log": "Add isEqualsCheckable and fix testSerializeDeserializeThenCompare in Collection   ", "commit": "\n--- a/src/test/org/apache/commons/collections/collection/AbstractTestCollection.java\n+++ b/src/test/org/apache/commons/collections/collection/AbstractTestCollection.java\n  * you may still use this base set of cases.  Simply override the\n  * test case (method) your {@link Collection} fails.\n  *\n- * @version $Revision: 1.5 $ $Date: 2004/04/09 15:16:24 $\n+ * @version $Revision: 1.6 $ $Date: 2004/05/31 19:09:14 $\n  * \n  * @author Rodney Waldhoff\n  * @author Paul Jack\n      * The default implementation returns true;\n      */\n     public boolean isFailFastSupported() {\n+        return false;\n+    }\n+\n+    /**\n+     * Returns true to indicate that the collection supports equals() comparisons.\n+     * The default implementation returns false;\n+     */\n+    public boolean isEqualsCheckable() {\n         return false;\n     }\n \n             ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(buffer.toByteArray()));\n             Object dest = in.readObject();\n             in.close();\n-            assertEquals(\"obj != deserialize(serialize(obj)) - EMPTY Collection\", obj, dest);\n+            if (isEqualsCheckable()) {\n+                assertEquals(\"obj != deserialize(serialize(obj)) - EMPTY Collection\", obj, dest);\n+            }\n         }\n         obj = makeFullCollection();\n         if (obj instanceof Serializable) {\n             ObjectInputStream in = new ObjectInputStream(new ByteArrayInputStream(buffer.toByteArray()));\n             Object dest = in.readObject();\n             in.close();\n-            assertEquals(\"obj != deserialize(serialize(obj)) - FULL Collection\", obj, dest);\n-        }\n-    }\n+            if (isEqualsCheckable()) {\n+                assertEquals(\"obj != deserialize(serialize(obj)) - FULL Collection\", obj, dest);\n+            }\n+        }\n+    }\n+    \n }\n--- a/src/test/org/apache/commons/collections/list/AbstractTestList.java\n+++ b/src/test/org/apache/commons/collections/list/AbstractTestList.java\n  * test case (method) your {@link List} fails or override one of the\n  * protected methods from AbstractTestCollection.\n  *\n- * @version $Revision: 1.7 $ $Date: 2004/05/12 22:20:54 $\n+ * @version $Revision: 1.8 $ $Date: 2004/05/31 19:09:14 $\n  * \n  * @author Rodney Waldhoff\n  * @author Paul Jack\n \n     //-----------------------------------------------------------------------\n     /**\n+     * List equals method is defined.\n+     */\n+    public boolean isEqualsCheckable() {\n+        return true;\n+    }\n+\n+    /**\n      * Returns an empty {@link ArrayList}.\n      */\n     public Collection makeConfirmedCollection() {\n--- a/src/test/org/apache/commons/collections/set/AbstractTestSet.java\n+++ b/src/test/org/apache/commons/collections/set/AbstractTestSet.java\n  * elements may be added; see {@link AbstractTestCollection} for more details.\n  *\n  * @since Commons Collections 3.0\n- * @version $Revision: 1.4 $ $Date: 2004/02/18 01:20:39 $\n+ * @version $Revision: 1.5 $ $Date: 2004/05/31 19:09:14 $\n  * \n  * @author Paul Jack\n  */\n     }\n \n     //-----------------------------------------------------------------------\n+    /**\n+     * Set equals method is defined.\n+     */\n+    public boolean isEqualsCheckable() {\n+        return true;\n+    }\n+\n     /**\n      * Returns an empty Set for use in modification testing.\n      *", "timestamp": 1086030554, "metainfo": ""}