{"sha": "3264047c67ea87caeb2186ba37ab00603f69b8e3", "log": "support equals and hashCode per Comparator contract   ", "commit": "\n--- a/src/java/org/apache/commons/collections/comparators/ReverseComparator.java\n+++ b/src/java/org/apache/commons/collections/comparators/ReverseComparator.java\n  * @since 2.0\n  * @author bayard@generationjava.com\n  * @author <a href=\"mailto:mas@apache.org\">Michael A. Smith</a>\n- * @version $Id: ReverseComparator.java,v 1.8 2002/06/12 03:59:17 mas Exp $\n+ * @version $Id: ReverseComparator.java,v 1.9 2003/01/07 23:05:33 rwaldhoff Exp $\n  */\n public class ReverseComparator implements Comparator,Serializable {\n \n         return comparator.compare(o2, o1);\n     }\n \n+    /**\n+     * Implement a hash code for this comparator that is consistent with\n+     * {@link #equals}.\n+     * \n+     * @since Collections 2.2\n+     */\n+    public int hashCode() {\n+        return \"ReverseComparator\".hashCode() ^ comparator.hashCode();\n+    }\n+\n+    /**\n+     * Returns <code>true</code> iff <i>that</i> Object is \n+     * is a {@link Comparator} whose ordering is known to be \n+     * equivalent to mine.\n+     * <p>\n+     * This implementation returns <code>true</code>\n+     * iff <code><i>that</i>.{@link Object#getClass getClass()}</code>\n+     * equals <code>this.getClass()</code>, and the underlying \n+     * comparators are equal.  Subclasses may want to override\n+     * this behavior to remain consistent with the \n+     * {@link Comparator.equals} contract.\n+     * \n+     * @since Collections 2.2\n+     */\n+    public boolean equals(Object that) {\n+        if(this == that) {\n+            return true;\n+        } else if(null == that) {\n+            return false;\n+        } else if(that.getClass().equals(this.getClass())) {\n+            ReverseComparator thatrc = (ReverseComparator)that;\n+            return comparator.equals(thatrc.comparator);\n+        } else {\n+            return false;\n+        }\n+    }\n+\n+    // use serialVersionUID from Collections 2.0 for interoperability\n+    private static final long serialVersionUID = 2858887242028539265L;;\n }", "timestamp": 1041980733, "metainfo": ""}