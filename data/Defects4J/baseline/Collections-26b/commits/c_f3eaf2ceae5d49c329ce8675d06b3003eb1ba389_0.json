{"sha": "f3eaf2ceae5d49c329ce8675d06b3003eb1ba389", "log": "Adding a test for COLLECTIONS-299 and a fix. Fixes by not adding any non-String values as per java.util.Properties; also adding to the javadoc  ", "commit": "\n--- a/src/java/org/apache/commons/collections/ExtendedProperties.java\n+++ b/src/java/org/apache/commons/collections/ExtendedProperties.java\n      * <p>\n      * NOTE: From Commons Collections 3.2 this method will pick up\n      * any default parent Properties of the specified input object.\n+     * <p>\n+     * As with java.util.Properties(Properties), any non-String \n+     * values will not be passed on in the new ExtendedProperties \n+     * object.\n      *\n      * @param props  the properties object to convert\n      * @return new ExtendedProperties created from props\n \n         for (Enumeration e = props.propertyNames(); e.hasMoreElements();) {\n             String s = (String) e.nextElement();\n-            c.setProperty(s, props.getProperty(s));\n+            String value = props.getProperty(s);\n+            if(value != null) {\n+                c.setProperty(s, value);\n+            }\n         }\n \n         return c;\n--- a/src/test/org/apache/commons/collections/TestExtendedProperties.java\n+++ b/src/test/org/apache/commons/collections/TestExtendedProperties.java\n         assertEquals(3, props.size());\n     }\n \n+    public void testCollections299() {\n+        Properties defaults = new Properties();\n+        defaults.put(\"objectTrue\", Boolean.TRUE);\n+\n+        Properties properties = new Properties(defaults);\n+        properties.put(\"objectFalse\", Boolean.FALSE);\n+\n+        ExtendedProperties extended = ExtendedProperties.convertProperties(properties);\n+\n+        assertNull(extended.getString(\"objectTrue\"));\n+        assertNull(extended.getString(\"objectFalse\"));\n+\n+        assertNull(extended.get(\"objectTrue\"));\n+        assertNull(extended.get(\"objectFalse\"));\n+    }\n+\n }", "timestamp": 1225757736, "metainfo": ""}