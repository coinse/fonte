{"sha": "22601f647f2ce9a05fa4ce20ea356492c670940c", "log": "[CSV-100] CSVParser: getHeaderMap throws NPE.  ", "commit": "\n--- a/src/main/java/org/apache/commons/csv/CSVParser.java\n+++ b/src/main/java/org/apache/commons/csv/CSVParser.java\n      * Returns a copy of the header map that iterates in column order.\n      * <p>\n      * The map keys are column names. The map values are 0-based indices.\n-     *\n+     * </p>\n      * @return a copy of the header map that iterates in column order.\n      */\n     public Map<String, Integer> getHeaderMap() {\n-        return new LinkedHashMap<String, Integer>(this.headerMap);\n+        return this.headerMap == null ? null : new LinkedHashMap<String, Integer>(this.headerMap);\n     }\n \n     /**\n--- a/src/test/java/org/apache/commons/csv/CSVParserTest.java\n+++ b/src/test/java/org/apache/commons/csv/CSVParserTest.java\n         }\n \n         assertFalse(records.hasNext());\n+    }\n+\n+    @Test\n+    public void testNoHeaderMap() throws Exception {\n+        final CSVParser parser = CSVParser.parse(\"a,b,c\\n1,2,3\\nx,y,z\", CSVFormat.DEFAULT);\n+        Assert.assertNull(parser.getHeaderMap());\n     }\n \n     @Test", "timestamp": 1379516277, "metainfo": ""}