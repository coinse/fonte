{"sha": "7054900f3187c70c60e9e86f1c2bcd4c13d7878f", "log": "Adding Andrew's unit tests for CLI-18 - they pass for me too, so marking the issue as Cannot Reproduce  ", "commit": "\n--- /dev/null\n+++ b/src/test/org/apache/commons/cli/bug/BugCLI18Test.java\n+/**\n+ * Copyright 2004 The Apache Software Foundation\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.commons.cli.bug;\n+\n+import org.apache.commons.cli.*;\n+\n+import java.io.PrintWriter;\n+import java.io.StringWriter;\n+\n+import junit.framework.TestCase;\n+\n+/**\n+ * http://issues.apache.org/jira/browse/CLI-18\n+ */\n+public class BugCLI18Test extends TestCase {\n+\n+  public void testCLI18() {\n+    Options options = new Options();\n+    options.addOption(new Option(\"a\",\"aaa\",false,\"aaaaaaa\"));\n+    options.addOption(new Option(null,\"bbb\",false,\"bbbbbbb dksh fkshd fkhs dkfhsdk fhskd hksdks dhfowehfsdhfkjshf skfhkshf sf jkshfk sfh skfh skf f\"));\n+    options.addOption(new Option(\"c\",null,false,\"ccccccc\"));\n+\n+    HelpFormatter formatter = new HelpFormatter();\n+    StringWriter out = new StringWriter();\n+\n+    formatter.printHelp(new PrintWriter(out),80, \"foobar\", \"dsfkfsh kdh hsd hsdh fkshdf ksdh fskdh fsdh fkshfk sfdkjhskjh fkjh fkjsh khsdkj hfskdhf skjdfh ksf khf s\", options, 2, 2, \"blort j jgj j jg jhghjghjgjhgjhg jgjhgj jhg jhg hjg jgjhghjg jhg hjg jhgjg jgjhghjg jg jgjhgjgjg jhg jhgjh\" + '\\r' + '\\n' + \"rarrr\", true);\n+  }\n+}\n+\n--- /dev/null\n+++ b/src/test/org/apache/commons/cli2/bug/BugCLI18Test.java\n+/**\n+ * Copyright 2004 The Apache Software Foundation\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.commons.cli2.bug;\n+\n+import java.io.PrintWriter;\n+import java.io.StringWriter;\n+\n+import org.apache.commons.cli2.Group;\n+import org.apache.commons.cli2.Option;\n+import org.apache.commons.cli2.builder.DefaultOptionBuilder;\n+import org.apache.commons.cli2.builder.GroupBuilder;\n+import org.apache.commons.cli2.util.HelpFormatter;\n+\n+import junit.framework.TestCase;\n+\n+/**\n+ * http://issues.apache.org/jira/browse/CLI-18\n+ */\n+public class BugCLI18Test extends TestCase {\n+\n+  public BugCLI18Test() {\n+    super();\n+  }\n+\n+\n+  public void testBug() {\n+    Option a = new DefaultOptionBuilder().withLongName(\"aaa\").withShortName(\"a\").withDescription(\"aaaaaaa\").create();\n+    Option b = new DefaultOptionBuilder().withLongName(\"bbb\").withDescription(\"bbbbbbbb dksh fkshd fkhs dkfhsdk fhskd hksdks dhfowehfsdhfkjshf skfhkshf sf jkshfk sfh skfh skf f\").create();\n+    Option c = new DefaultOptionBuilder().withLongName(\"ccc\").withShortName(\"c\").withDescription(\"ccccccc\").create();\n+\n+    Group g = new GroupBuilder().withOption(a).withOption(b).withOption(c).create();\n+\n+    HelpFormatter formatter = new HelpFormatter();\n+    StringWriter out = new StringWriter();\n+\n+    formatter.setPrintWriter(new PrintWriter(out));\n+    formatter.setHeader(\"dsfkfsh kdh hsd hsdh fkshdf ksdh fskdh fsdh fkshfk sfdkjhskjh fkjh fkjsh khsdkj hfskdhf skjdfh ksf khf s\");\n+    formatter.setFooter(\"blort j jgj j jg jhghjghjgjhgjhg jgjhgj jhg jhg hjg jgjhghjg jhg hjg jhgjg jgjhghjg jg jgjhgjgjg jhg jhgjh\" + '\\r' + '\\n' + \"rarrr\");\n+    formatter.setGroup(g);\n+    formatter.setShellCommand(\"foobar\");\n+\n+    formatter.print();\n+\n+  }\n+}\n+", "timestamp": 1149702006, "metainfo": ""}