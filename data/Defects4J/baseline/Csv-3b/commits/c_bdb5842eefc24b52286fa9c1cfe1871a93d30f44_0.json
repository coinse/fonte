{"sha": "bdb5842eefc24b52286fa9c1cfe1871a93d30f44", "log": "Validation fails if no quotes mode set but no escape character is set.  ", "commit": "\n--- a/src/main/java/org/apache/commons/csv/CSVFormat.java\n+++ b/src/main/java/org/apache/commons/csv/CSVFormat.java\n         if (escape != null && escape == commentStart) {\n             throw new IllegalStateException(\"The comment start and the escape character cannot be the same ('\" + commentStart + \"')\");\n         }\n+\n+        if (escape == null && quotePolicy == Quote.NONE) {\n+            throw new IllegalStateException(\"No quotes mode set but no escape character is set\");\n+        }\n     }\n \n     /**\n--- a/src/test/java/org/apache/commons/csv/CSVFormatTest.java\n+++ b/src/test/java/org/apache/commons/csv/CSVFormatTest.java\n         } catch (final IllegalStateException e) {\n             // expected\n         }\n-    }\n+\n+        try {\n+            format.withQuoteChar('!').withQuotePolicy(Quote.NONE).validate();\n+            fail();\n+        } catch (final IllegalStateException e) {\n+            // expected\n+        }\n+}\n \n     @SuppressWarnings(\"boxing\") // no need to worry about boxing here\n     @Test", "timestamp": 1350256937, "metainfo": ""}