{"sha": "1a4bea73346135ce36422788c28fce11c3c5bbbb", "log": "removed redundant null checks. Fixed bug in Streams.copy where it was not honoring the closeInput and closeOutput parameters.  Suppressed spurious unused warnings", "commit": "\n--- a/wsclient/src/main/java/com/google/gson/webservice/client/RequestSender.java\n+++ b/wsclient/src/main/java/com/google/gson/webservice/client/RequestSender.java\n       String contentLength = String.valueOf(requestBodyContents.length());\n       setHeader(conn, \"Content-Length\", contentLength, true);\n       addRequestParams(conn, request.getHeaders());\n-      if (requestBodyContents != null) {\n-        Streams.copy(requestBodyContents, conn.getOutputStream(), false);\n-      }\n+      Streams.copy(requestBodyContents, conn.getOutputStream(), false);\n       \n       // Initiate the sending of the request.\n       conn.connect();\n--- a/wsclient/src/main/java/com/google/gson/webservice/client/RestRequestSender.java\n+++ b/wsclient/src/main/java/com/google/gson/webservice/client/RestRequestSender.java\n       R requestBody = request.getBody();\n       String requestBodyContents = \"\";\n       // Android Java VM ignore Content-Length if setDoOutput is not set\n-      conn.setDoOutput(true);    \n+      conn.setDoOutput(true);\n       if (requestBody != null) {\n         requestBodyContents = gson.toJson(requestBody);\n       }\n       String contentLength = String.valueOf(requestBodyContents.length());\n       setHeader(conn, \"Content-Length\", contentLength, true);\n       addRequestParams(conn, request.getHeaders());\n-      if (requestBodyContents != null) {\n-        Streams.copy(requestBodyContents, conn.getOutputStream(), false);\n-      }\n-      \n+      Streams.copy(requestBodyContents, conn.getOutputStream(), false);\n+\n       // Initiate the sending of the request.\n       conn.connect();\n     } catch (IOException e) {\n--- a/wsclient/src/main/java/com/google/gson/webservice/client/Streams.java\n+++ b/wsclient/src/main/java/com/google/gson/webservice/client/Streams.java\n         dst.write(buf, 0, count);\n       }\n     } finally {\n-      src.close();\n-      dst.close();\n+      if (closeInput) src.close();\n+      if (closeOutput) dst.close();\n     }\n   }\n }\n--- a/wsf/src/main/java/com/google/gson/wsf/server/WebServiceCallServerBuilder.java\n+++ b/wsf/src/main/java/com/google/gson/wsf/server/WebServiceCallServerBuilder.java\n \n public class WebServiceCallServerBuilder {\n \n-  public WebServiceCallServerBuilder(WebServiceCallSpec callSpec,\n-      WebServiceRequest wsRequest, Builder responseBuilder) {\n+  public WebServiceCallServerBuilder(\n+      @SuppressWarnings(\"unused\") WebServiceCallSpec callSpec,\n+      @SuppressWarnings(\"unused\") WebServiceRequest wsRequest,\n+      @SuppressWarnings(\"unused\") Builder responseBuilder) {\n   }\n }", "timestamp": 1285686242, "metainfo": ""}