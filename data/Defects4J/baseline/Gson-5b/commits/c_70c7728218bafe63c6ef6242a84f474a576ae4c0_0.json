{"sha": "70c7728218bafe63c6ef6242a84f474a576ae4c0", "log": "Wrote a test that invokes a custom deserializer for a wrapper primitive type.", "commit": "\n--- a/gson/src/test/java/com/google/gson/functional/CustomTypeAdaptersTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/CustomTypeAdaptersTest.java\n       return context.serialize(src, typeOfSrc);\n     }\n   }\n+  \n+  public void testCustomDeserializerForLong() {\n+    final ClassWithBooleanField customDeserializerInvoked = new ClassWithBooleanField();\n+    customDeserializerInvoked.value = false;\n+    Gson gson = new GsonBuilder().registerTypeAdapter(Long.class, new JsonDeserializer<Long>() {\n+      public Long deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n+          throws JsonParseException {\n+        customDeserializerInvoked.value = true;\n+        String str = json.getAsJsonPrimitive().getAsString();\n+        return str.length() == 0 ? null : Long.parseLong(str);\n+      }      \n+    }).create();\n+    String json = \"{'value':null}\";\n+    ClassWithWrapperLongField target = gson.fromJson(json, ClassWithWrapperLongField.class);\n+    assertNull(target.value);\n+    assertTrue(customDeserializerInvoked.value);\n+  }\n+  \n+  private static class ClassWithWrapperLongField {\n+    Long value;\n+  }\n+  \n+  private static class ClassWithBooleanField {\n+    Boolean value;\n+  }\n }", "timestamp": 1225391176, "metainfo": ""}