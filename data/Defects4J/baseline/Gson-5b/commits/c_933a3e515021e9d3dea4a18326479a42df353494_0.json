{"sha": "933a3e515021e9d3dea4a18326479a42df353494", "log": "Allow serialization of nulls in a \"List<Object>\" type.", "commit": "\n--- a/gson/src/main/java/com/google/gson/DefaultTypeAdapters.java\n+++ b/gson/src/main/java/com/google/gson/DefaultTypeAdapters.java\n         childGenericType = new TypeInfoCollection(typeOfSrc).getElementType();        \n       }\n       for (Object child : src) {\n-        Type childType = (childGenericType == null || childGenericType == Object.class)\n-            ? child.getClass() : childGenericType;\n-        JsonElement element = context.serialize(child, childType);\n-        array.add(element);\n+        if (child == null) {\n+          array.add(JsonNull.createJsonNull());\n+        } else {\n+          Type childType = (childGenericType == null || childGenericType == Object.class)\n+              ? child.getClass() : childGenericType;\n+          JsonElement element = context.serialize(child, childType);\n+          array.add(element);\n+        }\n       }\n       return array;\n     }\n--- a/gson/src/test/java/com/google/gson/functional/CollectionTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/CollectionTest.java\n     Type type = new TypeToken<List<Object>>() {}.getType();\n     assertEquals(\"[\\\"Hello\\\",\\\"World\\\"]\", gson.toJson(target, type));\n   }\n+  \n+  public void testCollectionOfObjectWithNullSerialization() {\n+    List<Object> target = new ArrayList<Object>();\n+    target.add(\"Hello\");\n+    target.add(null);\n+    target.add(\"World\");\n+    assertEquals(\"[\\\"Hello\\\",null,\\\"World\\\"]\", gson.toJson(target));\n+    \n+    Type type = new TypeToken<List<Object>>() {}.getType();\n+    assertEquals(\"[\\\"Hello\\\",null,\\\"World\\\"]\", gson.toJson(target, type));\n+  }\n \n   public void testCollectionOfStringsSerialization() {\n     List<String> target = new ArrayList<String>();", "timestamp": 1254256475, "metainfo": ""}