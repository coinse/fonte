{"sha": "d2cf574e8633bee099fd388242dcab9478ff5db7", "log": "Adding unit-tests to verify bugs.", "commit": "\n--- a/gson/src/test/java/com/google/gson/functional/ArrayTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/ArrayTest.java\n   }\n \n   public void testArrayOfPrimitivesAsObjectsSerialization() throws Exception {\n-    Object[] objs = new Object[]{1, \"abc\", 0.3f, 5L};\n+    Object[] objs = new Object[] {1, \"abc\", 0.3f, 5L};\n     String json = gson.toJson(objs);\n     assertTrue(json.contains(\"abc\"));\n     assertTrue(json.contains(\"0.3\"));\n     assertTrue(json.contains(\"Manufacturing\\\"]]\"));\n   }\n \n+  public void testMultiDimenstionalObjectArraysSerialization() {\n+    Object[][] array = new Object[][] { new Object[] { 1, 2 } };\n+    assertEquals(\"[[1,2]]\", gson.toJson(array));\n+  }\n+\n   /**\n    * Regression tests for Issue 272\n    */\n--- a/gson/src/test/java/com/google/gson/functional/MapTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/MapTest.java\n    */\n   public void testSerializeMaps() {\n     Map<String, Object> map = new LinkedHashMap<String, Object>();\n+    HashMap<String, Object> innerMap = new HashMap<String, Object>();\n     map.put(\"a\", 12);\n     map.put(\"b\", null);\n-    map.put(\"c\", new HashMap<String, Object>());\n+    map.put(\"c\", innerMap);\n \n     assertEquals(\"{\\\"a\\\":12,\\\"b\\\":null,\\\"c\\\":{}}\",\n         new GsonBuilder().serializeNulls().create().toJson(map));\n-    assertEquals(\"{\\\"a\\\":12,\\\"b\\\":null,\\\"c\\\":{}}\",\n-        new GsonBuilder().serializeNulls().create().toJson(map));\n+    assertEquals(\"{\\n  \\\"a\\\": 12,\\n  \\\"b\\\": null,\\n  \\\"c\\\": {}\\n}\",\n+        new GsonBuilder().setPrettyPrinting().serializeNulls().create().toJson(map));\n     assertEquals(\"{\\\"a\\\":12,\\\"c\\\":{}}\",\n         new GsonBuilder().create().toJson(map));\n-    assertEquals(\"{\\\"a\\\":12,\\\"c\\\":{}}\",\n-        new GsonBuilder().create().toJson(map));\n+    assertEquals(\"{\\n  \\\"a\\\": 12,\\n  \\\"c\\\": {}\\n}\",\n+        new GsonBuilder().setPrettyPrinting().create().toJson(map));\n+\n+    innerMap.put(\"d\", \"e\");\n+    assertEquals(\"{\\\"a\\\":12,\\\"c\\\":{\\\"d\\\":\\\"e\\\"}}\",\n+        new Gson().toJson(map));\n   }\n \n   public final void testInterfaceTypeMap() {", "timestamp": 1302849189, "metainfo": ""}