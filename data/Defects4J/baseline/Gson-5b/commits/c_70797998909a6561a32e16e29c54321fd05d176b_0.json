{"sha": "70797998909a6561a32e16e29c54321fd05d176b", "log": "Fixed issue 167 by adding support for TreeSet deserialization. Added tests for serialization/deserialization of treesets.", "commit": "\n--- a/gson/src/main/java/com/google/gson/DefaultTypeAdapters.java\n+++ b/gson/src/main/java/com/google/gson/DefaultTypeAdapters.java\n \n     map.register(Set.class, HASH_SET_CREATOR);\n     map.register(SortedSet.class, TREE_SET_CREATOR);\n+    map.register(TreeSet.class, TREE_SET_CREATOR);\n     map.register(Properties.class, PROPERTIES_CREATOR);\n     map.makeUnmodifiable();\n     return map;\n--- a/gson/src/test/java/com/google/gson/functional/DefaultTypeAdaptersTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/DefaultTypeAdaptersTest.java\n import com.google.gson.Gson;\n import com.google.gson.GsonBuilder;\n import com.google.gson.JsonParseException;\n+import com.google.gson.reflect.TypeToken;\n \n import junit.framework.TestCase;\n \n+import java.lang.reflect.Type;\n import java.math.BigDecimal;\n import java.math.BigInteger;\n import java.net.URI;\n import java.util.Properties;\n import java.util.Set;\n import java.util.TimeZone;\n+import java.util.TreeSet;\n import java.util.UUID;\n \n /**\n     Properties props = gson.fromJson(json, Properties.class);\n     assertEquals(\"bar\", props.getProperty(\"foo\"));\n   }\n+\n+  public void testTreeSetSerialization() {\n+    TreeSet<String> treeSet = new TreeSet<String>();\n+    treeSet.add(\"Value1\");\n+    String json = gson.toJson(treeSet);\n+    assertEquals(\"[\\\"Value1\\\"]\", json);\n+  }\n+\n+  public void testTreeSetDeserialization() {\n+    String json = \"['Value1']\";\n+    Type type = new TypeToken<TreeSet<String>>() {}.getType();\n+    TreeSet<String> treeSet = gson.fromJson(json, type);\n+    assertTrue(treeSet.contains(\"Value1\"));\n+  }\n }", "timestamp": 1262978082, "metainfo": ""}