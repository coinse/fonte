{"sha": "d61e754fb66b2c9adeb681bad156efc14667b052", "log": "Added tests for explicit serialization of null array, collection and string fields with serializeNulls set to true.", "commit": "\n--- a/gson/src/test/java/com/google/gson/functional/NullObjectAndFieldTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/NullObjectAndFieldTest.java\n import junit.framework.TestCase;\n \n import java.lang.reflect.Type;\n+import java.util.Collection;\n \n /**\n  * Functional tests for the different cases for serializing (or ignoring) null fields and object.\n     ClassWithObjects target = gson.fromJson(\"{\\\"bag\\\":null}\", ClassWithObjects.class);\n     assertNull(target.bag);\n   }\n+  \n+  public void testExplicitSerializationOfNullArrayMembers() {\n+    Gson gson = gsonBuilder.create();\n+    ClassWithMembers target = new ClassWithMembers();\n+    String json = gson.toJson(target);\n+    assertTrue(json.contains(\"\\\"array\\\":null\"));\n+  }\n+  \n+  public void testExplicitSerializationOfNullCollectionMembers() {\n+    Gson gson = gsonBuilder.create();\n+    ClassWithMembers target = new ClassWithMembers();\n+    String json = gson.toJson(target);\n+    assertTrue(json.contains(\"\\\"col\\\":null\"));\n+  }\n+  \n+  public void testExplicitSerializationOfNullStringMembers() {\n+    Gson gson = gsonBuilder.create();\n+    ClassWithMembers target = new ClassWithMembers();\n+    String json = gson.toJson(target);\n+    assertTrue(json.contains(\"\\\"str\\\":null\"));\n+  }\n+  \n+  static class ClassWithMembers {\n+    String str;\n+    int[] array;\n+    Collection<String> col;\n+  }\n \n   public void testCustomSerializationOfNulls() {\n     gsonBuilder.registerTypeAdapter(ClassWithObjects.class, new ClassWithObjectsSerializer());\n       return obj;\n     }\n   }\n+  \n }", "timestamp": 1223677879, "metainfo": ""}