{"sha": "eb7b1e4ac7bc27d1a9587bc406b7d424ddc4e9c6", "log": "Test attempting (and failing) to reproduce issue 215.", "commit": "\n--- a/gson/src/test/java/com/google/gson/functional/ObjectTest.java\n+++ b/gson/src/test/java/com/google/gson/functional/ObjectTest.java\n import com.google.gson.common.TestTypes.Nested;\n import com.google.gson.common.TestTypes.PrimitiveArray;\n \n+import java.util.List;\n import junit.framework.TestCase;\n \n import java.lang.reflect.Type;\n     String json = gson.toJson(obj);\n     assertEquals(\"{}\", json);\n   }\n+\n+  /**\n+   * Test for issue 215.\n+   */\n+  public void testSingletonLists() {\n+    Gson gson = new Gson();\n+    Product product = new Product();\n+    assertEquals(\"{\\\"attributes\\\":[],\\\"departments\\\":[]}\",\n+        gson.toJson(product));\n+    gson.fromJson(gson.toJson(product), Product.class);\n+\n+    product.departments.add(new Department());\n+    assertEquals(\"{\\\"attributes\\\":[],\\\"departments\\\":[{\\\"name\\\":\\\"abc\\\",\\\"code\\\":\\\"123\\\"}]}\",\n+        gson.toJson(product));\n+    gson.fromJson(gson.toJson(product), Product.class);\n+\n+    product.attributes.add(\"456\");\n+    assertEquals(\"{\\\"attributes\\\":[\\\"456\\\"],\\\"departments\\\":[{\\\"name\\\":\\\"abc\\\",\\\"code\\\":\\\"123\\\"}]}\",\n+        gson.toJson(product));\n+    gson.fromJson(gson.toJson(product), Product.class);\n+  }\n+\n+  static final class Department {\n+    public String name = \"abc\";\n+    public String code = \"123\";\n+  }\n+\n+  static final class Product {\n+    private List<String> attributes = new ArrayList<String>();\n+    private List<Department> departments = new ArrayList<Department>();\n+  }\n+\n }", "timestamp": 1282893000, "metainfo": ""}