{
  "origin": "codeshovel",
  "repositoryName": "Jsoup-33b",
  "repositoryPath": "/tmp/Jsoup-33b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Token.java",
  "functionName": "newAttribute",
  "functionId": "$newAttribute",
  "sourceFilePath": "src/main/java/org/jsoup/parser/Token.java",
  "functionAnnotation": "",
  "functionDoc": "",
  "functionStartLine": 55,
  "functionEndLine": 70,
  "numCommitsSeen": 13,
  "timeTaken": 1270,
  "changeHistory": [
    "666275a54f3e6907b5244b612483815ee70a191d",
    "8633b01428e9b4ad3df37b5d3530f2c5c963a698",
    "ede131697f4a1e76d9c291e5070b700143622d30",
    "8749726a79c22451b1f01b14fb2137f734e926b4"
  ],
  "changeHistoryShort": {
    "666275a54f3e6907b5244b612483815ee70a191d": "Ybodychange",
    "8633b01428e9b4ad3df37b5d3530f2c5c963a698": "Ybodychange",
    "ede131697f4a1e76d9c291e5070b700143622d30": "Ybodychange",
    "8749726a79c22451b1f01b14fb2137f734e926b4": "Yintroduced"
  },
  "changeHistoryDetails": {
    "666275a54f3e6907b5244b612483815ee70a191d": {
      "type": "Ybodychange",
      "commitMessage": "Only create attribute objects for end tag tokens when required.\n\nSaves a bit of GC time.\n",
      "commitDate": "6/3/12, 8:09 PM",
      "commitName": "666275a54f3e6907b5244b612483815ee70a191d",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "5/28/12, 8:16 PM",
      "commitNameOld": "8633b01428e9b4ad3df37b5d3530f2c5c963a698",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 5.99,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "actualSource": "void newAttribute() {\n    if (attributes \u003d\u003d null)\n        attributes \u003d new Attributes();\n    if (pendingAttributeName !\u003d null) {\n        Attribute attribute;\n        if (pendingAttributeValue \u003d\u003d null)\n            attribute \u003d new Attribute(pendingAttributeName, \"\");\n        else\n            attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n        attributes.put(attribute);\n    }\n    pendingAttributeName \u003d null;\n    if (pendingAttributeValue !\u003d null)\n        pendingAttributeValue.delete(0, pendingAttributeValue.length());\n}",
      "path": "src/main/java/org/jsoup/parser/Token.java",
      "functionStartLine": 55,
      "functionName": "newAttribute",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,13 +1,15 @@\n void newAttribute() {\n+    if (attributes \u003d\u003d null)\n+        attributes \u003d new Attributes();\n     if (pendingAttributeName !\u003d null) {\n         Attribute attribute;\n         if (pendingAttributeValue \u003d\u003d null)\n             attribute \u003d new Attribute(pendingAttributeName, \"\");\n         else\n             attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n         attributes.put(attribute);\n     }\n     pendingAttributeName \u003d null;\n     if (pendingAttributeValue !\u003d null)\n         pendingAttributeValue.delete(0, pendingAttributeValue.length());\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "8633b01428e9b4ad3df37b5d3530f2c5c963a698": {
      "type": "Ybodychange",
      "commitMessage": "Reuse StringBuilders\n",
      "commitDate": "5/28/12, 8:16 PM",
      "commitName": "8633b01428e9b4ad3df37b5d3530f2c5c963a698",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "5/28/12, 6:39 PM",
      "commitNameOld": "ede131697f4a1e76d9c291e5070b700143622d30",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.07,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "void newAttribute() {\n    if (pendingAttributeName !\u003d null) {\n        Attribute attribute;\n        if (pendingAttributeValue \u003d\u003d null)\n            attribute \u003d new Attribute(pendingAttributeName, \"\");\n        else\n            attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n        attributes.put(attribute);\n    }\n    pendingAttributeName \u003d null;\n    if (pendingAttributeValue !\u003d null)\n        pendingAttributeValue.delete(0, pendingAttributeValue.length());\n}",
      "path": "src/main/java/org/jsoup/parser/Token.java",
      "functionStartLine": 55,
      "functionName": "newAttribute",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,12 +1,13 @@\n void newAttribute() {\n     if (pendingAttributeName !\u003d null) {\n         Attribute attribute;\n         if (pendingAttributeValue \u003d\u003d null)\n             attribute \u003d new Attribute(pendingAttributeName, \"\");\n         else\n             attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n         attributes.put(attribute);\n     }\n     pendingAttributeName \u003d null;\n-    pendingAttributeValue \u003d null;\n+    if (pendingAttributeValue !\u003d null)\n+        pendingAttributeValue.delete(0, pendingAttributeValue.length());\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "ede131697f4a1e76d9c291e5070b700143622d30": {
      "type": "Ybodychange",
      "commitMessage": "Use a StringBuilder to accumulate attribute values.\n\nWhen initially implemented I expected attribute values to normally be read in one sweep,\nremoving the need to accumulate values. However profiling shows that attributes are\noften accumulated, and so the string concatination implementation was very slow.\n\nUsing a StringBuilder here gives reduces parse times \u003e 50%.\n",
      "commitDate": "5/28/12, 6:39 PM",
      "commitName": "ede131697f4a1e76d9c291e5070b700143622d30",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "3/19/12, 9:02 PM",
      "commitNameOld": "be94f5547d6b8f15ee48117afe46ae302c361464",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 69.9,
      "commitsBetweenForRepo": 42,
      "commitsBetweenForFile": 1,
      "actualSource": "void newAttribute() {\n    if (pendingAttributeName !\u003d null) {\n        Attribute attribute;\n        if (pendingAttributeValue \u003d\u003d null)\n            attribute \u003d new Attribute(pendingAttributeName, \"\");\n        else\n            attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n        attributes.put(attribute);\n    }\n    pendingAttributeName \u003d null;\n    pendingAttributeValue \u003d null;\n}",
      "path": "src/main/java/org/jsoup/parser/Token.java",
      "functionStartLine": 55,
      "functionName": "newAttribute",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,10 +1,12 @@\n void newAttribute() {\n     if (pendingAttributeName !\u003d null) {\n+        Attribute attribute;\n         if (pendingAttributeValue \u003d\u003d null)\n-            pendingAttributeValue \u003d \"\";\n-        Attribute attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue);\n+            attribute \u003d new Attribute(pendingAttributeName, \"\");\n+        else\n+            attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue.toString());\n         attributes.put(attribute);\n     }\n     pendingAttributeName \u003d null;\n     pendingAttributeValue \u003d null;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "8749726a79c22451b1f01b14fb2137f734e926b4": {
      "type": "Yintroduced",
      "commitMessage": "Reimplementation of parser and tokeniser, to make jsoup a HTML5 conformat parser, against the\nhttp://whatwg.org/html spec.\n",
      "commitDate": "7/2/11, 4:12 AM",
      "commitName": "8749726a79c22451b1f01b14fb2137f734e926b4",
      "commitAuthor": "Jonathan Hedley",
      "diff": "@@ -0,0 +1,10 @@\n+void newAttribute() {\n+    if (pendingAttributeName !\u003d null) {\n+        if (pendingAttributeValue \u003d\u003d null)\n+            pendingAttributeValue \u003d \"\";\n+        Attribute attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue);\n+        attributes.put(attribute);\n+    }\n+    pendingAttributeName \u003d null;\n+    pendingAttributeValue \u003d null;\n+}\n\\ No newline at end of file\n",
      "actualSource": "void newAttribute() {\n    if (pendingAttributeName !\u003d null) {\n        if (pendingAttributeValue \u003d\u003d null)\n            pendingAttributeValue \u003d \"\";\n        Attribute attribute \u003d new Attribute(pendingAttributeName, pendingAttributeValue);\n        attributes.put(attribute);\n    }\n    pendingAttributeName \u003d null;\n    pendingAttributeValue \u003d null;\n}",
      "path": "src/main/java/org/jsoup/parser/Token.java",
      "functionStartLine": 51,
      "functionName": "newAttribute",
      "functionAnnotation": "",
      "functionDoc": ""
    }
  }
}