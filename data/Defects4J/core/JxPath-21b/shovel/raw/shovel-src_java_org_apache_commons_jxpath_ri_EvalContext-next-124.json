{
  "origin": "codeshovel",
  "repositoryName": "JxPath-21b",
  "repositoryPath": "/tmp/JxPath-21b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "EvalContext.java",
  "functionName": "next",
  "functionId": "next",
  "sourceFilePath": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
  "functionAnnotation": "",
  "functionDoc": "Returns the next node pointer in the context\n\n@return Object\n",
  "functionStartLine": 124,
  "functionEndLine": 143,
  "numCommitsSeen": 38,
  "timeTaken": 944,
  "changeHistory": [
    "21f932ed07fe75a5ca053ee1418b2db6cb99dc05",
    "30e4fdde61866403ce8912dfb8afe328502c4d20",
    "77af585d9f0e629db4ecf8d468ef7b71c9d98e39",
    "2327c42440cd4927ac5fc91ed93756cb0c87c96d",
    "04d66747e69273ed8ed520ddfefb86d85755e4b1",
    "cc0637b2a262c45f047d3f273d2100bd138bf169",
    "e2fc81a168891ac4fff974989f0fd7b2519fcbbe",
    "112774edae824e6e07ed9d64f637b4b7c19cea3b"
  ],
  "changeHistoryShort": {
    "21f932ed07fe75a5ca053ee1418b2db6cb99dc05": "Ydocchange",
    "30e4fdde61866403ce8912dfb8afe328502c4d20": "Ybodychange",
    "77af585d9f0e629db4ecf8d468ef7b71c9d98e39": "Ybodychange",
    "2327c42440cd4927ac5fc91ed93756cb0c87c96d": "Yformatchange",
    "04d66747e69273ed8ed520ddfefb86d85755e4b1": "Ybodychange",
    "cc0637b2a262c45f047d3f273d2100bd138bf169": "Ybodychange",
    "e2fc81a168891ac4fff974989f0fd7b2519fcbbe": "Ybodychange",
    "112774edae824e6e07ed9d64f637b4b7c19cea3b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "21f932ed07fe75a5ca053ee1418b2db6cb99dc05": {
      "type": "Ydocchange",
      "commitMessage": "checkstyle\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/jxpath/trunk@604783 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "12/16/07, 11:29 PM",
      "commitName": "21f932ed07fe75a5ca053ee1418b2db6cb99dc05",
      "commitAuthor": "Matthew Jason Benson",
      "commitDateOld": "8/27/07, 12:49 PM",
      "commitNameOld": "33cabe52b5ab65bcbb67a2b725b3d97d09749f18",
      "commitAuthorOld": "Matthew Jason Benson",
      "daysBetweenCommits": 111.49,
      "commitsBetweenForRepo": 32,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    }\n    if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n        performIteratorStep();\n    }\n    if (done) {\n        throw new NoSuchElementException();\n    }\n    hasPerformedIteratorStep \u003d false;\n    return getCurrentNodePointer();\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 133,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n\n@return Object\n",
      "diff": "",
      "extendedDetails": {
        "oldValue": "Returns the next node pointer in the context\n",
        "newValue": "Returns the next node pointer in the context\n\n@return Object\n"
      }
    },
    "30e4fdde61866403ce8912dfb8afe328502c4d20": {
      "type": "Ybodychange",
      "commitMessage": "bulled through JXPath codebase to get a little better familiarity; tiny refactorings and removals of unnecessary elses, etc. along the way\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@509378 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "2/19/07, 3:24 PM",
      "commitName": "30e4fdde61866403ce8912dfb8afe328502c4d20",
      "commitAuthor": "Matthew Jason Benson",
      "commitDateOld": "1/31/07, 9:24 AM",
      "commitNameOld": "ce272ae94782474f58d0c18e0f1a8c9a7a8dda42",
      "commitAuthorOld": "Matthew Jason Benson",
      "daysBetweenCommits": 19.25,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    }\n    if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n        performIteratorStep();\n    }\n    if (done) {\n        throw new NoSuchElementException();\n    }\n    hasPerformedIteratorStep \u003d false;\n    return getCurrentNodePointer();\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 111,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n",
      "diff": "@@ -1,20 +1,19 @@\n public Object next() {\n     if (pointerIterator !\u003d null) {\n         return pointerIterator.next();\n     }\n     if (getDocumentOrder() !\u003d 0) {\n         if (!constructIterator()) {\n             throw new NoSuchElementException();\n         }\n         return pointerIterator.next();\n-    } else {\n-        if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n-            performIteratorStep();\n-        }\n-        if (done) {\n-            throw new NoSuchElementException();\n-        }\n-        hasPerformedIteratorStep \u003d false;\n-        return getCurrentNodePointer();\n     }\n+    if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n+        performIteratorStep();\n+    }\n+    if (done) {\n+        throw new NoSuchElementException();\n+    }\n+    hasPerformedIteratorStep \u003d false;\n+    return getCurrentNodePointer();\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "77af585d9f0e629db4ecf8d468ef7b71c9d98e39": {
      "type": "Ybodychange",
      "commitMessage": "Fixed collection as return value of extension function\nReduced the amount of cloning\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@136860 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "3/24/03, 6:41 PM",
      "commitName": "77af585d9f0e629db4ecf8d468ef7b71c9d98e39",
      "commitAuthor": "Dmitri Plotnikov",
      "commitDateOld": "3/10/03, 4:59 PM",
      "commitNameOld": "bdf423f27a76d2006ffe1058d6530eebf619c877",
      "commitAuthorOld": "Dmitri Plotnikov",
      "daysBetweenCommits": 14.07,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    } else {\n        if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n            performIteratorStep();\n        }\n        if (done) {\n            throw new NoSuchElementException();\n        }\n        hasPerformedIteratorStep \u003d false;\n        return getCurrentNodePointer();\n    }\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 161,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n",
      "diff": "@@ -1,20 +1,20 @@\n public Object next() {\n     if (pointerIterator !\u003d null) {\n         return pointerIterator.next();\n     }\n     if (getDocumentOrder() !\u003d 0) {\n         if (!constructIterator()) {\n             throw new NoSuchElementException();\n         }\n         return pointerIterator.next();\n     } else {\n         if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n             performIteratorStep();\n         }\n         if (done) {\n             throw new NoSuchElementException();\n         }\n         hasPerformedIteratorStep \u003d false;\n-        return (NodePointer) getCurrentNodePointer().clone();\n+        return getCurrentNodePointer();\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "2327c42440cd4927ac5fc91ed93756cb0c87c96d": {
      "type": "Yformatchange",
      "commitMessage": "Checkstyle, be happy!\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@136834 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "1/10/03, 9:41 PM",
      "commitName": "2327c42440cd4927ac5fc91ed93756cb0c87c96d",
      "commitAuthor": "Dmitri Plotnikov",
      "commitDateOld": "11/25/02, 5:20 PM",
      "commitNameOld": "430fdd01e75a5e681274aa65adeb2d9826ee45a8",
      "commitAuthorOld": "Dmitri Plotnikov",
      "daysBetweenCommits": 46.18,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    } else {\n        if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n            performIteratorStep();\n        }\n        if (done) {\n            throw new NoSuchElementException();\n        }\n        hasPerformedIteratorStep \u003d false;\n        return (NodePointer) getCurrentNodePointer().clone();\n    }\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 158,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n",
      "diff": "",
      "extendedDetails": {}
    },
    "04d66747e69273ed8ed520ddfefb86d85755e4b1": {
      "type": "Ybodychange",
      "commitMessage": "Fixed a problem with iteration - calling hasNext() multiple times would mess up the iteration\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@136818 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "10/19/02, 8:43 PM",
      "commitName": "04d66747e69273ed8ed520ddfefb86d85755e4b1",
      "commitAuthor": "Dmitri Plotnikov",
      "commitDateOld": "7/3/02, 2:12 PM",
      "commitNameOld": "cc0637b2a262c45f047d3f273d2100bd138bf169",
      "commitAuthorOld": "Dmitri Plotnikov",
      "daysBetweenCommits": 108.27,
      "commitsBetweenForRepo": 42,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    } else {\n        if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n            performIteratorStep();\n        }\n        if (done) {\n            throw new NoSuchElementException();\n        }\n        hasPerformedIteratorStep \u003d false;\n        return (NodePointer) getCurrentNodePointer().clone();\n    }\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 154,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n",
      "diff": "@@ -1,26 +1,20 @@\n public Object next() {\n     if (pointerIterator !\u003d null) {\n         return pointerIterator.next();\n     }\n     if (getDocumentOrder() !\u003d 0) {\n         if (!constructIterator()) {\n             throw new NoSuchElementException();\n         }\n         return pointerIterator.next();\n     } else {\n-        if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n+        if (!done \u0026\u0026 !hasPerformedIteratorStep) {\n+            performIteratorStep();\n+        }\n+        if (done) {\n             throw new NoSuchElementException();\n         }\n-        NodePointer pointer \u003d (NodePointer) getCurrentNodePointer().clone();\n-        if (!nextNode()) {\n-            done \u003d true;\n-            while (nextSet()) {\n-                if (nextNode()) {\n-                    done \u003d false;\n-                    break;\n-                }\n-            }\n-        }\n-        return pointer;\n+        hasPerformedIteratorStep \u003d false;\n+        return (NodePointer) getCurrentNodePointer().clone();\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "cc0637b2a262c45f047d3f273d2100bd138bf169": {
      "type": "Ybodychange",
      "commitMessage": "Reduced the number of places where NodePointers were cloned\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@136776 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "7/3/02, 2:12 PM",
      "commitName": "cc0637b2a262c45f047d3f273d2100bd138bf169",
      "commitAuthor": "Dmitri Plotnikov",
      "commitDateOld": "6/15/02, 8:22 PM",
      "commitNameOld": "ab914f400352a3a525ba0a5d189eb2e4e1ade268",
      "commitAuthorOld": "Dmitri Plotnikov",
      "daysBetweenCommits": 17.74,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    } else {\n        if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n            throw new NoSuchElementException();\n        }\n        NodePointer pointer \u003d (NodePointer) getCurrentNodePointer().clone();\n        if (!nextNode()) {\n            done \u003d true;\n            while (nextSet()) {\n                if (nextNode()) {\n                    done \u003d false;\n                    break;\n                }\n            }\n        }\n        return pointer;\n    }\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 161,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n",
      "diff": "@@ -1,26 +1,26 @@\n public Object next() {\n     if (pointerIterator !\u003d null) {\n         return pointerIterator.next();\n     }\n     if (getDocumentOrder() !\u003d 0) {\n         if (!constructIterator()) {\n             throw new NoSuchElementException();\n         }\n         return pointerIterator.next();\n     } else {\n         if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n             throw new NoSuchElementException();\n         }\n-        NodePointer pointer \u003d getCurrentNodePointer();\n+        NodePointer pointer \u003d (NodePointer) getCurrentNodePointer().clone();\n         if (!nextNode()) {\n             done \u003d true;\n             while (nextSet()) {\n                 if (nextNode()) {\n                     done \u003d false;\n                     break;\n                 }\n             }\n         }\n         return pointer;\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "e2fc81a168891ac4fff974989f0fd7b2519fcbbe": {
      "type": "Ybodychange",
      "commitMessage": "Fix problems with document order\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@136754 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "5/28/02, 5:41 PM",
      "commitName": "e2fc81a168891ac4fff974989f0fd7b2519fcbbe",
      "commitAuthor": "Dmitri Plotnikov",
      "commitDateOld": "5/7/02, 5:40 PM",
      "commitNameOld": "323e8b214459b3977973c01a048a979dc778f100",
      "commitAuthorOld": "Dmitri Plotnikov",
      "daysBetweenCommits": 21.0,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "actualSource": "public Object next() {\n    if (pointerIterator !\u003d null) {\n        return pointerIterator.next();\n    }\n    if (getDocumentOrder() !\u003d 0) {\n        if (!constructIterator()) {\n            throw new NoSuchElementException();\n        }\n        return pointerIterator.next();\n    } else {\n        if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n            throw new NoSuchElementException();\n        }\n        NodePointer pointer \u003d getCurrentNodePointer();\n        if (!nextNode()) {\n            done \u003d true;\n            while (nextSet()) {\n                if (nextNode()) {\n                    done \u003d false;\n                    break;\n                }\n            }\n        }\n        return pointer;\n    }\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 161,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n",
      "diff": "@@ -1,16 +1,26 @@\n public Object next() {\n-    if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n-        throw new NoSuchElementException();\n+    if (pointerIterator !\u003d null) {\n+        return pointerIterator.next();\n     }\n-    NodePointer pointer \u003d getCurrentNodePointer();\n-    if (!nextNode()) {\n-        done \u003d true;\n-        while (nextSet()) {\n-            if (nextNode()) {\n-                done \u003d false;\n-                break;\n+    if (getDocumentOrder() !\u003d 0) {\n+        if (!constructIterator()) {\n+            throw new NoSuchElementException();\n+        }\n+        return pointerIterator.next();\n+    } else {\n+        if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n+            throw new NoSuchElementException();\n+        }\n+        NodePointer pointer \u003d getCurrentNodePointer();\n+        if (!nextNode()) {\n+            done \u003d true;\n+            while (nextSet()) {\n+                if (nextNode()) {\n+                    done \u003d false;\n+                    break;\n+                }\n             }\n         }\n+        return pointer;\n     }\n-    return pointer;\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "112774edae824e6e07ed9d64f637b4b7c19cea3b": {
      "type": "Yintroduced",
      "commitMessage": "Now implements Iterator\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/jxpath/trunk@136734 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": "4/27/02, 9:36 PM",
      "commitName": "112774edae824e6e07ed9d64f637b4b7c19cea3b",
      "commitAuthor": "Dmitri Plotnikov",
      "diff": "@@ -0,0 +1,16 @@\n+public Object next() {\n+    if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n+        throw new NoSuchElementException();\n+    }\n+    NodePointer pointer \u003d getCurrentNodePointer();\n+    if (!nextNode()) {\n+        done \u003d true;\n+        while (nextSet()) {\n+            if (nextNode()) {\n+                done \u003d false;\n+                break;\n+            }\n+        }\n+    }\n+    return pointer;\n+}\n\\ No newline at end of file\n",
      "actualSource": "public Object next() {\n    if (done || (position \u003d\u003d 0 \u0026\u0026 !hasNext())) {\n        throw new NoSuchElementException();\n    }\n    NodePointer pointer \u003d getCurrentNodePointer();\n    if (!nextNode()) {\n        done \u003d true;\n        while (nextSet()) {\n            if (nextNode()) {\n                done \u003d false;\n                break;\n            }\n        }\n    }\n    return pointer;\n}",
      "path": "src/java/org/apache/commons/jxpath/ri/EvalContext.java",
      "functionStartLine": 128,
      "functionName": "next",
      "functionAnnotation": "",
      "functionDoc": "Returns the next node pointer in the context\n"
    }
  }
}