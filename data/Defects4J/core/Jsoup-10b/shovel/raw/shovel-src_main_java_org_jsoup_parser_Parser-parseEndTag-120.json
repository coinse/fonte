{
  "origin": "codeshovel",
  "repositoryName": "Jsoup-10b",
  "repositoryPath": "/tmp/Jsoup-10b//.git",
  "startCommitName": "HEAD",
  "sourceFileName": "Parser.java",
  "functionName": "parseEndTag",
  "functionId": "parseEndTag",
  "sourceFilePath": "src/main/java/org/jsoup/parser/Parser.java",
  "functionAnnotation": "",
  "functionDoc": "",
  "functionStartLine": 120,
  "functionEndLine": 130,
  "numCommitsSeen": 47,
  "timeTaken": 1114,
  "changeHistory": [
    "78d40f41b9567d7e8a0c891f31b7deee2b1f3f19",
    "e5f6e084f755969196ca9a87c6b334f7125359aa",
    "40a35750e655d5229744684086a9249b233058bf",
    "e97f564d2450702d2b74ff35ecc5ad5c1e57fc0d",
    "4bd743a3a5492d1d185bd21f421e49ce3a27af7c",
    "03336ea9dd5d2aef2e31fe5e6402a04242f4d9f8",
    "2f0a7bf507020d98b3bdbf0a93bb1c753dd90268"
  ],
  "changeHistoryShort": {
    "78d40f41b9567d7e8a0c891f31b7deee2b1f3f19": "Ybodychange",
    "e5f6e084f755969196ca9a87c6b334f7125359aa": "Ybodychange",
    "40a35750e655d5229744684086a9249b233058bf": "Ybodychange",
    "e97f564d2450702d2b74ff35ecc5ad5c1e57fc0d": "Ybodychange",
    "4bd743a3a5492d1d185bd21f421e49ce3a27af7c": "Ybodychange",
    "03336ea9dd5d2aef2e31fe5e6402a04242f4d9f8": "Ybodychange",
    "2f0a7bf507020d98b3bdbf0a93bb1c753dd90268": "Yintroduced"
  },
  "changeHistoryDetails": {
    "78d40f41b9567d7e8a0c891f31b7deee2b1f3f19": {
      "type": "Ybodychange",
      "commitMessage": "Improved malformed table parsing by implementing ignorable end tags.\n",
      "commitDate": "7/2/11, 4:12 AM",
      "commitName": "78d40f41b9567d7e8a0c891f31b7deee2b1f3f19",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "7/2/11, 4:11 AM",
      "commitNameOld": "62afbdf6a85fec75fde38d327928a180bc5bccb3",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 27,
      "commitsBetweenForFile": 1,
      "actualSource": "private void parseEndTag() {\n    tq.consume(\"\u003c/\");\n    String tagName \u003d tq.consumeTagName();\n    tq.chompTo(\"\u003e\");\n    if (tagName.length() !\u003d 0) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        if (!last().tag().isIgnorableEndTag(tag))\n            popStackToClose(tag);\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 120,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,9 +1,10 @@\n private void parseEndTag() {\n     tq.consume(\"\u003c/\");\n     String tagName \u003d tq.consumeTagName();\n     tq.chompTo(\"\u003e\");\n     if (tagName.length() !\u003d 0) {\n         Tag tag \u003d Tag.valueOf(tagName);\n-        popStackToClose(tag);\n+        if (!last().tag().isIgnorableEndTag(tag))\n+            popStackToClose(tag);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "e5f6e084f755969196ca9a87c6b334f7125359aa": {
      "type": "Ybodychange",
      "commitMessage": "Added support for namespaced elements (\u003cfb:name\u003e) and selectors (fb|name)\n",
      "commitDate": "7/2/11, 4:11 AM",
      "commitName": "e5f6e084f755969196ca9a87c6b334f7125359aa",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "7/2/11, 4:11 AM",
      "commitNameOld": "0831a08ea788e93c68159318fe8880d435d40c23",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 21,
      "commitsBetweenForFile": 1,
      "actualSource": "private void parseEndTag() {\n    tq.consume(\"\u003c/\");\n    String tagName \u003d tq.consumeTagName();\n    tq.chompTo(\"\u003e\");\n    if (tagName.length() !\u003d 0) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        popStackToClose(tag);\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 119,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,9 +1,9 @@\n private void parseEndTag() {\n     tq.consume(\"\u003c/\");\n-    String tagName \u003d tq.consumeWord();\n+    String tagName \u003d tq.consumeTagName();\n     tq.chompTo(\"\u003e\");\n     if (tagName.length() !\u003d 0) {\n         Tag tag \u003d Tag.valueOf(tagName);\n         popStackToClose(tag);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "40a35750e655d5229744684086a9249b233058bf": {
      "type": "Ybodychange",
      "commitMessage": "String.isEmpty() and LinkedList.peekFirst() is not part of the Java 5.0 API.\n",
      "commitDate": "7/2/11, 4:11 AM",
      "commitName": "40a35750e655d5229744684086a9249b233058bf",
      "commitAuthor": "Eivind Uggedal",
      "commitDateOld": "7/2/11, 4:11 AM",
      "commitNameOld": "fcab98cdd311deb3dd4fd63fef2bc6c4c397f186",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "actualSource": "private void parseEndTag() {\n    tq.consume(\"\u003c/\");\n    String tagName \u003d tq.consumeWord();\n    tq.chompTo(\"\u003e\");\n    if (tagName.length() !\u003d 0) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        popStackToClose(tag);\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 105,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,9 +1,9 @@\n private void parseEndTag() {\n     tq.consume(\"\u003c/\");\n     String tagName \u003d tq.consumeWord();\n     tq.chompTo(\"\u003e\");\n-    if (!tagName.isEmpty()) {\n+    if (tagName.length() !\u003d 0) {\n         Tag tag \u003d Tag.valueOf(tagName);\n         popStackToClose(tag);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "e97f564d2450702d2b74ff35ecc5ad5c1e57fc0d": {
      "type": "Ybodychange",
      "commitMessage": "Implicit parent creation for elements, more general document structure creation.\n",
      "commitDate": "7/2/11, 4:11 AM",
      "commitName": "e97f564d2450702d2b74ff35ecc5ad5c1e57fc0d",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "7/2/11, 4:11 AM",
      "commitNameOld": "e2f6a9d19c7025431278f0d77085dde4dc2da798",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "private void parseEndTag() {\n    tq.consume(\"\u003c/\");\n    String tagName \u003d tq.consumeWord();\n    tq.chompTo(\"\u003e\");\n    if (!tagName.isEmpty()) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        popStackToClose(tag);\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 76,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,9 +1,9 @@\n private void parseEndTag() {\n     tq.consume(\"\u003c/\");\n     String tagName \u003d tq.consumeWord();\n     tq.chompTo(\"\u003e\");\n     if (!tagName.isEmpty()) {\n         Tag tag \u003d Tag.valueOf(tagName);\n-        Element closed \u003d popStackToClose(tag);\n+        popStackToClose(tag);\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "4bd743a3a5492d1d185bd21f421e49ce3a27af7c": {
      "type": "Ybodychange",
      "commitMessage": "Support for data only tags (script, textarea etc)\n",
      "commitDate": "7/2/11, 4:11 AM",
      "commitName": "4bd743a3a5492d1d185bd21f421e49ce3a27af7c",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "7/2/11, 4:11 AM",
      "commitNameOld": "04025259e96d3676097e84126fb55124b92c50ed",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "actualSource": "private void parseEndTag() {\n    tq.consume(\"\u003c/\");\n    String tagName \u003d tq.consumeWord();\n    tq.chompTo(\"\u003e\");\n    if (!tagName.isEmpty()) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        Element closed \u003d popStackToClose(tag);\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 79,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,11 +1,9 @@\n private void parseEndTag() {\n     tq.consume(\"\u003c/\");\n     String tagName \u003d tq.consumeWord();\n     tq.chompTo(\"\u003e\");\n     if (!tagName.isEmpty()) {\n         Tag tag \u003d Tag.valueOf(tagName);\n         Element closed \u003d popStackToClose(tag);\n-        if (closed !\u003d null \u0026\u0026 closed.getTag().equals(titleTag))\n-            doc.setTitle(closed.text());\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "03336ea9dd5d2aef2e31fe5e6402a04242f4d9f8": {
      "type": "Ybodychange",
      "commitMessage": "Pulled string matching stuff out of Parser ad into TokenQueue, for reuse in selector parser. Added som texts and corrected behaviour of parser.\n",
      "commitDate": "7/2/11, 4:11 AM",
      "commitName": "03336ea9dd5d2aef2e31fe5e6402a04242f4d9f8",
      "commitAuthor": "Jonathan Hedley",
      "commitDateOld": "7/2/11, 4:11 AM",
      "commitNameOld": "2f0a7bf507020d98b3bdbf0a93bb1c753dd90268",
      "commitAuthorOld": "Jonathan Hedley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "actualSource": "private void parseEndTag() {\n    tq.consume(\"\u003c/\");\n    String tagName \u003d tq.consumeWord();\n    tq.chompTo(\"\u003e\");\n    if (!tagName.isEmpty()) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        Element closed \u003d popStackToClose(tag);\n        if (closed !\u003d null \u0026\u0026 closed.getTag().equals(titleTag))\n            doc.setTitle(closed.text());\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 78,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": "",
      "diff": "@@ -1,9 +1,11 @@\n private void parseEndTag() {\n-    consume(\"\u003c/\");\n-    String tagName \u003d consumeWord();\n-    chompTo(\"\u003e\");\n+    tq.consume(\"\u003c/\");\n+    String tagName \u003d tq.consumeWord();\n+    tq.chompTo(\"\u003e\");\n     if (!tagName.isEmpty()) {\n         Tag tag \u003d Tag.valueOf(tagName);\n-        popStackToClose(tag);\n+        Element closed \u003d popStackToClose(tag);\n+        if (closed !\u003d null \u0026\u0026 closed.getTag().equals(titleTag))\n+            doc.setTitle(closed.text());\n     }\n }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "2f0a7bf507020d98b3bdbf0a93bb1c753dd90268": {
      "type": "Yintroduced",
      "commitMessage": "Reimplemented parser.\n",
      "commitDate": "7/2/11, 4:11 AM",
      "commitName": "2f0a7bf507020d98b3bdbf0a93bb1c753dd90268",
      "commitAuthor": "Jonathan Hedley",
      "diff": "@@ -0,0 +1,9 @@\n+private void parseEndTag() {\n+    consume(\"\u003c/\");\n+    String tagName \u003d consumeWord();\n+    chompTo(\"\u003e\");\n+    if (!tagName.isEmpty()) {\n+        Tag tag \u003d Tag.valueOf(tagName);\n+        popStackToClose(tag);\n+    }\n+}\n\\ No newline at end of file\n",
      "actualSource": "private void parseEndTag() {\n    consume(\"\u003c/\");\n    String tagName \u003d consumeWord();\n    chompTo(\"\u003e\");\n    if (!tagName.isEmpty()) {\n        Tag tag \u003d Tag.valueOf(tagName);\n        popStackToClose(tag);\n    }\n}",
      "path": "src/main/java/org/jsoup/parser/Parser.java",
      "functionStartLine": 80,
      "functionName": "parseEndTag",
      "functionAnnotation": "",
      "functionDoc": ""
    }
  }
}